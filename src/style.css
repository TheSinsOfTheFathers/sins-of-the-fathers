@import "tailwindcss";
@config "../tailwind.config.js";

/* =========================================
   Base Styles & Scrollbar
   =========================================*/
/* =========================================
   GLOBAL EFFECTS
   ========================================= */
.noise-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    pointer-events: none;
    z-index: 50;
    opacity: 0.05;
    background: url('data:image/svg+xml;utf8,%3Csvg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg"%3E%3Cfilter id="noiseFilter"%3E%3CfeTurbulence type="fractalNoise" baseFrequency="0.65" numOctaves="3" stitchTiles="stitch"/%3E%3C/filter%3E%3Crect width="100%25" height="100%25" filter="url(%23noiseFilter)"/%3E%3C/svg%3E');
    mix-blend-mode: overlay;
}

/* Base Styles */
body {
  background-color: var(--bg-obsidian);
  color: var(--text-offwhite);
  font-family: 'Lato', sans-serif;
  overflow-x: hidden;

  ::selection {
    background: #D4AF37;
    /* Gold */
    color: #000;
  }
}

/* Scrollbar Özelleştirme */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: #050505;
}

::-webkit-scrollbar-thumb {
  background: #333;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: #555;
}

/* =========================================
  Lenis (Smooth Scroll) Setup
  ========================================= */
html {
  scroll-padding-top: 80px;
}

html.lenis {
  height: auto;
}

.lenis.lenis-smooth {
  scroll-behavior: auto !important;
}

.lenis.lenis-stopped {
  overflow: hidden;
  height: 100%;
}

.lenis.lenis-smooth [data-lenis-prevent] {
  overscroll-behavior: contain;
}

.lenis.lenis-scrolling iframe {
  pointer-events: none;
}

/* =========================================
  Atmosferik Efektler (Noise & Vignette)
  ========================================= */
/* Chat Log Area */
.silvio-chat-log {
  flex: 1;
  overflow-y: auto;
  padding: 20px;
  scroll-behavior: smooth;
  position: relative;
  z-index: 10;
  pointer-events: auto;
  /* Enable interaction */
  height: 100%;
  /* Ensure it takes height */
}

.noise-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 50;
  /* Base64 SVG Noise Pattern REMOVED for Performance */
  /* background: url('...'); */
  background: transparent;
  opacity: 0;
  display: none;
  /* User reported lag */
}

.vignette {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 40;
  background: radial-gradient(circle, rgba(0, 0, 0, 0) 50%, rgba(0, 0, 0, 1) 100%);
}

/* =========================================
  UI Components (Utilities & Hamburger)
  ========================================= */

/* Loading Blur Utilities */
.loading-blur {
  filter: blur(4px);
  transition: filter 0.5s ease;
}

.loaded {
  filter: blur(0);
}

/* Hamburger Animation */
#hamburger-button span {
  transition: 0.3s;
}

#hamburger-button.active span:nth-child(1) {
  transform: rotate(45deg) translate(5px, 6px);
}

#hamburger-button.active span:nth-child(2) {
  opacity: 0;
}

#hamburger-button.active span:nth-child(3) {
  transform: rotate(-45deg) translate(5px, -6px);
}

/* =========================================
  D3.js Graph Styles
  ========================================= */
.node circle {
  fill: #000;
  stroke: #c5a059;
  /* Gold variant */
  stroke-width: 1.5px;
  transition: all 0.3s ease;
}

.node circle:hover {
  fill: #c5a059;
  cursor: pointer;
}

.node text {
  font-family: 'Courier Prime', monospace;
  font-size: 12px;
  fill: #a3a3a3;
  pointer-events: none;
  font-display: swap;
}

.link {
  fill: none;
  stroke: #333;
  stroke-width: 1px;
  opacity: 0.6;
}

/* =========================================
  Characters Page Specific
  ========================================= */
.grid-bg {
  background-image: linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
  background-size: 30px 30px;
}

/* =========================================
  Faction Detail Page Specific
========================================= */

/* Dynamic Theme Variable Default (JS will override this) */
:root {
  --theme-color: #c5a059;
}

/* Faction Specific UI Elements */
.hq-border-top {
  border-top: 2px solid var(--theme-color);
}

.hq-text {
  color: var(--theme-color);
}

.hq-bg-glow {
  background: radial-gradient(circle, var(--theme-color) 0%, transparent 70%);
  opacity: 0.1;
}

/* Roster Card Hover Effect */
.roster-card {
  transition: all 0.3s ease;
}

.roster-card:hover {
  border-color: var(--theme-color);
  transform: translateY(-2px);
}

/* Threat Level Indicators */
.threat-bar {
  width: 0.5rem;
  /* w-2 */
  height: 1.5rem;
  /* h-6 */
  background-color: #1f2937;
  /* bg-gray-800 */
  transition: background-color 0.5s ease;
}

.threat-bar.active {
  background-color: var(--theme-color);
  box-shadow: 0 0 5px var(--theme-color);
}

/* Leaflet Map "Noir" Mode Override */
.leaflet-container {
  background: #050505 !important;
}

.leaflet-control-attribution {
  display: none !important;
}

/* =========================================
   Factions Page Specific
   ========================================= */

/* Radar Loading Animation */
.radar-sweep {
  width: 100%;
  height: 100%;
  background: conic-gradient(from 0deg, transparent 0deg, rgba(197, 160, 89, 0.4) 360deg);
  border-radius: 50%;
  animation: radar 2s linear infinite;
}

@keyframes radar {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
}

/* Faction Card: Common */
.faction-card {
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.faction-card:hover {
  transform: translateY(-5px);
}

/* Faction Card: The Old World (Macpherson) - Organic, Bloody */
.faction-card.old-world {
  border: 1px solid #4a0404;
  background: linear-gradient(to bottom, #1a0505, #050505);
  box-shadow: 0 4px 20px rgba(74, 4, 4, 0.2);
}

.faction-card.old-world:hover {
  box-shadow: 0 10px 30px rgba(185, 28, 28, 0.3);
  border-color: #b91c1c;
}

.faction-card.old-world h3 {
  color: #b91c1c;
  font-family: 'Cinzel', serif;
  font-display: swap;
}

.faction-card.old-world .stat-fill {
  background-color: #7f1d1d;
}

/* Faction Card: The New Order (Ravenwood) - Cold, Metallic */
.faction-card.new-world {
  border: 1px solid #334155;
  border-top: 1px solid #c5a059;
  background: linear-gradient(135deg, #0f172a 0%, #000000 100%);
  box-shadow: 0 4px 20px rgba(197, 160, 89, 0.1);
}

.faction-card.new-world:hover {
  box-shadow: 0 10px 30px rgba(197, 160, 89, 0.2);
  border-color: #c5a059;
}

.faction-card.new-world h3 {
  color: #c5a059;
  font-family: 'Cinzel', serif;
  letter-spacing: 0.1em;
  font-display: swap;
}

.faction-card.new-world .stat-fill {
  background-color: #c5a059;
}

/* =========================================
   Locations Page Specific (Map UI)
   ========================================= */

/* Leaflet Map Filters (Noir Theme) */
.leaflet-layer {
  filter: brightness(0.6) contrast(1.1);
}

.leaflet-container {
  background: #080808 !important;
}

/* Overlay Patterns */
.map-grid {
  background-image:
    linear-gradient(rgba(197, 160, 89, 0.05) 1px, transparent 1px),
    linear-gradient(90deg, rgba(197, 160, 89, 0.05) 1px, transparent 1px);
  background-size: 60px 60px;
}

/* Scan Line Animation */
.scan-line {
  height: 3px;
  background: rgba(197, 160, 89, 0.2);
  box-shadow: 0 0 10px rgba(197, 160, 89, 0.4);
  animation: scan 4s linear infinite;
  pointer-events: none;
}

@keyframes scan {
  0% {
    transform: translateY(0);
  }

  100% {
    transform: translateY(100vh);
  }
}

/* Custom Leaflet Popups (Gold & Obsidian Theme) */
.leaflet-popup-content-wrapper {
  background: rgba(5, 5, 5, 0.95);
  border: 1px solid #c5a059;
  color: #ccc;
  border-radius: 0;
}

.leaflet-popup-tip {
  background: #c5a059;
}

.leaflet-popup-content {
  min-width: 190px !important;
}

.leaflet-popup-close-button {
  pointer-events: auto !important;
  cursor: pointer !important;
  z-index: 10 !important;
  color: #c5a059 !important;
}

.leaflet-popup-close-button:hover {
  color: #fff !important;
}

/* Custom Tactical Icon Animation */
.custom-tactical-icon .animate-spin-slow {
  animation: spin 10s linear infinite;
}

@keyframes spin {
  100% {
    transform: rotate(360deg);
  }
}

/* =========================================
   Login / Auth Page Specific
   ========================================= */

/* Terminal Input Style */
.terminal-input {
  background: transparent;
  border: none;
  border-bottom: 1px solid #333;
  color: #fff;
  border-radius: 0;
  padding: 10px 0;
  transition: all 0.3s ease;
}

.terminal-input:focus {
  outline: none;
  border-bottom: 1px solid #c5a059;
  /* Gold */
  box-shadow: 0 4px 6px -6px #c5a059;
}

/* Autocomplete Background Fix */
input:-webkit-autofill,
input:-webkit-autofill:hover,
input:-webkit-autofill:focus,
input:-webkit-autofill:active {
  -webkit-box-shadow: 0 0 0 30px #050505 inset !important;
  -webkit-text-fill-color: white !important;
  transition: background-color 5000s ease-in-out 0s;
}

/* Background Seal Animation */
.animate-spin-slow {
  animation: spin 60s linear infinite;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
}

/* Form Transition Helper */
.form-switch-transition {
  transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
}

/* =========================================
   Lore Detail Page Specific
   ========================================= */

/* Paper Texture Background */
.paper-bg {
  background-color: #181818;
  background-image:
    linear-gradient(to right, rgba(255, 255, 255, 0.02) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(255, 255, 255, 0.02) 1px, transparent 1px);
  background-size: 20px 20px;
  border-left: 4px solid #c5a059;
}

/* Typography Overrides for Documents */
.document-text p {
  margin-bottom: 1.5em;
  line-height: 1.8;
}

.document-text h3 {
  font-family: 'Cinzel', serif;
  color: #c5a059;
  margin-top: 2em;
  margin-bottom: 0.5em;
  font-display: swap;
}

/* Typewriter Cursor Animation */
.typewriter::after {
  content: '|';
  animation: cursor 1s infinite;
}

@keyframes cursor {

  0%,
  100% {
    opacity: 1;
  }

  50% {
    opacity: 0;
  }
}

/* =========================================
   Lore / Archives Page Specific
   ========================================= */

/* Masonry Layout Card Fixes */
.archive-card {
  break-inside: avoid;
  /* Kartların sütunlar arasında bölünmesini engeller */
  margin-bottom: 1.5rem;
  transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
  will-change: transform, opacity;
}

.archive-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.8);
  border-color: #c5a059;
  /* Gold */
}

/* Scrollbar Hiding for Filter Bar */
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

/* =========================================
   Legal & Privacy Page Specific
   ========================================= */

.legal-section h2 {
  border-bottom: 1px solid #333;
  padding-bottom: 0.5rem;
  margin-bottom: 1rem;
  margin-top: 2rem;
  color: #c5a059;
  /* Gold */
  font-family: 'Cinzel', serif;
  font-size: 1.25rem;
  font-display: swap;
}

.legal-section p {
  margin-bottom: 1rem;
  font-size: 1rem;
  line-height: 1.7;
  color: #d1d5db;
  /* Gray-300 */
}

.legal-section ul {
  list-style-type: disc;
  margin-left: 1.5rem;
  margin-bottom: 1rem;
  color: #9ca3af;
  /* Gray-400 */
}

.legal-section li {
  margin-bottom: 0.5rem;
}

.legal-section strong {
  color: #fff;
}

/* =========================================
   Profile / Operative Page Specific
   ========================================= */

/* Agent Input Field (Underline Style) */
.agent-input {
  background: transparent;
  border: none;
  border-bottom: 1px solid #333;
  color: #c5a059;
  width: 100%;
  padding: 8px 0;
  font-family: 'Courier Prime', monospace;
  transition: all 0.3s ease;
  font-display: swap;
}

.agent-input:focus {
  outline: none;
  border-color: #c5a059;
  background: linear-gradient(to right, rgba(197, 160, 89, 0.05), transparent);
}

.agent-input::placeholder {
  color: #444;
}

/* Allegiance Radio Selector */
.allegiance-radio:checked+div {
  border-color: #c5a059;
  background-color: rgba(197, 160, 89, 0.1);
}

.allegiance-radio:checked+div .check-icon {
  opacity: 1;
}

/* =========================================
   Timeline Page Specific
   ========================================= */

/* Custom Loading Spinner (Ring) */
.loading-ring {
  display: inline-block;
  width: 64px;
  height: 64px;
}

.loading-ring:after {
  content: " ";
  display: block;
  width: 46px;
  height: 46px;
  margin: 8px;
  border-radius: 50%;
  border: 2px solid #c5a059;
  /* Gold */
  border-color: #c5a059 transparent #c5a059 transparent;
  animation: ring 1.2s linear infinite;
}

@keyframes ring {
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
}

/* =========================================
   TIMELINE MAKEOVER STYLES
   ========================================= */

/* Central Line */
.timeline-line {
  width: 2px;
  background: linear-gradient(to bottom, 
    transparent 0%, 
    rgba(197, 160, 89, 0.2) 20%, 
    rgba(197, 160, 89, 0.8) 50%, 
    rgba(197, 160, 89, 0.2) 80%, 
    transparent 100%
  );
  background-size: 100% 200%;
  animation: flowLine 3s linear infinite;
  box-shadow: 0 0 15px rgba(197, 160, 89, 0.2);
}

@keyframes flowLine {
  0% { background-position: 0% 0%; }
  100% { background-position: 0% 100%; }
}

/* Timeline Node */
.timeline-node {
  background-color: #050505 !important;
  border: 1px solid #c5a059 !important;
  box-shadow: 0 0 10px rgba(197, 160, 89, 0.4), inset 0 0 5px rgba(197, 160, 89, 0.2);
  transition: all 0.5s ease;
}

.timeline-row:hover .timeline-node {
  background-color: #c5a059 !important;
  box-shadow: 0 0 20px rgba(197, 160, 89, 0.8), 0 0 40px rgba(197, 160, 89, 0.4);
  transform: translateX(-50%) scale(1.2);
}

/* Timeline Card - Glassmorphism & Noir */
.timeline-card {
  background: rgba(20, 20, 20, 0.6) !important;
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-left: 2px solid rgba(197, 160, 89, 0.3); /* Gold accent on left */
  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.5);
  transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  overflow: hidden;
}

.timeline-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(90deg, transparent, rgba(197, 160, 89, 0.5), transparent);
  opacity: 0;
  transition: opacity 0.4s ease;
}

.timeline-card:hover {
  transform: translateY(-5px) scale(1.02);
  border-color: rgba(197, 160, 89, 0.4);
  box-shadow: 0 10px 50px rgba(0, 0, 0, 0.8), 0 0 20px rgba(197, 160, 89, 0.1);
  background: rgba(30, 30, 30, 0.7) !important;
}

.timeline-card:hover::before {
  opacity: 1;
}

/* Typography & Content */
.timeline-card h3 {
  font-family: 'Cinzel', serif;
  letter-spacing: 0.05em;
  text-shadow: 0 2px 4px rgba(0,0,0,0.8);
}

.timeline-card .wysiwyg-content {
  font-family: 'Lato', sans-serif;
  font-weight: 300;
  color: #a3a3a3;
}

/* Media Containers */
.timeline-media,
.timeline-media img {
  border: 1px solid rgba(197, 160, 89, 0.2) !important;
  transition: border-color 0.3s ease;
}

.timeline-card:hover .timeline-media img {
  border-color: rgba(197, 160, 89, 0.6) !important;
}

/* Mobile Tweaks */
@media (max-width: 640px) {
    .timeline-content-wrapper {
        justify-content: center !important;
        padding: 0 !important;
    }
    
    .timeline-card {
        width: 100% !important;
        margin-bottom: 2rem;
        background-color: rgba(5, 5, 5, 0.95);
        z-index: 20;
    }

    /* Hide center line connector lines on mobile */
    .timeline-row::before { 
        display: none; 
    }
}

/* =========================================
  Leaflet Map Fixes
  ========================================= */
/* Fix for Tailwind CSS conflict with Leaflet tiles */
.leaflet-pane img,
.leaflet-tile,
.leaflet-marker-icon,
.leaflet-marker-shadow {
  max-width: none !important;
  max-height: none !important;
  width: auto;
  height: auto;
}

/* Ensure map container has z-index lower than overlay */
#map {
  z-index: 1;
}

/* Custom Popup Styles */
.custom-popup-theme .leaflet-popup-content-wrapper {
  background: rgba(10, 10, 10, 0.95);
  border: 1px solid rgba(197, 160, 89, 0.3);
  border-radius: 0;
  backdrop-filter: blur(8px);
  letter-spacing: 0.2em;
  display: none;
}

.silvio-processing.active {
  display: block;
}

.silvio-processing::after {
  content: '...';
  animation: dots 1.5s infinite;
}

@keyframes dots {
  0%, 20% { opacity: 0; }
  50% { opacity: 1; }
  100% { opacity: 0; }
}

/* Video Dynamics */
.video-background {
  transition: filter 1s ease;
  filter: brightness(var(--silvio-video-brightness)) grayscale(0.2);
}

.custom-popup-theme .leaflet-popup-content-wrapper {
  background: rgba(10, 10, 10, 0.95);
  border: 1px solid rgba(197, 160, 89, 0.3);
  border-radius: 0;
  backdrop-filter: blur(8px);
}

.custom-popup-theme .leaflet-popup-tip {
  background: rgba(10, 10, 10, 0.95);
  border: 1px solid rgba(197, 160, 89, 0.3);
}

/* =========================================
   Silvio Noir Chatbot Specific
   =========================================*/
/* --- SILVIO LUXURY NOIR DESIGN SYSTEM --- */

:root {
  --bg-obsidian: #050505;
  --bg-charcoal: #1a1a1a;
  --text-gold: #c5a059;
  --text-alert: #8a1c1c;
  --glass-border: rgba(197, 160, 89, 0.15);
  --glass-bg: rgba(5, 5, 5, 0.7);
  --font-display: 'Cinzel', serif;
  --font-body: 'Lato', sans-serif;
  --font-mono: 'Courier Prime', monospace;
}

/* Atmospheric Overlays */
.vignette-overlay {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 2;
  background: radial-gradient(circle at center, transparent 30%, rgba(5, 5, 5, 0.95) 100%);
}

.scanline-overlay {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 3;
  background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.1) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.03), rgba(0, 255, 0, 0.01), rgba(0, 0, 255, 0.03));
  background-size: 100% 3px, 3px 100%;
  opacity: 0.6;
}

/* Chat Container - The Terminal */
.silvio-chat-container {
  background: var(--glass-bg);
  border: 1px solid var(--glass-border);
  backdrop-filter: blur(20px); /* Restored per redesign request */
  box-shadow: 0 0 50px rgba(0, 0, 0, 0.8), inset 0 0 30px rgba(0, 0, 0, 0.5);
  border-radius: 2px;
  position: relative;
}

.silvio-chat-container::before {
  content: "";
  position: absolute;
  inset: -1px;
  border: 1px solid var(--text-gold);
  opacity: 0.1;
  pointer-events: none;
  z-index: 10;
  animation: border-pulse 4s infinite alternate;
}

@keyframes border-pulse {
  from { opacity: 0.1; box-shadow: 0 0 5px rgba(197, 160, 89, 0.1); }
  to { opacity: 0.3; box-shadow: 0 0 15px rgba(197, 160, 89, 0.2); }
}

.silvio-chat-log {
  mask-image: linear-gradient(to bottom, transparent, black 5%, black 95%, transparent);
  padding: 60px 40px !important;
  overscroll-behavior: contain;
  scroll-behavior: smooth;
  will-change: transform;
}

/* Custom Scrollbar */
.silvio-chat-log::-webkit-scrollbar {
  width: 4px;
}
.silvio-chat-log::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.5);
}
.silvio-chat-log::-webkit-scrollbar-thumb {
  background: var(--text-gold);
  border-radius: 0;
}

/* Message: Silvio (Intel Card) */
.silvio-message {
  background: rgba(10, 10, 12, 0.95);
  border-left: 3px solid var(--text-gold);
  border-top: 1px solid rgba(255, 255, 255, 0.05);
  border-right: 1px solid rgba(255, 255, 255, 0.05);
  border-bottom: 1px solid rgba(255, 255, 255, 0.05);
  padding: 30px 40px;
  margin: 30px 0;
  font-family: var(--font-mono);
  font-size: 15px;
  line-height: 1.8;
  color: #d4d4d4;
  position: relative;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
  transition: all 0.4s ease;
  will-change: transform, opacity;
}

.silvio-message:hover {
  transform: translateX(5px);
  box-shadow: 0 15px 40px rgba(0, 0, 0, 0.6);
  border-left-color: #fff;
}

/* Mic Button & Animation */
.silvio-mic-btn {
  color: var(--silvio-accent);
  cursor: pointer;
  background: transparent;
  border: none;
}

.silvio-mic-btn.listening {
  color: #ff3b3b; /* Recording red */
  animation: mic-pulse 1.5s infinite;
}

@keyframes mic-pulse {
  0% { transform: scale(1); text-shadow: 0 0 0 rgba(255, 59, 59, 0.4); }
  50% { transform: scale(1.2); text-shadow: 0 0 10px rgba(255, 59, 59, 0.8); }
  100% { transform: scale(1); text-shadow: 0 0 0 rgba(255, 59, 59, 0.4); }
}

.silvio-msg-header {
  font-family: var(--font-display);
  font-size: 10px;
  letter-spacing: 0.2em;
  color: var(--text-gold);
  opacity: 0.7;
  margin-bottom: 15px;
  display: block;
  border-bottom: 1px solid rgba(197, 160, 89, 0.1);
  padding-bottom: 10px;
}

/* Message: User (Minimal) */
.user-message {
  text-align: right;
  font-family: var(--font-body);
  color: #fff;
  background: transparent;
  border-right: 1px solid rgba(255, 255, 255, 0.3);
  padding: 10px 25px;
  margin: 20px 0 20px auto;
  max-width: 80%;
  font-weight: 300;
  font-size: 16px;
  letter-spacing: 0.05em;
  backdrop-filter: blur(5px);
}

/* Typography Highlights */
.silvio-message strong {
  color: var(--text-gold);
  font-weight: 700;
  text-shadow: 0 0 15px rgba(197, 160, 89, 0.3);
}

.silvio-message .highlight {
  background: rgba(197, 160, 89, 0.15);
  color: var(--text-gold);
  padding: 2px 6px;
  border: 1px solid rgba(197, 160, 89, 0.2);
  font-family: var(--font-display);
  font-size: 0.85em;
  letter-spacing: 0.1em;
}

/* Input Area (Brutalist) */
.silvio-input-area {
  background: linear-gradient(to top, #000 40%, transparent 100%);
  padding-bottom: 30px;
}

.silvio-input-wrapper {
  position: relative;
}

.silvio-input {
  font-family: var(--font-mono);
  letter-spacing: 0.05em;
  font-size: 14px;
}

.silvio-input::placeholder {
  font-family: var(--font-body);
  font-style: italic;
  letter-spacing: 0.1em;
  opacity: 0.4;
}

.silvio-send-btn i {
  filter: drop-shadow(0 0 5px rgba(197, 160, 89, 0.7));
}

/* Processing Indicator (Waveform style text) */
.silvio-processing {
  font-family: var(--font-mono);
  color: var(--text-alert); /* Changed to red for 'processing/decrypting' feel */
  text-shadow: 0 0 8px rgba(138, 28, 28, 0.6);
  animation: pulse-alert 2s infinite;
}

@keyframes pulse-alert {
  0%, 100% { opacity: 0.6; }
  50% { opacity: 1; }
}

/* Omerta Overlay Refinements */
#omerta-overlay {
  background: radial-gradient(circle at center, #050505 40%, #000 100%);
}

.bg-obsidian {
  background-color: #050505;
}

/* Video Toggle */
#video-toggle {
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 56px;
  height: 56px;
  border-color: var(--text-gold);
  background: rgba(0, 0, 0, 0.8);
}

/* Dossier Marker */
.dossier-marker {
    display: block;
    font-family: 'Cinzel', serif;
    font-size: 10px;
    letter-spacing: 0.2em;
    color: var(--silvio-gold);
    margin-bottom: 12px;
    opacity: 0.8;
    text-transform: uppercase;
}

/* --- OMERTA v3 TERMINAL STYLES --- */

@keyframes scanline {
  0% { transform: translateY(-100%); }
  100% { transform: translateY(100%); }
}

.animate-scanline {
  animation: scanline 8s linear infinite;
}

/* Glitch Effect */
.glitch-text {
  position: relative;
}

.glitch-text::before,
.glitch-text::after {
  content: attr(data-text);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: black; /* match bg */
}

.glitch-text::before {
  left: 2px;
  text-shadow: -1px 0 red;
  clip: rect(24px, 550px, 90px, 0);
  animation: glitch-anim-1 3s infinite linear alternate-reverse;
}

.glitch-text::after {
  left: -2px;
  text-shadow: -1px 0 blue;
  clip: rect(85px, 550px, 140px, 0);
  animation: glitch-anim-2 2s infinite linear alternate-reverse;
}

@keyframes glitch-anim-1 {
  0% { clip: rect(20px, 9999px, 15px, 0); }
  20% { clip: rect(60px, 9999px, 70px, 0); }
  40% { clip: rect(20px, 9999px, 25px, 0); }
  60% { clip: rect(80px, 9999px, 5px, 0); }
  80% { clip: rect(5px, 9999px, 85px, 0); }
  100% { clip: rect(60px, 9999px, 65px, 0); }
}

@keyframes glitch-anim-2 {
  0% { clip: rect(25px, 9999px, 90px, 0); }
  20% { clip: rect(75px, 9999px, 5px, 0); }
  40% { clip: rect(10px, 9999px, 45px, 0); }
  60% { clip: rect(50px, 9999px, 20px, 0); }
  80% { clip: rect(5px, 9999px, 80px, 0); }
  100% { clip: rect(90px, 9999px, 40px, 0); }
}

/* CRT Turn Off Animation */
@keyframes tv-off {
  0% { transform: scale(1, 1); opacity: 1; filter: brightness(1); }
  40% { transform: scale(1, 0.005); opacity: 1; filter: brightness(2); }
  70% { transform: scale(0.01, 0.005); opacity: 1; }
  100% { transform: scale(0, 0); opacity: 0; }
}

.tv-off-effect {
  animation: tv-off 0.6s cubic-bezier(0.23, 1, 0.32, 1) forwards;
}

/* Custom Easing for Blood Fingerprint */
.ease-elastic-out {
  transition-timing-function: cubic-bezier(0.34, 1.56, 0.64, 1);
}
