const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/character-detail-loader-RjNRRv5p.js","assets/sanityClient-DzZXYHaN.js","assets/imageUtils-LD6ZRw5p.js","assets/seo-DYcZ_Lxp.js","assets/character-loader-DsJypAmq.js","assets/faction-detail-loader-B-338A4K.js","assets/faction-loader-C6RM5Yp1.js","assets/location-detail-loader-CJeQwqlG.js","assets/location-loader-B3A4Gfcz.js","assets/lore-detail-loader-D6Fr8u_f.js","assets/lore-loader-DAL7vCJm.js","assets/map-loader-DTJmICB5.js","assets/timeline-loader-Bl_6LujT.js"])))=>i.map(i=>d[i]);
import De from"https://esm.sh/i18next@23.7.6";import tb from"https://esm.sh/i18next-http-backend@2.4.1";import eb from"https://esm.sh/i18next-browser-languagedetector@7.2.0";import{initializeApp as nb}from"https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";import{getFirestore as rb,setDoc as Sp,doc as bp,serverTimestamp as Ep}from"https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";import{getAnalytics as ib}from"https://www.gstatic.com/firebasejs/10.12.2/firebase-analytics.js";import{getAuth as sb,GoogleAuthProvider as ob,createUserWithEmailAndPassword as ab,signInWithEmailAndPassword as cb,onAuthStateChanged as ub,signOut as lb,signInWithPopup as db}from"https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";import{getFunctions as fb,httpsCallable as xu}from"https://www.gstatic.com/firebasejs/10.12.2/firebase-functions.js";import{getStorage as pb}from"https://www.gstatic.com/firebasejs/10.12.2/firebase-storage.js";import{initializeAppCheck as hb,ReCaptchaV3Provider as mb}from"https://www.gstatic.com/firebasejs/10.12.2/firebase-app-check.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const gb="modulepreload",_b=function(e){return"/"+e},vp={},Je=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(l=>Promise.resolve(l).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");i=c(n.map(u=>{if(u=_b(u),u in vp)return;vp[u]=!0;const l=u.endsWith(".css"),d=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const p=document.createElement("link");if(p.rel=l?"stylesheet":gb,l||(p.as="script"),p.crossOrigin="",p.href=u,a&&p.setAttribute("nonce",a),document.head.appendChild(p),l)return new Promise((f,h)=>{p.addEventListener("load",f),p.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},z=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,bt=globalThis,di="10.27.0";function Fi(){return Qc(bt),bt}function Qc(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||di,t[di]=t[di]||{}}function Ls(e,t,n=bt){const r=n.__SENTRY__=n.__SENTRY__||{},i=r[di]=r[di]||{};return i[e]||(i[e]=t())}const yb=["debug","info","warn","error","log","assert","trace"],Sb="Sentry Logger ",mc={};function $s(e){if(!("console"in bt))return e();const t=bt.console,n={},r=Object.keys(mc);r.forEach(i=>{const s=mc[i];n[i]=t[i],t[i]=s});try{return e()}finally{r.forEach(i=>{t[i]=n[i]})}}function bb(){Nd().enabled=!0}function Eb(){Nd().enabled=!1}function gg(){return Nd().enabled}function vb(...e){Dd("log",...e)}function Tb(...e){Dd("warn",...e)}function wb(...e){Dd("error",...e)}function Dd(e,...t){z&&gg()&&$s(()=>{bt.console[e](`${Sb}[${e}]:`,...t)})}function Nd(){return z?Ls("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const N={enable:bb,disable:Eb,isEnabled:gg,log:vb,warn:Tb,error:wb},_g=50,Ii="?",Tp=/\(error: (.*)\)/,wp=/captureMessage|captureException/;function yg(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,i=0)=>{const s=[],o=n.split(`
`);for(let a=r;a<o.length;a++){let c=o[a];c.length>1024&&(c=c.slice(0,1024));const u=Tp.test(c)?c.replace(Tp,"$1"):c;if(!u.match(/\S*Error: /)){for(const l of t){const d=l(u);if(d){s.push(d);break}}if(s.length>=_g+i)break}}return kb(s.slice(i))}}function Ib(e){return Array.isArray(e)?yg(...e):e}function kb(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(ba(t).function||"")&&t.pop(),t.reverse(),wp.test(ba(t).function||"")&&(t.pop(),wp.test(ba(t).function||"")&&t.pop()),t.slice(0,_g).map(n=>({...n,filename:n.filename||ba(t).filename,function:n.function||Ii}))}function ba(e){return e[e.length-1]||{}}const Cu="<anonymous>";function Br(e){try{return!e||typeof e!="function"?Cu:e.name||Cu}catch{return Cu}}function Ip(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}function Sg(e){return"__v_isVNode"in e&&e.__v_isVNode?"[VueVNode]":"[VueViewModel]"}const Va={},kp={};function Jo(e,t){Va[e]=Va[e]||[],Va[e].push(t)}function Qo(e,t){if(!kp[e]){kp[e]=!0;try{t()}catch(n){z&&N.error(`Error while instrumenting ${e}`,n)}}}function fi(e,t){const n=e&&Va[e];if(n)for(const r of n)try{r(t)}catch(i){z&&N.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Br(r)}
Error:`,i)}}let Ru=null;function bg(e){const t="error";Jo(t,e),Qo(t,xb)}function xb(){Ru=bt.onerror,bt.onerror=function(e,t,n,r,i){return fi("error",{column:r,error:i,line:n,msg:e,url:t}),Ru?Ru.apply(this,arguments):!1},bt.onerror.__SENTRY_INSTRUMENTED__=!0}let Au=null;function Eg(e){const t="unhandledrejection";Jo(t,e),Qo(t,Cb)}function Cb(){Au=bt.onunhandledrejection,bt.onunhandledrejection=function(e){return fi("unhandledrejection",e),Au?Au.apply(this,arguments):!0},bt.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const vg=Object.prototype.toString;function Ld(e){switch(vg.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return hr(e,Error)}}function Fs(e,t){return vg.call(e)===`[object ${t}]`}function Tg(e){return Fs(e,"ErrorEvent")}function xp(e){return Fs(e,"DOMError")}function Rb(e){return Fs(e,"DOMException")}function xo(e){return Fs(e,"String")}function $d(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function Zc(e){return e===null||$d(e)||typeof e!="object"&&typeof e!="function"}function Co(e){return Fs(e,"Object")}function tu(e){return typeof Event<"u"&&hr(e,Event)}function Ab(e){return typeof Element<"u"&&hr(e,Element)}function Mb(e){return Fs(e,"RegExp")}function Zo(e){return!!(e?.then&&typeof e.then=="function")}function Ob(e){return Co(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function hr(e,t){try{return e instanceof t}catch{return!1}}function wg(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue||e.__v_isVNode))}function Ig(e){return typeof Request<"u"&&hr(e,Request)}const Fd=bt,Pb=80;function kg(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,i=[];let s=0,o=0;const a=" > ",c=a.length;let u;const l=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||Pb;for(;n&&s++<r&&(u=Db(n,l),!(u==="html"||s>1&&o+i.length*c+u.length>=d));)i.push(u),o+=u.length,n=n.parentNode;return i.reverse().join(a)}catch{return"<unknown>"}}function Db(e,t){const n=e,r=[];if(!n?.tagName)return"";if(Fd.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=t?.length?t.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(i?.length)i.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&xo(o)){const a=o.split(/\s+/);for(const c of a)r.push(`.${c}`)}}const s=["aria-label","type","name","title","alt"];for(const o of s){const a=n.getAttribute(o);a&&r.push(`[${o}="${a}"]`)}return r.join("")}function ta(){try{return Fd.document.location.href}catch{return""}}function Nb(e){if(!Fd.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function or(e,t,n){if(!(t in e))return;const r=e[t];if(typeof r!="function")return;const i=n(r);typeof i=="function"&&xg(i,r);try{e[t]=i}catch{z&&N.log(`Failed to replace method "${t}" in object`,e)}}function Dn(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{z&&N.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function xg(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,Dn(e,"__sentry_original__",t)}catch{}}function Bd(e){return e.__sentry_original__}function Cg(e){if(Ld(e))return{message:e.message,name:e.name,stack:e.stack,...Rp(e)};if(tu(e)){const t={type:e.type,target:Cp(e.target),currentTarget:Cp(e.currentTarget),...Rp(e)};return typeof CustomEvent<"u"&&hr(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function Cp(e){try{return Ab(e)?kg(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function Rp(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function Lb(e){const t=Object.keys(Cg(e));return t.sort(),t[0]?t.join(", "):"[object has no keys]"}function Sl(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Ap(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const i=e[r];try{wg(i)?n.push(Sg(i)):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function Ga(e,t,n=!1){return xo(e)?Mb(t)?t.test(e):xo(t)?n?e===t:e.includes(t):!1:!1}function pi(e,t=[],n=!1){return t.some(r=>Ga(e,r,n))}function $b(){const e=bt;return e.crypto||e.msCrypto}let Mu;function Fb(){return Math.random()*16}function An(e=$b()){try{if(e?.randomUUID)return e.randomUUID().replace(/-/g,"")}catch{}return Mu||(Mu="10000000100040008000"+1e11),Mu.replace(/[018]/g,t=>(t^(Fb()&15)>>t/4).toString(16))}function Rg(e){return e.exception?.values?.[0]}function oi(e){const{message:t,event_id:n}=e;if(t)return t;const r=Rg(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function bl(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{};s.value||(s.value=t||""),s.type||(s.type="Error")}function bs(e,t){const n=Rg(e);if(!n)return;const r={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...r,...i,...t},t&&"data"in t){const s={...i?.data,...t.data};n.mechanism.data=s}}function Mp(e){if(Bb(e))return!0;try{Dn(e,"__sentry_captured__",!0)}catch{}return!1}function Bb(e){try{return e.__sentry_captured__}catch{}}const Ag=1e3;function Bi(){return Date.now()/Ag}function Ub(){const{performance:e}=bt;if(!e?.now||!e.timeOrigin)return Bi;const t=e.timeOrigin;return()=>(t+e.now())/Ag}let Op;function an(){return(Op??(Op=Ub()))()}let Ou;function zb(){const{performance:e}=bt;if(!e?.now)return[void 0,"none"];const t=3600*1e3,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,s=i<t,o=e.timing?.navigationStart,c=typeof o=="number"?Math.abs(o+n-r):t,u=c<t;return s||u?i<=c?[e.timeOrigin,"timeOrigin"]:[o,"navigationStart"]:[r,"dateNow"]}function Hb(){return Ou||(Ou=zb()),Ou[0]}function Wb(e){const t=an(),n={sid:An(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>qb(n)};return e&&Es(n,e),n}function Es(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||an(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:An()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function jb(e,t){let n={};e.status==="ok"&&(n={status:"exited"}),Es(e,n)}function qb(e){return{sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}function ea(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&Object.keys(t).length===0)return e;const r={...e};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=ea(r[i],t[i],n-1));return r}function mr(){return An()}function ur(){return An().substring(16)}const El="_sentrySpan";function Ro(e,t){t?Dn(e,El,t):delete e[El]}function gc(e){return e[El]}const Yb=100;let ki=class vl{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._attributes={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:mr(),sampleRand:Math.random()}}clone(){const t=new vl;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._attributes={...this._attributes},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,Ro(t,gc(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Es(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this.setTags({[t]:n})}setAttributes(t){return this._attributes={...this._attributes,...t},this._notifyScopeListeners(),this}setAttribute(t,n){return this.setAttributes({[t]:n})}removeAttribute(t){return t in this._attributes&&(delete this._attributes[t],this._notifyScopeListeners()),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,r=n instanceof vl?n.getScopeData():Co(n)?t:void 0,{tags:i,attributes:s,extra:o,user:a,contexts:c,level:u,fingerprint:l=[],propagationContext:d}=r||{};return this._tags={...this._tags,...i},this._attributes={...this._attributes,...s},this._extra={...this._extra,...o},this._contexts={...this._contexts,...c},a&&Object.keys(a).length&&(this._user=a),u&&(this._level=u),l.length&&(this._fingerprint=l),d&&(this._propagationContext=d),this}clear(){return this._breadcrumbs=[],this._tags={},this._attributes={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,Ro(this,void 0),this._attachments=[],this.setPropagationContext({traceId:mr(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:Yb;if(r<=0)return this;const i={timestamp:Bi(),...t,message:t.message?Sl(t.message,2048):t.message};return this._breadcrumbs.push(i),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,attributes:this._attributes,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:gc(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=ea(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n?.event_id||An();if(!this._client)return z&&N.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},this),r}captureMessage(t,n,r){const i=r?.event_id||An();if(!this._client)return z&&N.warn("No client configured on scope - will not capture message!"),i;const s=r?.syntheticException??new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:s,...r,event_id:i},this),i}captureEvent(t,n){const r=n?.event_id||An();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(z&&N.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}};function Vb(){return Ls("defaultCurrentScope",()=>new ki)}function Gb(){return Ls("defaultIsolationScope",()=>new ki)}let Xb=class{constructor(t,n){let r;t?r=t:r=new ki;let i;n?i=n:i=new ki,this._stack=[{scope:r}],this._isolationScope=i}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(i){throw this._popScope(),i}return Zo(r)?r.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}};function vs(){const e=Fi(),t=Qc(e);return t.stack=t.stack||new Xb(Vb(),Gb())}function Kb(e){return vs().withScope(e)}function Jb(e,t){const n=vs();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function Pp(e){return vs().withScope(()=>e(vs().getIsolationScope()))}function Qb(){return{withIsolationScope:Pp,withScope:Kb,withSetScope:Jb,withSetIsolationScope:(e,t)=>Pp(t),getCurrentScope:()=>vs().getScope(),getIsolationScope:()=>vs().getIsolationScope()}}function Bs(e){const t=Qc(e);return t.acs?t.acs:Qb()}function Jt(){const e=Fi();return Bs(e).getCurrentScope()}function Ui(){const e=Fi();return Bs(e).getIsolationScope()}function Zb(){return Ls("globalScope",()=>new ki)}function Ud(...e){const t=Fi(),n=Bs(t);if(e.length===2){const[r,i]=e;return r?n.withSetScope(r,i):n.withScope(i)}return n.withScope(e[0])}function It(){return Jt().getClient()}function tE(e){const t=e.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:i}=t,s={trace_id:n,span_id:i||ur()};return r&&(s.parent_span_id=r),s}const ar="sentry.source",zd="sentry.sample_rate",Mg="sentry.previous_trace_sample_rate",Ao="sentry.op",xi="sentry.origin",Mo="sentry.idle_span_finish_reason",eE="sentry.measurement_unit",nE="sentry.measurement_value",Dp="sentry.custom_span_name",Hd="sentry.profile_id",Wd="sentry.exclusive_time",rE="sentry.link.type",iE=0,jd=1,le=2;function sE(e){if(e<400&&e>=100)return{code:jd};if(e>=400&&e<500)switch(e){case 401:return{code:le,message:"unauthenticated"};case 403:return{code:le,message:"permission_denied"};case 404:return{code:le,message:"not_found"};case 409:return{code:le,message:"already_exists"};case 413:return{code:le,message:"failed_precondition"};case 429:return{code:le,message:"resource_exhausted"};case 499:return{code:le,message:"cancelled"};default:return{code:le,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:le,message:"unimplemented"};case 503:return{code:le,message:"unavailable"};case 504:return{code:le,message:"deadline_exceeded"};default:return{code:le,message:"internal_error"}}return{code:le,message:"internal_error"}}function Og(e,t){e.setAttribute("http.response.status_code",t);const n=sE(t);n.message!=="unknown_error"&&e.setStatus(n)}const Pg="_sentryScope",Dg="_sentryIsolationScope";function oE(e){try{const t=bt.WeakRef;if(typeof t=="function")return new t(e)}catch{}return e}function aE(e){if(e){if(typeof e=="object"&&"deref"in e&&typeof e.deref=="function")try{return e.deref()}catch{return}return e}}function cE(e,t,n){e&&(Dn(e,Dg,oE(n)),Dn(e,Pg,t))}function _c(e){const t=e;return{scope:t[Pg],isolationScope:aE(t[Dg])}}const qd="sentry-",uE=/^sentry-/,lE=8192;function Ng(e){const t=fE(e);if(!t)return;const n=Object.entries(t).reduce((r,[i,s])=>{if(i.match(uE)){const o=i.slice(qd.length);r[o]=s}return r},{});if(Object.keys(n).length>0)return n}function dE(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,i])=>(i&&(n[`${qd}${r}`]=i),n),{});return pE(t)}function fE(e){if(!(!e||!xo(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=Np(n);return Object.entries(r).forEach(([i,s])=>{t[i]=s}),t},{}):Np(e)}function Np(e){return e.split(",").map(t=>{const n=t.indexOf("=");if(n===-1)return[];const r=t.slice(0,n),i=t.slice(n+1);return[r,i].map(s=>{try{return decodeURIComponent(s.trim())}catch{return}})}).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function pE(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],i)=>{const s=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,o=i===0?s:`${t},${s}`;return o.length>lE?(z&&N.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):o},"")}const hE=/^o(\d+)\./,mE=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function gE(e){return e==="http"||e==="https"}function Us(e,t=!1){const{host:n,path:r,pass:i,port:s,projectId:o,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&i?`:${i}`:""}@${n}${s?`:${s}`:""}/${r&&`${r}/`}${o}`}function _E(e){const t=mE.exec(e);if(!t){$s(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,i="",s="",o="",a=""]=t.slice(1);let c="",u=a;const l=u.split("/");if(l.length>1&&(c=l.slice(0,-1).join("/"),u=l.pop()),u){const d=u.match(/^\d+/);d&&(u=d[0])}return Lg({host:s,pass:i,path:c,projectId:u,port:o,protocol:n,publicKey:r})}function Lg(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function yE(e){if(!z)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(o=>e[o]?!1:(N.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?gE(r)?t&&isNaN(parseInt(t,10))?(N.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(N.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(N.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function SE(e){return e.match(hE)?.[1]}function bE(e){const t=e.getOptions(),{host:n}=e.getDsn()||{};let r;return t.orgId?r=String(t.orgId):n&&(r=SE(n)),r}function EE(e){const t=typeof e=="string"?_E(e):Lg(e);if(!(!t||!yE(t)))return t}function Oo(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}const $g=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function vE(e){if(!e)return;const t=e.match($g);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function TE(e,t){const n=vE(e),r=Ng(t);if(!n?.traceId)return{traceId:mr(),sampleRand:Math.random()};const i=wE(n,r);r&&(r.sample_rand=i.toString());const{traceId:s,parentSpanId:o,parentSampled:a}=n;return{traceId:s,parentSpanId:o,sampled:a,dsc:r||{},sampleRand:i}}function Fg(e=mr(),t=ur(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function Bg(e=mr(),t=ur(),n){return`00-${e}-${t}-${n?"01":"00"}`}function wE(e,t){const n=Oo(t?.sample_rand);if(n!==void 0)return n;const r=Oo(t?.sample_rate);return r&&e?.parentSampled!==void 0?e.parentSampled?Math.random()*r:r+Math.random()*(1-r):Math.random()}const Ug=0,Yd=1;let Lp=!1;function IE(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:i,parent_span_id:s,status:o,origin:a,links:c}=Dt(e);return{parent_span_id:s,span_id:t,trace_id:n,data:r,op:i,status:o,origin:a,links:c}}function kE(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext(),i=r?t:Dt(e).parent_span_id,s=_c(e).scope,o=r?s?.getPropagationContext().propagationSpanId||ur():t;return{parent_span_id:i,span_id:o,trace_id:n}}function xE(e){const{traceId:t,spanId:n}=e.spanContext(),r=qr(e);return Fg(t,n,r)}function CE(e){const{traceId:t,spanId:n}=e.spanContext(),r=qr(e);return Bg(t,n,r)}function zg(e){if(e&&e.length>0)return e.map(({context:{spanId:t,traceId:n,traceFlags:r,...i},attributes:s})=>({span_id:t,trace_id:n,sampled:r===Yd,attributes:s,...i}))}function hi(e){return typeof e=="number"?$p(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?$p(e.getTime()):an()}function $p(e){return e>9999999999?e/1e3:e}function Dt(e){if(AE(e))return e.getSpanJSON();const{spanId:t,traceId:n}=e.spanContext();if(RE(e)){const{attributes:r,startTime:i,name:s,endTime:o,status:a,links:c}=e,u="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?e.parentSpanContext?.spanId:void 0;return{span_id:t,trace_id:n,data:r,description:s,parent_span_id:u,start_timestamp:hi(i),timestamp:hi(o)||void 0,status:Hg(a),op:r[Ao],origin:r[xi],links:zg(c)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function RE(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function AE(e){return typeof e.getSpanJSON=="function"}function qr(e){const{traceFlags:t}=e.spanContext();return t===Yd}function Hg(e){if(!(!e||e.code===iE))return e.code===jd?"ok":e.message||"internal_error"}const mi="_sentryChildSpans",Tl="_sentryRootSpan";function Wg(e,t){const n=e[Tl]||e;Dn(t,Tl,n),e[mi]?e[mi].add(t):Dn(e,mi,new Set([t]))}function ME(e,t){e[mi]&&e[mi].delete(t)}function Xa(e){const t=new Set;function n(r){if(!t.has(r)&&qr(r)){t.add(r);const i=r[mi]?Array.from(r[mi]):[];for(const s of i)n(s)}}return n(e),Array.from(t)}function Mn(e){return e[Tl]||e}function zs(){const e=Fi(),t=Bs(e);return t.getActiveSpan?t.getActiveSpan():gc(Jt())}function wl(){Lp||($s(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly or use `ignoreSpans`.")}),Lp=!0)}let Fp=!1;function OE(){if(Fp)return;function e(){const t=zs(),n=t&&Mn(t);if(n){const r="internal_error";z&&N.log(`[Tracing] Root span: ${r} -> Global error occurred`),n.setStatus({code:le,message:r})}}e.tag="sentry_tracingErrorCallback",Fp=!0,bg(e),Eg(e)}function On(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=e||It()?.getOptions();return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}function Bp(e){N.log(`Ignoring span ${e.op} - ${e.description} because it matches \`ignoreSpans\`.`)}function yc(e,t){if(!t?.length||!e.description)return!1;for(const n of t){if(DE(n)){if(Ga(e.description,n))return z&&Bp(e),!0;continue}if(!n.name&&!n.op)continue;const r=n.name?Ga(e.description,n.name):!0,i=n.op?e.op&&Ga(e.op,n.op):!0;if(r&&i)return z&&Bp(e),!0}return!1}function PE(e,t){const n=t.parent_span_id,r=t.span_id;if(n)for(const i of e)i.parent_span_id===r&&(i.parent_span_id=n)}function DE(e){return typeof e=="string"||e instanceof RegExp}const Vd="production",jg="_frozenDsc";function Ka(e,t){Dn(e,jg,t)}function qg(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},i={environment:n.environment||Vd,release:n.release,public_key:r,trace_id:e,org_id:bE(t)};return t.emit("createDsc",i),i}function Yg(e,t){const n=t.getPropagationContext();return n.dsc||qg(n.traceId,e)}function Ur(e){const t=It();if(!t)return{};const n=Mn(e),r=Dt(n),i=r.data,s=n.spanContext().traceState,o=s?.get("sentry.sample_rate")??i[zd]??i[Mg];function a(h){return(typeof o=="number"||typeof o=="string")&&(h.sample_rate=`${o}`),h}const c=n[jg];if(c)return a(c);const u=s?.get("sentry.dsc"),l=u&&Ng(u);if(l)return a(l);const d=qg(e.spanContext().traceId,t),p=i[ar],f=r.description;return p!=="url"&&f&&(d.transaction=f),On()&&(d.sampled=String(qr(n)),d.sample_rand=s?.get("sentry.sample_rand")??_c(n).scope?.getPropagationContext().sampleRand.toString()),a(d),t.emit("createDsc",d,n),d}let Ci=class{constructor(t={}){this._traceId=t.traceId||mr(),this._spanId=t.spanId||ur()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:Ug}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}};function er(e,t=100,n=1/0){try{return Il("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function Vg(e,t=3,n=100*1024){const r=er(e,t);return FE(r)>n?Vg(e,t-1,n):r}function Il(e,t,n=1/0,r=1/0,i=BE()){const[s,o]=i;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const a=NE(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(s(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const f=u.toJSON();return Il("",f,c-1,r,i)}catch{}const l=Array.isArray(t)?[]:{};let d=0;const p=Cg(t);for(const f in p){if(!Object.prototype.hasOwnProperty.call(p,f))continue;if(d>=r){l[f]="[MaxProperties ~]";break}const h=p[f];l[f]=Il(f,h,c-1,r,i),d++}return o(t),l}function NE(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(wg(t))return Sg(t);if(Ob(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${Br(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=LE(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function LE(e){const t=Object.getPrototypeOf(e);return t?.constructor?t.constructor.name:"null prototype"}function $E(e){return~-encodeURI(e).split(/%..|./).length}function FE(e){return $E(JSON.stringify(e))}function BE(){const e=new WeakSet;function t(r){return e.has(r)?!0:(e.add(r),!1)}function n(r){e.delete(r)}return[t,n]}function zi(e,t=[]){return[e,t]}function UE(e,t){const[n,r]=e;return[n,[...r,t]]}function Up(e,t){const n=e[1];for(const r of n){const i=r[0].type;if(t(r,i))return!0}return!1}function kl(e){const t=Qc(bt);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function zE(e){const[t,n]=e;let r=JSON.stringify(t);function i(s){typeof r=="string"?r=typeof s=="string"?r+s:[kl(r),s]:r.push(typeof s=="string"?kl(s):s)}for(const s of n){const[o,a]=s;if(i(`
${JSON.stringify(o)}
`),typeof a=="string"||a instanceof Uint8Array)i(a);else{let c;try{c=JSON.stringify(a)}catch{c=JSON.stringify(er(a))}i(c)}}return typeof r=="string"?r:HE(r)}function HE(e){const t=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}function WE(e){return[{type:"span"},e]}function jE(e){const t=typeof e.data=="string"?kl(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}const qE={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item",metric:"metric",trace_metric:"metric"};function zp(e){return qE[e]}function Gg(e){if(!e?.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function YE(e,t,n,r){const i=e.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:Us(r)},...i&&{trace:i}}}function VE(e,t){if(!t)return e;const n=e.sdk||{};return e.sdk={...n,name:n.name||t.name,version:n.version||t.version,integrations:[...e.sdk?.integrations||[],...t.integrations||[]],packages:[...e.sdk?.packages||[],...t.packages||[]],settings:e.sdk?.settings||t.settings?{...e.sdk?.settings,...t.settings}:void 0},e}function GE(e,t,n,r){const i=Gg(n),s={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:Us(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return zi(s,[o])}function XE(e,t,n,r){const i=Gg(n),s=e.type&&e.type!=="replay_event"?e.type:"event";VE(e,n?.sdk);const o=YE(e,i,r,t);return delete e.sdkProcessingMetadata,zi(o,[[{type:s},e]])}function KE(e,t){function n(f){return!!f.trace_id&&!!f.public_key}const r=Ur(e[0]),i=t?.getDsn(),s=t?.getOptions().tunnel,o={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!s&&i&&{dsn:Us(i)}},{beforeSendSpan:a,ignoreSpans:c}=t?.getOptions()||{},u=c?.length?e.filter(f=>!yc(Dt(f),c)):e,l=e.length-u.length;l&&t?.recordDroppedEvent("before_send","span",l);const d=a?f=>{const h=Dt(f),m=a(h);return m||(wl(),h)}:Dt,p=[];for(const f of u){const h=d(f);h&&p.push(WE(h))}return zi(o,p)}function JE(e){if(!z)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=Dt(e),{spanId:i}=e.spanContext(),s=qr(e),o=Mn(e),a=o===e,c=`[Tracing] Starting ${s?"sampled":"unsampled"} ${a?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${i}`];if(r&&u.push(`parent ID: ${r}`),!a){const{op:l,description:d}=Dt(o);u.push(`root ID: ${o.spanContext().spanId}`),l&&u.push(`root op: ${l}`),d&&u.push(`root description: ${d}`)}N.log(`${c}
  ${u.join(`
  `)}`)}function QE(e){if(!z)return;const{description:t="< unknown name >",op:n="< unknown op >"}=Dt(e),{spanId:r}=e.spanContext(),s=Mn(e)===e,o=`[Tracing] Finishing "${n}" ${s?"root ":""}span "${t}" with ID ${r}`;N.log(o)}function Hp(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},i=r[eE],s=r[nE];typeof i=="string"&&typeof s=="number"&&(t[n.name]={value:s,unit:i})}),t}const Wp=1e3;let eu=class{constructor(t={}){this._traceId=t.traceId||mr(),this._spanId=t.spanId||ur(),this._startTime=t.startTimestamp||an(),this._links=t.links,this._attributes={},this.setAttributes({[xi]:"manual",[Ao]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this._links?this._links.push(t):this._links=[t],this}addLinks(t){return this._links?this._links.push(...t):this._links=t,this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?Yd:Ug}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=hi(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(ar,"custom"),this}end(t){this._endTime||(this._endTime=hi(t),QE(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[Ao],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:Hg(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[xi],profile_id:this._attributes[Hd],exclusive_time:this._attributes[Wd],measurements:Hp(this._events),is_segment:this._isStandaloneSpan&&Mn(this)===this||void 0,segment_id:this._isStandaloneSpan?Mn(this).spanContext().spanId:void 0,links:zg(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){z&&N.log("[Tracing] Adding an event to span:",t);const i=jp(n)?n:r||an(),s=jp(n)?{}:n||{},o={name:t,time:hi(i),attributes:s};return this._events.push(o),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=It();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===Mn(this)))return;if(this._isStandaloneSpan){this._sampled?tv(KE([this],t)):(z&&N.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(_c(this).scope||Jt()).captureEvent(r)}_convertSpanToTransaction(){if(!qp(Dt(this)))return;this._name||(z&&N.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=_c(this),r=t?.getScopeData().sdkProcessingMetadata?.normalizedRequest;if(this._sampled!==!0)return;const s=Xa(this).filter(l=>l!==this&&!ZE(l)).map(l=>Dt(l)).filter(qp),o=this._attributes[ar];delete this._attributes[Dp],s.forEach(l=>{delete l.data[Dp]});const a={contexts:{trace:IE(this)},spans:s.length>Wp?s.sort((l,d)=>l.start_timestamp-d.start_timestamp).slice(0,Wp):s,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,dynamicSamplingContext:Ur(this)},request:r,...o&&{transaction_info:{source:o}}},c=Hp(this._events);return c&&Object.keys(c).length&&(z&&N.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),a.measurements=c),a}};function jp(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function qp(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function ZE(e){return e instanceof eu&&e.isStandaloneSpan()}function tv(e){const t=It();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}function ev(e,t,n){if(!On(e))return[!1];let r,i;typeof e.tracesSampler=="function"?(i=e.tracesSampler({...t,inheritOrSampleWith:a=>typeof t.parentSampleRate=="number"?t.parentSampleRate:typeof t.parentSampled=="boolean"?Number(t.parentSampled):a}),r=!0):t.parentSampled!==void 0?i=t.parentSampled:typeof e.tracesSampleRate<"u"&&(i=e.tracesSampleRate,r=!0);const s=Oo(i);if(s===void 0)return z&&N.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(i)} of type ${JSON.stringify(typeof i)}.`),[!1];if(!s)return z&&N.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,s,r];const o=n<s;return o||z&&N.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),[o,s,r]}const Xg="__SENTRY_SUPPRESS_TRACING__";function nu(e){const t=Kg();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=iv(e),{forceTransaction:r,parentSpan:i}=e;return(e.scope?o=>Ud(e.scope,o):i!==void 0?o=>nv(i,o):o=>o())(()=>{const o=Jt(),a=ov(o,i);return e.onlyIfParent&&!a?new Ci:rv({parentSpan:a,spanArguments:n,forceTransaction:r,scope:o})})}function nv(e,t){const n=Kg();return n.withActiveSpan?n.withActiveSpan(e,t):Ud(r=>(Ro(r,e||void 0),t(r)))}function rv({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!On()){const o=new Ci;if(n||!e){const a={sampled:"false",sample_rate:"0",transaction:t.name,...Ur(o)};Ka(o,a)}return o}const i=Ui();let s;if(e&&!n)s=sv(e,r,t),Wg(e,s);else if(e){const o=Ur(e),{traceId:a,spanId:c}=e.spanContext(),u=qr(e);s=Yp({traceId:a,parentSpanId:c,...t},r,u),Ka(s,o)}else{const{traceId:o,dsc:a,parentSpanId:c,sampled:u}={...i.getPropagationContext(),...r.getPropagationContext()};s=Yp({traceId:o,parentSpanId:c,...t},r,u),a&&Ka(s,a)}return JE(s),cE(s,r,i),s}function iv(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=hi(e.startTime),delete r.startTime,r}return n}function Kg(){const e=Fi();return Bs(e)}function Yp(e,t,n){const r=It(),i=r?.getOptions()||{},{name:s=""}=e,o={spanAttributes:{...e.attributes},spanName:s,parentSampled:n};r?.emit("beforeSampling",o,{decision:!1});const a=o.parentSampled??n,c=o.spanAttributes,u=t.getPropagationContext(),[l,d,p]=t.getScopeData().sdkProcessingMetadata[Xg]?[!1]:ev(i,{name:s,parentSampled:a,attributes:c,parentSampleRate:Oo(u.dsc?.sample_rate)},u.sampleRand),f=new eu({...e,attributes:{[ar]:"custom",[zd]:d!==void 0&&p?d:void 0,...c},sampled:l});return!l&&r&&(z&&N.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",f),f}function sv(e,t,n){const{spanId:r,traceId:i}=e.spanContext(),s=t.getScopeData().sdkProcessingMetadata[Xg]?!1:qr(e),o=s?new eu({...n,parentSpanId:r,traceId:i,sampled:s}):new Ci({traceId:i});Wg(e,o);const a=It();return a&&(a.emit("spanStart",o),n.endTimestamp&&a.emit("spanEnd",o)),o}function ov(e,t){if(t)return t;if(t===null)return;const n=gc(e);if(!n)return;const r=It();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?Mn(n):n}const Ja={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},av="heartbeatFailed",cv="idleTimeout",uv="finalTimeout",lv="externalFinish";function Jg(e,t={}){const n=new Map;let r=!1,i,s=lv,o=!t.disableAutoFinish;const a=[],{idleTimeout:c=Ja.idleTimeout,finalTimeout:u=Ja.finalTimeout,childSpanTimeout:l=Ja.childSpanTimeout,beforeSpanEnd:d,trimIdleSpanEndTimestamp:p=!0}=t,f=It();if(!f||!On()){const y=new Ci,k={sample_rate:"0",sampled:"false",...Ur(y)};return Ka(y,k),y}const h=Jt(),m=zs(),g=dv(e);g.end=new Proxy(g.end,{apply(y,k,C){if(d&&d(g),k instanceof Ci)return;const[v,...M]=C,R=v||an(),L=hi(R),O=Xa(g).filter(_=>_!==g),B=Dt(g);if(!O.length||!p)return w(L),Reflect.apply(y,k,[L,...M]);const $=f.getOptions().ignoreSpans,P=O?.reduce((_,H)=>{const Z=Dt(H);return!Z.timestamp||$&&yc(Z,$)?_:_?Math.max(_,Z.timestamp):Z.timestamp},void 0),A=B.start_timestamp,U=Math.min(A?A+u/1e3:1/0,Math.max(A||-1/0,Math.min(L,P||1/0)));return w(U),Reflect.apply(y,k,[U,...M])}});function S(){i&&(clearTimeout(i),i=void 0)}function b(y){S(),i=setTimeout(()=>{!r&&n.size===0&&o&&(s=cv,g.end(y))},c)}function I(y){i=setTimeout(()=>{!r&&o&&(s=av,g.end(y))},l)}function E(y){S(),n.set(y,!0);const k=an();I(k+l/1e3)}function T(y){if(n.has(y)&&n.delete(y),n.size===0){const k=an();b(k+c/1e3)}}function w(y){r=!0,n.clear(),a.forEach(O=>O()),Ro(h,m);const k=Dt(g),{start_timestamp:C}=k;if(!C)return;k.data[Mo]||g.setAttribute(Mo,s);const M=k.status;(!M||M==="unknown")&&g.setStatus({code:jd}),N.log(`[Tracing] Idle span "${k.op}" finished`);const R=Xa(g).filter(O=>O!==g);let L=0;R.forEach(O=>{O.isRecording()&&(O.setStatus({code:le,message:"cancelled"}),O.end(y),z&&N.log("[Tracing] Cancelling span since span ended early",JSON.stringify(O,void 0,2)));const B=Dt(O),{timestamp:$=0,start_timestamp:P=0}=B,A=P<=y,U=(u+c)/1e3,_=$-P<=U;if(z){const H=JSON.stringify(O,void 0,2);A?_||N.log("[Tracing] Discarding span since it finished after idle span final timeout",H):N.log("[Tracing] Discarding span since it happened after idle span was finished",H)}(!_||!A)&&(ME(g,O),L++)}),L>0&&g.setAttribute("sentry.idle_span_discarded_spans",L)}return a.push(f.on("spanStart",y=>{if(r||y===g||Dt(y).timestamp||y instanceof eu&&y.isStandaloneSpan())return;Xa(g).includes(y)&&E(y.spanContext().spanId)})),a.push(f.on("spanEnd",y=>{r||T(y.spanContext().spanId)})),a.push(f.on("idleSpanEnableAutoFinish",y=>{y===g&&(o=!0,b(),n.size&&I())})),t.disableAutoFinish||b(),setTimeout(()=>{r||(g.setStatus({code:le,message:"deadline_exceeded"}),s=uv,g.end())},u),g}function dv(e){const t=nu(e);return Ro(Jt(),t),z&&N.log("[Tracing] Started span is an idle span"),t}const Pu=0,Vp=1,Gp=2;function ru(e){return new Qg(t=>{t(e)})}function Gd(e){return new Qg((t,n)=>{n(e)})}let Qg=class xl{constructor(t){this._state=Pu,this._handlers=[],this._runExecutor(t)}then(t,n){return new xl((r,i)=>{this._handlers.push([!1,s=>{if(!t)r(s);else try{r(t(s))}catch(o){i(o)}},s=>{if(!n)i(s);else try{r(n(s))}catch(o){i(o)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new xl((n,r)=>{let i,s;return this.then(o=>{s=!1,i=o,t&&t()},o=>{s=!0,i=o,t&&t()}).then(()=>{if(s){r(i);return}n(i)})})}_executeHandlers(){if(this._state===Pu)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===Vp&&n[1](this._value),this._state===Gp&&n[2](this._value),n[0]=!0)})}_runExecutor(t){const n=(s,o)=>{if(this._state===Pu){if(Zo(o)){o.then(r,i);return}this._state=s,this._value=o,this._executeHandlers()}},r=s=>{n(Vp,s)},i=s=>{n(Gp,s)};try{t(r,i)}catch(s){i(s)}}};function fv(e,t,n,r=0){try{const i=Cl(t,n,e,r);return Zo(i)?i:ru(i)}catch(i){return Gd(i)}}function Cl(e,t,n,r){const i=n[r];if(!e||!i)return e;const s=i({...e},t);return z&&s===null&&N.log(`Event processor "${i.id||"?"}" dropped event`),Zo(s)?s.then(o=>Cl(o,t,n,r+1)):Cl(s,t,n,r+1)}function pv(e,t){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:s}=t;hv(e,t),r&&_v(e,r),yv(e,n),mv(e,i),gv(e,s)}function Xp(e,t){const{extra:n,tags:r,user:i,contexts:s,level:o,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:l,attachments:d,propagationContext:p,transactionName:f,span:h}=t;Ea(e,"extra",n),Ea(e,"tags",r),Ea(e,"user",i),Ea(e,"contexts",s),e.sdkProcessingMetadata=ea(e.sdkProcessingMetadata,a,2),o&&(e.level=o),f&&(e.transactionName=f),h&&(e.span=h),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),l.length&&(e.eventProcessors=[...e.eventProcessors,...l]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...p}}function Ea(e,t,n){e[t]=ea(e[t],n,1)}function hv(e,t){const{extra:n,tags:r,user:i,contexts:s,level:o,transactionName:a}=t;Object.keys(n).length&&(e.extra={...n,...e.extra}),Object.keys(r).length&&(e.tags={...r,...e.tags}),Object.keys(i).length&&(e.user={...i,...e.user}),Object.keys(s).length&&(e.contexts={...s,...e.contexts}),o&&(e.level=o),a&&e.type!=="transaction"&&(e.transaction=a)}function mv(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function gv(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function _v(e,t){e.contexts={trace:kE(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:Ur(t),...e.sdkProcessingMetadata};const n=Mn(t),r=Dt(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function yv(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}let Qr,Kp,Jp,vr;function Sv(e){const t=bt._sentryDebugIds,n=bt._debugIds;if(!t&&!n)return{};const r=t?Object.keys(t):[],i=n?Object.keys(n):[];if(vr&&r.length===Kp&&i.length===Jp)return vr;Kp=r.length,Jp=i.length,vr={},Qr||(Qr={});const s=(o,a)=>{for(const c of o){const u=a[c],l=Qr?.[c];if(l&&vr&&u)vr[l[0]]=u,Qr&&(Qr[c]=[l[0],u]);else if(u){const d=e(c);for(let p=d.length-1;p>=0;p--){const h=d[p]?.filename;if(h&&vr&&Qr){vr[h]=u,Qr[c]=[h,u];break}}}}};return t&&s(r,t),n&&s(i,n),vr}function bv(e,t,n,r,i,s){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||An(),timestamp:t.timestamp||Bi()},u=n.integrations||e.integrations.map(g=>g.name);Ev(c,e),wv(c,u),i&&i.emit("applyFrameMetadata",t),t.type===void 0&&vv(c,e.stackParser);const l=kv(r,n.captureContext);n.mechanism&&bs(c,n.mechanism);const d=i?i.getEventProcessors():[],p=Zb().getScopeData();if(s){const g=s.getScopeData();Xp(p,g)}if(l){const g=l.getScopeData();Xp(p,g)}const f=[...n.attachments||[],...p.attachments];f.length&&(n.attachments=f),pv(c,p);const h=[...d,...p.eventProcessors];return fv(h,c,n).then(g=>(g&&Tv(g),typeof o=="number"&&o>0?Iv(g,o,a):g))}function Ev(e,t){const{environment:n,release:r,dist:i,maxValueLength:s}=t;e.environment=e.environment||n||Vd,!e.release&&r&&(e.release=r),!e.dist&&i&&(e.dist=i);const o=e.request;o?.url&&s&&(o.url=Sl(o.url,s)),s&&e.exception?.values?.forEach(a=>{a.value&&(a.value=Sl(a.value,s))})}function vv(e,t){const n=Sv(t);e.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(i=>{i.filename&&(i.debug_id=n[i.filename])})})}function Tv(e){const t={};if(e.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(i=>{i.debug_id&&(i.abs_path?t[i.abs_path]=i.debug_id:i.filename&&(t[i.filename]=i.debug_id),delete i.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([r,i])=>{n.push({type:"sourcemap",code_file:r,debug_id:i})})}function wv(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function Iv(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(i=>({...i,...i.data&&{data:er(i.data,t,n)}}))},...e.user&&{user:er(e.user,t,n)},...e.contexts&&{contexts:er(e.contexts,t,n)},...e.extra&&{extra:er(e.extra,t,n)}};return e.contexts?.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=er(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(i=>({...i,...i.data&&{data:er(i.data,t,n)}}))),e.contexts?.flags&&r.contexts&&(r.contexts.flags=er(e.contexts.flags,3,n)),r}function kv(e,t){if(!t)return e;const n=e?e.clone():new ki;return n.update(t),n}function xv(e){if(e)return Cv(e)?{captureContext:e}:Av(e)?{captureContext:e}:e}function Cv(e){return e instanceof ki||typeof e=="function"}const Rv=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function Av(e){return Object.keys(e).some(t=>Rv.includes(t))}function Sc(e,t){return Jt().captureException(e,xv(t))}function Zg(e,t){return Jt().captureEvent(e,t)}function Mv(){const e=It();return e?.getOptions().enabled!==!1&&!!e?.getTransport()}function Qp(e){const t=Ui(),n=Jt(),{userAgent:r}=bt.navigator||{},i=Wb({user:n.getUser()||t.getUser(),...r&&{userAgent:r},...e}),s=t.getSession();return s?.status==="ok"&&Es(s,{status:"exited"}),t_(),t.setSession(i),i}function t_(){const e=Ui(),n=Jt().getSession()||e.getSession();n&&jb(n),e_(),e.setSession()}function e_(){const e=Ui(),t=It(),n=e.getSession();n&&t&&t.captureSession(n)}function Zp(e=!1){if(e){t_();return}e_()}const Ov="7";function Pv(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function Dv(e){return`${Pv(e)}${e.projectId}/envelope/`}function Nv(e,t){const n={sentry_version:Ov};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function Lv(e,t,n){return t||`${Dv(e)}?${Nv(e,n)}`}const th=[];function $v(e){const t={};return e.forEach(n=>{const{name:r}=n,i=t[r];i&&!i.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function Fv(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(i=>{i.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){const i=n(t);r=Array.isArray(i)?i:[i]}else r=t;return $v(r)}function Bv(e,t){const n={};return t.forEach(r=>{r&&n_(e,r,n)}),n}function eh(e,t){for(const n of t)n?.afterAllSetup&&n.afterAllSetup(e)}function n_(e,t,n){if(n[t.name]){z&&N.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,!th.includes(t.name)&&typeof t.setupOnce=="function"&&(t.setupOnce(),th.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(i,s)=>r(i,s,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),i=Object.assign((s,o)=>r(s,o,e),{id:t.name});e.addEventProcessor(i)}z&&N.log(`Integration installed: ${t.name}`)}function Uv(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function zv(e,t,n,r){const i={};return t?.sdk&&(i.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(i.dsn=Us(r)),zi(i,[Uv(e)])}function r_(e,t){const n=t??Hv(e)??[];if(n.length===0)return;const r=e.getOptions(),i=zv(n,r._metadata,r.tunnel,e.getDsn());i_().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(i)}function Hv(e){return i_().get(e)}function i_(){return Ls("clientToLogBufferMap",()=>new WeakMap)}function Wv(e){return[{type:"trace_metric",item_count:e.length,content_type:"application/vnd.sentry.items.trace-metric+json"},{items:e}]}function jv(e,t,n,r){const i={};return t?.sdk&&(i.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(i.dsn=Us(r)),zi(i,[Wv(e)])}function s_(e,t){const n=t??qv(e)??[];if(n.length===0)return;const r=e.getOptions(),i=jv(n,r._metadata,r.tunnel,e.getDsn());o_().set(e,[]),e.emit("flushMetrics"),e.sendEnvelope(i)}function qv(e){return o_().get(e)}function o_(){return Ls("clientToMetricBufferMap",()=>new WeakMap)}const Xd=Symbol.for("SentryBufferFullError");function Kd(e=100){const t=new Set;function n(){return t.size<e}function r(o){t.delete(o)}function i(o){if(!n())return Gd(Xd);const a=o();return t.add(a),a.then(()=>r(a),()=>r(a)),a}function s(o){if(!t.size)return ru(!0);const a=Promise.allSettled(Array.from(t)).then(()=>!0);if(!o)return a;const c=[a,new Promise(u=>setTimeout(()=>u(!1),o))];return Promise.race(c)}return{get $(){return Array.from(t)},add:i,drain:s}}const Yv=60*1e3;function Vv(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?Yv:r-t}function Gv(e,t){return e[t]||e.all||0}function Xv(e,t,n=Date.now()){return Gv(e,t)>n}function Kv(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},s=n?.["x-sentry-rate-limits"],o=n?.["retry-after"];if(s)for(const a of s.trim().split(",")){const[c,u,,,l]=a.split(":",5),d=parseInt(c,10),p=(isNaN(d)?60:d)*1e3;if(!u)i.all=r+p;else for(const f of u.split(";"))f==="metric_bucket"?(!l||l.split(";").includes("custom"))&&(i[f]=r+p):i[f]=r+p}else o?i.all=r+Vv(o,r):t===429&&(i.all=r+60*1e3);return i}const a_=64;function Jv(e,t,n=Kd(e.bufferSize||a_)){let r={};const i=o=>n.drain(o);function s(o){const a=[];if(Up(o,(d,p)=>{const f=zp(p);Xv(r,f)?e.recordDroppedEvent("ratelimit_backoff",f):a.push(d)}),a.length===0)return Promise.resolve({});const c=zi(o[0],a),u=d=>{Up(c,(p,f)=>{e.recordDroppedEvent(d,zp(f))})},l=()=>t({body:zE(c)}).then(d=>(d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&z&&N.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),r=Kv(r,d),d),d=>{throw u("network_error"),z&&N.error("Encountered error running transport request:",d),d});return n.add(l).then(d=>d,d=>{if(d===Xd)return z&&N.error("Skipped sending event because buffer is full."),u("queue_overflow"),Promise.resolve({});throw d})}return{send:s,flush:i}}function Qv(e,t,n){const r=[{type:"client_report"},{timestamp:Bi(),discarded_events:e}];return zi(t?{dsn:t}:{},[r])}function c_(e){const t=[];e.message&&t.push(e.message);try{const n=e.exception.values[e.exception.values.length-1];n?.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}function Zv(e){const{trace_id:t,parent_span_id:n,span_id:r,status:i,origin:s,data:o,op:a}=e.contexts?.trace??{};return{data:o??{},description:e.transaction,op:a,parent_span_id:n,span_id:r??"",start_timestamp:e.start_timestamp??0,status:i,timestamp:e.timestamp,trace_id:t??"",origin:s,profile_id:o?.[Hd],exclusive_time:o?.[Wd],measurements:e.measurements,is_segment:!0}}function tT(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[Hd]:e.profile_id},...e.exclusive_time&&{[Wd]:e.exclusive_time}}}},measurements:e.measurements}}const nh="Not capturing exception because it's already been captured.",rh="Discarded session because of missing or non-string release",u_=Symbol.for("SentryInternalError"),l_=Symbol.for("SentryDoNotSendEventError"),eT=5e3;function Qa(e){return{message:e,[u_]:!0}}function Du(e){return{message:e,[l_]:!0}}function ih(e){return!!e&&typeof e=="object"&&u_ in e}function sh(e){return!!e&&typeof e=="object"&&l_ in e}function oh(e,t,n,r,i){let s=0,o,a=!1;e.on(n,()=>{s=0,clearTimeout(o),a=!1}),e.on(t,c=>{s+=r(c),s>=8e5?i(e):a||(a=!0,o=setTimeout(()=>{i(e)},eT))}),e.on("flush",()=>{i(e)})}class nT{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],this._promiseBuffer=Kd(t.transportOptions?.bufferSize??a_),t.dsn?this._dsn=EE(t.dsn):z&&N.warn("No DSN provided, client will not send events."),this._dsn){const r=Lv(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:r})}this._options.enableLogs=this._options.enableLogs??this._options._experiments?.enableLogs,this._options.enableLogs&&oh(this,"afterCaptureLog","flushLogs",oT,r_),(this._options.enableMetrics??this._options._experiments?.enableMetrics??!0)&&oh(this,"afterCaptureMetric","flushMetrics",sT,s_)}captureException(t,n,r){const i=An();if(Mp(t))return z&&N.log(nh),i;const s={event_id:i,...n};return this._process(()=>this.eventFromException(t,s).then(o=>this._captureEvent(o,s,r)).then(o=>o),"error"),s.event_id}captureMessage(t,n,r,i){const s={event_id:An(),...r},o=$d(t)?t:String(t),a=Zc(t),c=a?this.eventFromMessage(o,n,s):this.eventFromException(t,s);return this._process(()=>c.then(u=>this._captureEvent(u,s,i)),a?"unknown":"error"),s.event_id}captureEvent(t,n,r){const i=An();if(n?.originalException&&Mp(n.originalException))return z&&N.log(nh),i;const s={event_id:i,...n},o=t.sdkProcessingMetadata||{},a=o.capturedSpanScope,c=o.capturedSpanIsolationScope,u=ah(t.type);return this._process(()=>this._captureEvent(t,s,a||r,c),u),s.event_id}captureSession(t){this.sendSession(t),Es(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}async flush(t){const n=this._transport;if(!n)return!0;this.emit("flush");const r=await this._isClientDoneProcessing(t),i=await n.flush(t);return r&&i}async close(t){const n=await this.flush(t);return this.getOptions().enabled=!1,this.emit("close"),n}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];n_(this,t,this._integrations),n||eh(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=XE(t,this._dsn,this._options._metadata,this._options.tunnel);for(const i of n.attachments||[])r=UE(r,jE(i));this.sendEnvelope(r).then(i=>this.emit("afterSendEvent",t,i))}sendSession(t){const{release:n,environment:r=Vd}=this._options;if("aggregates"in t){const s=t.attrs||{};if(!s.release&&!n){z&&N.warn(rh);return}s.release=s.release||n,s.environment=s.environment||r,t.attrs=s}else{if(!t.release&&!n){z&&N.warn(rh);return}t.release=t.release||n,t.environment=t.environment||r}this.emit("beforeSendSession",t);const i=GE(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(i)}recordDroppedEvent(t,n,r=1){if(this._options.sendClientReports){const i=`${t}:${n}`;z&&N.log(`Recording outcome: "${i}"${r>1?` (${r} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+r}}on(t,n){const r=this._hooks[t]=this._hooks[t]||new Set,i=(...s)=>n(...s);return r.add(i),()=>{r.delete(i)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(i=>i(...n))}async sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)try{return await this._transport.send(t)}catch(n){return z&&N.error("Error while sending envelope:",n),{}}return z&&N.error("Transport disabled"),{}}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=Bv(this,t),eh(this,t)}_updateSessionFromEvent(t,n){let r=n.level==="fatal",i=!1;const s=n.exception?.values;if(s){i=!0,r=!1;for(const c of s)if(c.mechanism?.handled===!1){r=!0;break}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(Es(t,{...r&&{status:"crashed"},errors:t.errors||Number(i||r)}),this.captureSession(t))}async _isClientDoneProcessing(t){let n=0;for(;!t||n<t;){if(await new Promise(r=>setTimeout(r,1)),!this._numProcessing)return!0;n++}return!1}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,i){const s=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o?.length&&(n.integrations=o),this.emit("preprocessEvent",t,n),t.type||i.setLastEventId(t.event_id||n.event_id),bv(s,t,n,r,this,i).then(a=>{if(a===null)return a;this.emit("postprocessEvent",a,n),a.contexts={trace:tE(r),...a.contexts};const c=Yg(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:c,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r=Jt(),i=Ui()){return z&&Rl(t)&&N.log(`Captured error event \`${c_(t)[0]||"<unknown>"}\``),this._processEvent(t,n,r,i).then(s=>s.event_id,s=>{z&&(sh(s)?N.log(s.message):ih(s)?N.warn(s.message):N.warn(s))})}_processEvent(t,n,r,i){const s=this.getOptions(),{sampleRate:o}=s,a=d_(t),c=Rl(t),l=`before send for type \`${t.type||"error"}\``,d=typeof o>"u"?void 0:Oo(o);if(c&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error"),Gd(Du(`Discarding event because it's not included in the random sample (sampling rate = ${o})`));const p=ah(t.type);return this._prepareEvent(t,n,r,i).then(f=>{if(f===null)throw this.recordDroppedEvent("event_processor",p),Du("An event processor returned `null`, will not send event.");if(n.data&&n.data.__sentry__===!0)return f;const m=iT(this,s,f,n);return rT(m,l)}).then(f=>{if(f===null){if(this.recordDroppedEvent("before_send",p),a){const S=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",S)}throw Du(`${l} returned \`null\`, will not send event.`)}const h=r.getSession()||i.getSession();if(c&&h&&this._updateSessionFromEvent(h,f),a){const g=f.sdkProcessingMetadata?.spanCountBeforeProcessing||0,S=f.spans?f.spans.length:0,b=g-S;b>0&&this.recordDroppedEvent("before_send","span",b)}const m=f.transaction_info;if(a&&m&&f.transaction!==t.transaction){const g="custom";f.transaction_info={...m,source:g}}return this.sendEvent(f,n),f}).then(null,f=>{throw sh(f)||ih(f)?f:(this.captureException(f,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:f}),Qa(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${f}`))})}_process(t,n){this._numProcessing++,this._promiseBuffer.add(t).then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r===Xd&&this.recordDroppedEvent("queue_overflow",n),r))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[i,s]=n.split(":");return{reason:i,category:s,quantity:r}})}_flushOutcomes(){z&&N.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){z&&N.log("No outcomes to send");return}if(!this._dsn){z&&N.log("No dsn provided, will not send outcomes");return}z&&N.log("Sending outcomes:",t);const n=Qv(t,this._options.tunnel&&Us(this._dsn));this.sendEnvelope(n)}}function ah(e){return e==="replay_event"?"replay":e||"error"}function rT(e,t){const n=`${t} must return \`null\` or a valid event.`;if(Zo(e))return e.then(r=>{if(!Co(r)&&r!==null)throw Qa(n);return r},r=>{throw Qa(`${t} rejected with ${r}`)});if(!Co(e)&&e!==null)throw Qa(n);return e}function iT(e,t,n,r){const{beforeSend:i,beforeSendTransaction:s,beforeSendSpan:o,ignoreSpans:a}=t;let c=n;if(Rl(c)&&i)return i(c,r);if(d_(c)){if(o||a){const u=Zv(c);if(a?.length&&yc(u,a))return null;if(o){const l=o(u);l?c=ea(n,tT(l)):wl()}if(c.spans){const l=[],d=c.spans;for(const f of d){if(a?.length&&yc(f,a)){PE(d,f);continue}if(o){const h=o(f);h?l.push(h):(wl(),l.push(f))}else l.push(f)}const p=c.spans.length-l.length;p&&e.recordDroppedEvent("before_send","span",p),c.spans=l}}if(s){if(c.spans){const u=c.spans.length;c.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:u}}return s(c,r)}}return c}function Rl(e){return e.type===void 0}function d_(e){return e.type==="transaction"}function sT(e){let t=0;return e.name&&(t+=e.name.length*2),t+=8,t+f_(e.attributes)}function oT(e){let t=0;return e.message&&(t+=e.message.length*2),t+f_(e.attributes)}function f_(e){if(!e)return 0;let t=0;return Object.values(e).forEach(n=>{Array.isArray(n)?t+=n.length*ch(n[0]):Zc(n)?t+=ch(n):t+=100}),t}function ch(e){return typeof e=="string"?e.length*2:typeof e=="number"?8:typeof e=="boolean"?4:0}function aT(e,t){t.debug===!0&&(z?N.enable():$s(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),Jt().update(t.initialScope);const r=new e(t);return cT(r),r.init(),r}function cT(e){Jt().setClient(e)}const uT="thismessage:/";function p_(e){return"isRelative"in e}function h_(e,t){const n=e.indexOf("://")<=0&&e.indexOf("//")!==0,r=n?uT:void 0;try{if("canParse"in URL&&!URL.canParse(e,r))return;const i=new URL(e,r);return n?{isRelative:n,pathname:i.pathname,search:i.search,hash:i.hash}:i}catch{}}function lT(e){if(p_(e))return e.pathname;const t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function ds(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function dT(e){return e.split(/[?#]/,1)[0]}function fT(e){"aggregates"in e?e.attrs?.ip_address===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function pT(e,t,n=[t],r="npm"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(s=>({name:`${r}:@sentry/${s}`,version:di})),version:di}),e._metadata=i}function m_(e={}){const t=e.client||It();if(!Mv()||!t)return{};const n=Fi(),r=Bs(n);if(r.getTraceData)return r.getTraceData(e);const i=e.scope||Jt(),s=e.span||zs(),o=s?xE(s):hT(i),a=s?Ur(s):Yg(t,i),c=dE(a);if(!$g.test(o))return N.warn("Invalid sentry-trace data. Cannot generate trace data"),{};const l={"sentry-trace":o,baggage:c};if(e.propagateTraceparent){const d=s?CE(s):mT(i);d&&(l.traceparent=d)}return l}function hT(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return Fg(t,r,n)}function mT(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return Bg(t,r,n)}const gT=100;function Ri(e,t){const n=It(),r=Ui();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:s=gT}=n.getOptions();if(s<=0)return;const a={timestamp:Bi(),...e},c=i?$s(()=>i(a,t)):a;c!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",c,t),r.addBreadcrumb(c,s))}let uh;const _T="FunctionToString",lh=new WeakMap,yT=(()=>({name:_T,setupOnce(){uh=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=Bd(this),n=lh.has(It())&&t!==void 0?t:this;return uh.apply(n,e)}}catch{}},setup(e){lh.set(e,!0)}})),ST=yT,bT=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],ET="EventFilters",vT=(e={})=>{let t;return{name:ET,setup(n){const r=n.getOptions();t=dh(e,r)},processEvent(n,r,i){if(!t){const s=i.getOptions();t=dh(e,s)}return wT(n,t)?null:n}}},TT=((e={})=>({...vT(e),name:"InboundFilters"}));function dh(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:bT],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function wT(e,t){if(e.type){if(e.type==="transaction"&&kT(e,t.ignoreTransactions))return z&&N.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${oi(e)}`),!0}else{if(IT(e,t.ignoreErrors))return z&&N.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${oi(e)}`),!0;if(AT(e))return z&&N.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${oi(e)}`),!0;if(xT(e,t.denyUrls))return z&&N.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${oi(e)}.
Url: ${bc(e)}`),!0;if(!CT(e,t.allowUrls))return z&&N.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${oi(e)}.
Url: ${bc(e)}`),!0}return!1}function IT(e,t){return t?.length?c_(e).some(n=>pi(n,t)):!1}function kT(e,t){if(!t?.length)return!1;const n=e.transaction;return n?pi(n,t):!1}function xT(e,t){if(!t?.length)return!1;const n=bc(e);return n?pi(n,t):!1}function CT(e,t){if(!t?.length)return!0;const n=bc(e);return n?pi(n,t):!0}function RT(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function bc(e){try{const n=[...e.exception?.values??[]].reverse().find(r=>r.mechanism?.parent_id===void 0&&r.stacktrace?.frames?.length)?.stacktrace?.frames;return n?RT(n):null}catch{return z&&N.error(`Cannot extract url for event ${oi(e)}`),null}}function AT(e){return e.exception?.values?.length?!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value):!1}function MT(e,t,n,r,i,s){if(!i.exception?.values||!s||!hr(s.originalException,Error))return;const o=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;o&&(i.exception.values=Al(e,t,r,s.originalException,n,i.exception.values,o,0))}function Al(e,t,n,r,i,s,o,a){if(s.length>=n+1)return s;let c=[...s];if(hr(r[i],Error)){fh(o,a);const u=e(t,r[i]),l=c.length;ph(u,i,l,a),c=Al(e,t,n,r[i],i,[u,...c],u,l)}return Array.isArray(r.errors)&&r.errors.forEach((u,l)=>{if(hr(u,Error)){fh(o,a);const d=e(t,u),p=c.length;ph(d,`errors[${l}]`,p,a),c=Al(e,t,n,u,i,[d,...c],d,p)}}),c}function fh(e,t){e.mechanism={handled:!0,type:"auto.core.linked_errors",...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function ph(e,t,n,r){e.mechanism={handled:!0,...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function OT(e){const t="console";Jo(t,e),Qo(t,PT)}function PT(){"console"in bt&&yb.forEach(function(e){e in bt.console&&or(bt.console,e,function(t){return mc[e]=t,function(...n){fi("console",{args:n,level:e}),mc[e]?.apply(bt.console,n)}})})}function DT(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const NT="Dedupe",LT=(()=>{let e;return{name:NT,processEvent(t){if(t.type)return t;try{if(FT(t,e))return z&&N.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}}),$T=LT;function FT(e,t){return t?!!(BT(e,t)||UT(e,t)):!1}function BT(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!__(e,t)||!g_(e,t))}function UT(e,t){const n=hh(t),r=hh(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!__(e,t)||!g_(e,t))}function g_(e,t){let n=Ip(e),r=Ip(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let i=0;i<r.length;i++){const s=r[i],o=n[i];if(s.filename!==o.filename||s.lineno!==o.lineno||s.colno!==o.colno||s.function!==o.function)return!1}return!0}function __(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function hh(e){return e.exception?.values?.[0]}function zT(e,t,n,r,i){if(!e.fetchData)return;const{method:s,url:o}=e.fetchData,a=On()&&t(o);if(e.endTimestamp&&a){const f=e.fetchData.__span;if(!f)return;const h=r[f];h&&(jT(h,e),HT(h,e,i),delete r[f]);return}const{spanOrigin:c="auto.http.browser",propagateTraceparent:u=!1}=typeof i=="object"?i:{spanOrigin:i},l=!!zs(),d=a&&l?nu(YT(o,s,c)):new Ci;if(e.fetchData.__span=d.spanContext().spanId,r[d.spanContext().spanId]=d,n(e.fetchData.url)){const f=e.args[0],h=e.args[1]||{},m=WT(f,h,On()&&l?d:void 0,u);m&&(e.args[1]=h,h.headers=m)}const p=It();if(p){const f={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};p.emit("beforeOutgoingRequestSpan",d,f)}return d}function HT(e,t,n){(typeof n=="object"&&n!==null?n.onRequestSpanEnd:void 0)?.(e,{headers:t.response?.headers,error:t.error})}function WT(e,t,n,r){const i=m_({span:n,propagateTraceparent:r}),s=i["sentry-trace"],o=i.baggage,a=i.traceparent;if(!s)return;const c=t.headers||(Ig(e)?e.headers:void 0);if(c)if(qT(c)){const u=new Headers(c);if(u.get("sentry-trace")||u.set("sentry-trace",s),r&&a&&!u.get("traceparent")&&u.set("traceparent",a),o){const l=u.get("baggage");l?va(l)||u.set("baggage",`${l},${o}`):u.set("baggage",o)}return u}else if(Array.isArray(c)){const u=[...c];c.find(d=>d[0]==="sentry-trace")||u.push(["sentry-trace",s]),r&&a&&!c.find(d=>d[0]==="traceparent")&&u.push(["traceparent",a]);const l=c.find(d=>d[0]==="baggage"&&va(d[1]));return o&&!l&&u.push(["baggage",o]),u}else{const u="sentry-trace"in c?c["sentry-trace"]:void 0,l="traceparent"in c?c.traceparent:void 0,d="baggage"in c?c.baggage:void 0,p=d?Array.isArray(d)?[...d]:[d]:[],f=d&&(Array.isArray(d)?d.find(m=>va(m)):va(d));o&&!f&&p.push(o);const h={...c,"sentry-trace":u??s,baggage:p.length>0?p.join(","):void 0};return r&&a&&!l&&(h.traceparent=a),h}else return{...i}}function jT(e,t){if(t.response){Og(e,t.response.status);const n=t.response?.headers?.get("content-length");if(n){const r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:le,message:"internal_error"});e.end()}function va(e){return e.split(",").some(t=>t.trim().startsWith(qd))}function qT(e){return typeof Headers<"u"&&hr(e,Headers)}function YT(e,t,n){const r=h_(e);return{name:r?`${t} ${lT(r)}`:t,attributes:VT(e,r,t,n)}}function VT(e,t,n,r){const i={url:e,type:"fetch","http.method":n,[xi]:r,[Ao]:"http.client"};return t&&(p_(t)||(i["http.url"]=t.href,i["server.address"]=t.host),t.search&&(i["http.query"]=t.search),t.hash&&(i["http.fragment"]=t.hash)),i}function y_(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const Ml=bt;function GT(){if(!("fetch"in Ml))return!1;try{return new Headers,new Request("data:,"),new Response,!0}catch{return!1}}function mh(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function XT(){if(typeof EdgeRuntime=="string")return!0;if(!GT())return!1;if(mh(Ml.fetch))return!0;let e=!1;const t=Ml.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow?.fetch&&(e=mh(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){z&&N.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function S_(e,t){const n="fetch";Jo(n,e),Qo(n,()=>b_(void 0,t))}function KT(e){const t="fetch-body-resolved";Jo(t,e),Qo(t,()=>b_(QT))}function b_(e,t=!1){t&&!XT()||or(bt,"fetch",function(n){return function(...r){const i=new Error,{method:s,url:o}=ZT(r),a={args:r,fetchData:{method:s,url:o},startTimestamp:an()*1e3,virtualError:i,headers:tw(r)};return e||fi("fetch",{...a}),n.apply(bt,r).then(async c=>(e?e(c):fi("fetch",{...a,endTimestamp:an()*1e3,response:c}),c),c=>{if(fi("fetch",{...a,endTimestamp:an()*1e3,error:c}),Ld(c)&&c.stack===void 0&&(c.stack=i.stack,Dn(c,"framesToPop",1)),c instanceof TypeError&&(c.message==="Failed to fetch"||c.message==="Load failed"||c.message==="NetworkError when attempting to fetch resource."))try{const u=new URL(a.fetchData.url);c.message=`${c.message} (${u.host})`}catch{}throw c})}})}async function JT(e,t){if(e?.body){const n=e.body,r=n.getReader(),i=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let s=!0;for(;s;){let o;try{o=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:a}=await r.read();clearTimeout(o),a&&(t(),s=!1)}catch{s=!1}finally{clearTimeout(o)}}clearTimeout(i),r.releaseLock(),n.cancel().then(null,()=>{})}}function QT(e){let t;try{t=e.clone()}catch{return}JT(t,()=>{fi("fetch-body-resolved",{endTimestamp:an()*1e3,response:e})})}function Ol(e,t){return!!e&&typeof e=="object"&&!!e[t]}function gh(e){return typeof e=="string"?e:e?Ol(e,"url")?e.url:e.toString?e.toString():"":""}function ZT(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:gh(n),method:Ol(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:gh(t),method:Ol(t,"method")?String(t.method).toUpperCase():"GET"}}function tw(e){const[t,n]=e;try{if(typeof n=="object"&&n!==null&&"headers"in n&&n.headers)return new Headers(n.headers);if(Ig(t))return new Headers(t.headers)}catch{}}function ew(){return"npm"}const mt=bt;let Pl=0;function E_(){return Pl>0}function nw(){Pl++,setTimeout(()=>{Pl--})}function Ts(e,t={}){function n(i){return typeof i=="function"}if(!n(e))return e;try{const i=e.__sentry_wrapped__;if(i)return typeof i=="function"?i:e;if(Bd(e))return e}catch{return e}const r=function(...i){try{const s=i.map(o=>Ts(o,t));return e.apply(this,s)}catch(s){throw nw(),Ud(o=>{o.addEventProcessor(a=>(t.mechanism&&(bl(a,void 0),bs(a,t.mechanism)),a.extra={...a.extra,arguments:i},a)),Sc(s)}),s}};try{for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch{}xg(r,e),Dn(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}function Jd(){const e=ta(),{referrer:t}=mt.document||{},{userAgent:n}=mt.navigator||{},r={...t&&{Referer:t},...n&&{"User-Agent":n}};return{url:e,headers:r}}function Qd(e,t){const n=Zd(e,t),r={type:aw(t),value:cw(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function rw(e,t,n,r){const s=It()?.getOptions().normalizeDepth,o=pw(t),a={__serialized__:Vg(t,s)};if(o)return{exception:{values:[Qd(e,o)]},extra:a};const c={exception:{values:[{type:tu(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:dw(t,{isUnhandledRejection:r})}]},extra:a};if(n){const u=Zd(e,n);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function Nu(e,t){return{exception:{values:[Qd(e,t)]}}}function Zd(e,t){const n=t.stacktrace||t.stack||"",r=sw(t),i=ow(t);try{return e(n,r,i)}catch{}return[]}const iw=/Minified React error #\d+;/i;function sw(e){return e&&iw.test(e.message)?1:0}function ow(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function v_(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function aw(e){const t=e?.name;return!t&&v_(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function cw(e){const t=e?.message;return v_(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function uw(e,t,n,r){const i=n?.syntheticException||void 0,s=tf(e,t,i,r);return bs(s),s.level="error",n?.event_id&&(s.event_id=n.event_id),ru(s)}function lw(e,t,n="info",r,i){const s=r?.syntheticException||void 0,o=Dl(e,t,s,i);return o.level=n,r?.event_id&&(o.event_id=r.event_id),ru(o)}function tf(e,t,n,r,i){let s;if(Tg(t)&&t.error)return Nu(e,t.error);if(xp(t)||Rb(t)){const o=t;if("stack"in t)s=Nu(e,t);else{const a=o.name||(xp(o)?"DOMError":"DOMException"),c=o.message?`${a}: ${o.message}`:a;s=Dl(e,c,n,r),bl(s,c)}return"code"in o&&(s.tags={...s.tags,"DOMException.code":`${o.code}`}),s}return Ld(t)?Nu(e,t):Co(t)||tu(t)?(s=rw(e,t,n,i),bs(s,{synthetic:!0}),s):(s=Dl(e,t,n,r),bl(s,`${t}`),bs(s,{synthetic:!0}),s)}function Dl(e,t,n,r){const i={};if(r&&n){const s=Zd(e,n);s.length&&(i.exception={values:[{value:t,stacktrace:{frames:s}}]}),bs(i,{synthetic:!0})}if($d(t)){const{__sentry_template_string__:s,__sentry_template_values__:o}=t;return i.logentry={message:s,params:o},i}return i.message=t,i}function dw(e,{isUnhandledRejection:t}){const n=Lb(e),r=t?"promise rejection":"exception";return Tg(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:tu(e)?`Event \`${fw(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function fw(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function pw(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}class hw extends nT{constructor(t){const n=mw(t),r=mt.SENTRY_SDK_SOURCE||ew();pT(n,"browser",["browser"],r),n._metadata?.sdk&&(n._metadata.sdk.settings={infer_ip:n.sendDefaultPii?"auto":"never",...n._metadata.sdk.settings}),super(n);const{sendDefaultPii:i,sendClientReports:s,enableLogs:o,_experiments:a,enableMetrics:c}=this._options,u=c??a?.enableMetrics??!0;mt.document&&(s||o||u)&&mt.document.addEventListener("visibilitychange",()=>{mt.document.visibilityState==="hidden"&&(s&&this._flushOutcomes(),o&&r_(this),u&&s_(this))}),i&&this.on("beforeSendSession",fT)}eventFromException(t,n){return uw(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return lw(this._options.stackParser,t,n,r,this._options.attachStacktrace)}_prepareEvent(t,n,r,i){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r,i)}}function mw(e){return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:mt.SENTRY_RELEASE?.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...e}}const Wt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Ve=globalThis,ao="10.27.0";function Hs(){return ef(Ve),Ve}function ef(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||ao,t[ao]=t[ao]||{}}function nf(e,t,n=Ve){const r=n.__SENTRY__=n.__SENTRY__||{},i=r[ao]=r[ao]||{};return i[e]||(i[e]=t())}const gw="Sentry Logger ",_h={};function T_(e){if(!("console"in Ve))return e();const t=Ve.console,n={},r=Object.keys(_h);r.forEach(i=>{const s=_h[i];n[i]=t[i],t[i]=s});try{return e()}finally{r.forEach(i=>{t[i]=n[i]})}}function _w(){sf().enabled=!0}function yw(){sf().enabled=!1}function w_(){return sf().enabled}function Sw(...e){rf("log",...e)}function bw(...e){rf("warn",...e)}function Ew(...e){rf("error",...e)}function rf(e,...t){Wt&&w_()&&T_(()=>{Ve.console[e](`${gw}[${e}]:`,...t)})}function sf(){return Wt?nf("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const At={enable:_w,disable:yw,isEnabled:w_,log:Sw,warn:bw,error:Ew},Lu="<anonymous>";function I_(e){try{return!e||typeof e!="function"?Lu:e.name||Lu}catch{return Lu}}const Za={},yh={};function of(e,t){Za[e]=Za[e]||[],Za[e].push(t)}function af(e,t){if(!yh[e]){yh[e]=!0;try{t()}catch(n){Wt&&At.error(`Error while instrumenting ${e}`,n)}}}function Po(e,t){const n=e&&Za[e];if(n)for(const r of n)try{r(t)}catch(i){Wt&&At.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${I_(r)}
Error:`,i)}}const vw=Object.prototype.toString;function cf(e,t){return vw.call(e)===`[object ${t}]`}function Or(e){return cf(e,"String")}function Tw(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function Sh(e){return e===null||Tw(e)||typeof e!="object"&&typeof e!="function"}function ww(e){return cf(e,"Object")}function Iw(e){return cf(e,"RegExp")}function k_(e){return!!(e?.then&&typeof e.then=="function")}const x_=Ve,kw=80;function Yn(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,i=[];let s=0,o=0;const a=" > ",c=a.length;let u;const l=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||kw;for(;n&&s++<r&&(u=xw(n,l),!(u==="html"||s>1&&o+i.length*c+u.length>=d));)i.push(u),o+=u.length,n=n.parentNode;return i.reverse().join(a)}catch{return"<unknown>"}}function xw(e,t){const n=e,r=[];if(!n?.tagName)return"";if(x_.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=t?.length?t.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(i?.length)i.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&Or(o)){const a=o.split(/\s+/);for(const c of a)r.push(`.${c}`)}}const s=["aria-label","type","name","title","alt"];for(const o of s){const a=n.getAttribute(o);a&&r.push(`[${o}="${a}"]`)}return r.join("")}function Cw(e){if(!x_.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function Ec(e,t,n){if(!(t in e))return;const r=e[t];if(typeof r!="function")return;const i=n(r);typeof i=="function"&&Rw(i,r);try{e[t]=i}catch{Wt&&At.log(`Failed to replace method "${t}" in object`,e)}}function gr(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{Wt&&At.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function Rw(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,gr(e,"__sentry_original__",t)}catch{}}function Aw(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function tc(e,t,n=!1){return Or(e)?Iw(t)?t.test(e):Or(t)?n?e===t:e.includes(t):!1:!1}function Mw(e,t=[],n=!1){return t.some(r=>tc(e,r,n))}function Ow(){const e=Ve;return e.crypto||e.msCrypto}let $u;function Pw(){return Math.random()*16}function gi(e=Ow()){try{if(e?.randomUUID)return e.randomUUID().replace(/-/g,"")}catch{}return $u||($u="10000000100040008000"+1e11),$u.replace(/[018]/g,t=>(t^(Pw()&15)>>t/4).toString(16))}const C_=1e3;function R_(){return Date.now()/C_}function Dw(){const{performance:e}=Ve;if(!e?.now||!e.timeOrigin)return R_;const t=e.timeOrigin;return()=>(t+e.now())/C_}let bh;function lr(){return(bh??(bh=Dw()))()}let Fu;function Nw(){const{performance:e}=Ve;if(!e?.now)return[void 0,"none"];const t=3600*1e3,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,s=i<t,o=e.timing?.navigationStart,c=typeof o=="number"?Math.abs(o+n-r):t,u=c<t;return s||u?i<=c?[e.timeOrigin,"timeOrigin"]:[o,"navigationStart"]:[r,"dateNow"]}function En(){return Fu||(Fu=Nw()),Fu[0]}function Lw(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||lr(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:gi()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function A_(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&Object.keys(t).length===0)return e;const r={...e};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=A_(r[i],t[i],n-1));return r}function vc(){return gi()}function M_(){return gi().substring(16)}const Nl="_sentrySpan";function Tc(e,t){t?gr(e,Nl,t):delete e[Nl]}function wc(e){return e[Nl]}const $w=100;let Ic=class Ll{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._attributes={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:vc(),sampleRand:Math.random()}}clone(){const t=new Ll;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._attributes={...this._attributes},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,Tc(t,wc(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Lw(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this.setTags({[t]:n})}setAttributes(t){return this._attributes={...this._attributes,...t},this._notifyScopeListeners(),this}setAttribute(t,n){return this.setAttributes({[t]:n})}removeAttribute(t){return t in this._attributes&&(delete this._attributes[t],this._notifyScopeListeners()),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,r=n instanceof Ll?n.getScopeData():ww(n)?t:void 0,{tags:i,attributes:s,extra:o,user:a,contexts:c,level:u,fingerprint:l=[],propagationContext:d}=r||{};return this._tags={...this._tags,...i},this._attributes={...this._attributes,...s},this._extra={...this._extra,...o},this._contexts={...this._contexts,...c},a&&Object.keys(a).length&&(this._user=a),u&&(this._level=u),l.length&&(this._fingerprint=l),d&&(this._propagationContext=d),this}clear(){return this._breadcrumbs=[],this._tags={},this._attributes={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,Tc(this,void 0),this._attachments=[],this.setPropagationContext({traceId:vc(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:$w;if(r<=0)return this;const i={timestamp:R_(),...t,message:t.message?Aw(t.message,2048):t.message};return this._breadcrumbs.push(i),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,attributes:this._attributes,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:wc(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=A_(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n?.event_id||gi();if(!this._client)return Wt&&At.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},this),r}captureMessage(t,n,r){const i=r?.event_id||gi();if(!this._client)return Wt&&At.warn("No client configured on scope - will not capture message!"),i;const s=r?.syntheticException??new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:s,...r,event_id:i},this),i}captureEvent(t,n){const r=n?.event_id||gi();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(Wt&&At.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}};function Fw(){return nf("defaultCurrentScope",()=>new Ic)}function Bw(){return nf("defaultIsolationScope",()=>new Ic)}let Uw=class{constructor(t,n){let r;t?r=t:r=new Ic;let i;n?i=n:i=new Ic,this._stack=[{scope:r}],this._isolationScope=i}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(i){throw this._popScope(),i}return k_(r)?r.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}};function ws(){const e=Hs(),t=ef(e);return t.stack=t.stack||new Uw(Fw(),Bw())}function zw(e){return ws().withScope(e)}function Hw(e,t){const n=ws();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function Eh(e){return ws().withScope(()=>e(ws().getIsolationScope()))}function Ww(){return{withIsolationScope:Eh,withScope:zw,withSetScope:Hw,withSetIsolationScope:(e,t)=>Eh(t),getCurrentScope:()=>ws().getScope(),getIsolationScope:()=>ws().getIsolationScope()}}function na(e){const t=ef(e);return t.acs?t.acs:Ww()}function Xn(){const e=Hs();return na(e).getCurrentScope()}function jw(){const e=Hs();return na(e).getIsolationScope()}function uf(...e){const t=Hs(),n=na(t);if(e.length===2){const[r,i]=e;return r?n.withSetScope(r,i):n.withScope(i)}return n.withScope(e[0])}function Yr(){return Xn().getClient()}const Do="sentry.source",O_="sentry.sample_rate",qw="sentry.previous_trace_sample_rate",Ai="sentry.op",Fe="sentry.origin",ra="sentry.measurement_unit",ia="sentry.measurement_value",vh="sentry.custom_span_name",Yw="sentry.profile_id",iu="sentry.exclusive_time",Vw=0,Gw=1,Xw=2,P_="_sentryScope",D_="_sentryIsolationScope";function Kw(e){try{const t=Ve.WeakRef;if(typeof t=="function")return new t(e)}catch{}return e}function Jw(e){if(e){if(typeof e=="object"&&"deref"in e&&typeof e.deref=="function")try{return e.deref()}catch{return}return e}}function Qw(e,t,n){e&&(gr(e,D_,Kw(n)),gr(e,P_,t))}function $l(e){const t=e;return{scope:t[P_],isolationScope:Jw(t[D_])}}const Zw="sentry-",t1=/^sentry-/;function e1(e){const t=n1(e);if(!t)return;const n=Object.entries(t).reduce((r,[i,s])=>{if(i.match(t1)){const o=i.slice(Zw.length);r[o]=s}return r},{});if(Object.keys(n).length>0)return n}function n1(e){if(!(!e||!Or(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=Th(n);return Object.entries(r).forEach(([i,s])=>{t[i]=s}),t},{}):Th(e)}function Th(e){return e.split(",").map(t=>{const n=t.indexOf("=");if(n===-1)return[];const r=t.slice(0,n),i=t.slice(n+1);return[r,i].map(s=>{try{return decodeURIComponent(s.trim())}catch{return}})}).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}const r1=/^o(\d+)\./;function i1(e,t=!1){const{host:n,path:r,pass:i,port:s,projectId:o,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&i?`:${i}`:""}@${n}${s?`:${s}`:""}/${r&&`${r}/`}${o}`}function s1(e){return e.match(r1)?.[1]}function o1(e){const t=e.getOptions(),{host:n}=e.getDsn()||{};let r;return t.orgId?r=String(t.orgId):n&&(r=s1(n)),r}function N_(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}const L_=0,lf=1;let wh=!1;function a1(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:i,parent_span_id:s,status:o,origin:a,links:c}=_e(e);return{parent_span_id:s,span_id:t,trace_id:n,data:r,op:i,status:o,origin:a,links:c}}function $_(e){if(e&&e.length>0)return e.map(({context:{spanId:t,traceId:n,traceFlags:r,...i},attributes:s})=>({span_id:t,trace_id:n,sampled:r===lf,attributes:s,...i}))}function fs(e){return typeof e=="number"?Ih(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Ih(e.getTime()):lr()}function Ih(e){return e>9999999999?e/1e3:e}function _e(e){if(u1(e))return e.getSpanJSON();const{spanId:t,traceId:n}=e.spanContext();if(c1(e)){const{attributes:r,startTime:i,name:s,endTime:o,status:a,links:c}=e,u="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?e.parentSpanContext?.spanId:void 0;return{span_id:t,trace_id:n,data:r,description:s,parent_span_id:u,start_timestamp:fs(i),timestamp:fs(o)||void 0,status:F_(a),op:r[Ai],origin:r[Fe],links:$_(c)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function c1(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function u1(e){return typeof e.getSpanJSON=="function"}function sa(e){const{traceFlags:t}=e.spanContext();return t===lf}function F_(e){if(!(!e||e.code===Vw))return e.code===Gw?"ok":e.message||"internal_error"}const co="_sentryChildSpans",Fl="_sentryRootSpan";function B_(e,t){const n=e[Fl]||e;gr(t,Fl,n),e[co]?e[co].add(t):gr(e,co,new Set([t]))}function l1(e){const t=new Set;function n(r){if(!t.has(r)&&sa(r)){t.add(r);const i=r[co]?Array.from(r[co]):[];for(const s of i)n(s)}}return n(e),Array.from(t)}function Pn(e){return e[Fl]||e}function Hi(){const e=Hs(),t=na(e);return t.getActiveSpan?t.getActiveSpan():wc(Xn())}function d1(){wh||(T_(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly or use `ignoreSpans`.")}),wh=!0)}function df(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=e||Yr()?.getOptions();return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}function kh(e){At.log(`Ignoring span ${e.op} - ${e.description} because it matches \`ignoreSpans\`.`)}function f1(e,t){if(!t?.length||!e.description)return!1;for(const n of t){if(p1(n)){if(tc(e.description,n))return Wt&&kh(e),!0;continue}if(!n.name&&!n.op)continue;const r=n.name?tc(e.description,n.name):!0,i=n.op?e.op&&tc(e.op,n.op):!0;if(r&&i)return Wt&&kh(e),!0}return!1}function p1(e){return typeof e=="string"||e instanceof RegExp}const h1="production",U_="_frozenDsc";function Bu(e,t){gr(e,U_,t)}function m1(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},i={environment:n.environment||h1,release:n.release,public_key:r,trace_id:e,org_id:o1(t)};return t.emit("createDsc",i),i}function kc(e){const t=Yr();if(!t)return{};const n=Pn(e),r=_e(n),i=r.data,s=n.spanContext().traceState,o=s?.get("sentry.sample_rate")??i[O_]??i[qw];function a(h){return(typeof o=="number"||typeof o=="string")&&(h.sample_rate=`${o}`),h}const c=n[U_];if(c)return a(c);const u=s?.get("sentry.dsc"),l=u&&e1(u);if(l)return a(l);const d=m1(e.spanContext().traceId,t),p=i[Do],f=r.description;return p!=="url"&&f&&(d.transaction=f),df()&&(d.sampled=String(sa(n)),d.sample_rand=s?.get("sentry.sample_rand")??$l(n).scope?.getPropagationContext().sampleRand.toString()),a(d),t.emit("createDsc",d,n),d}class su{constructor(t={}){this._traceId=t.traceId||vc(),this._spanId=t.spanId||M_()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:L_}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}function g1(e,t=[]){return[e,t]}function _1(e){return[{type:"span"},e]}function y1(e,t){function n(f){return!!f.trace_id&&!!f.public_key}const r=kc(e[0]),i=t?.getDsn(),s=t?.getOptions().tunnel,o={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!s&&i&&{dsn:i1(i)}},{beforeSendSpan:a,ignoreSpans:c}=t?.getOptions()||{},u=c?.length?e.filter(f=>!f1(_e(f),c)):e,l=e.length-u.length;l&&t?.recordDroppedEvent("before_send","span",l);const d=a?f=>{const h=_e(f),m=a(h);return m||(d1(),h)}:_e,p=[];for(const f of u){const h=d(f);h&&p.push(_1(h))}return g1(o,p)}function S1(e){if(!Wt)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=_e(e),{spanId:i}=e.spanContext(),s=sa(e),o=Pn(e),a=o===e,c=`[Tracing] Starting ${s?"sampled":"unsampled"} ${a?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${i}`];if(r&&u.push(`parent ID: ${r}`),!a){const{op:l,description:d}=_e(o);u.push(`root ID: ${o.spanContext().spanId}`),l&&u.push(`root op: ${l}`),d&&u.push(`root description: ${d}`)}At.log(`${c}
  ${u.join(`
  `)}`)}function b1(e){if(!Wt)return;const{description:t="< unknown name >",op:n="< unknown op >"}=_e(e),{spanId:r}=e.spanContext(),s=Pn(e)===e,o=`[Tracing] Finishing "${n}" ${s?"root ":""}span "${t}" with ID ${r}`;At.log(o)}function E1(e,t,n,r=Hi()){const i=r&&Pn(r);i&&(Wt&&At.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),i.addEvent(e,{[ia]:t,[ra]:n}))}function xh(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},i=r[ra],s=r[ia];typeof i=="string"&&typeof s=="number"&&(t[n.name]={value:s,unit:i})}),t}const Ch=1e3;class ff{constructor(t={}){this._traceId=t.traceId||vc(),this._spanId=t.spanId||M_(),this._startTime=t.startTimestamp||lr(),this._links=t.links,this._attributes={},this.setAttributes({[Fe]:"manual",[Ai]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this._links?this._links.push(t):this._links=[t],this}addLinks(t){return this._links?this._links.push(...t):this._links=t,this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?lf:L_}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=fs(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(Do,"custom"),this}end(t){this._endTime||(this._endTime=fs(t),b1(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[Ai],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:F_(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Fe],profile_id:this._attributes[Yw],exclusive_time:this._attributes[iu],measurements:xh(this._events),is_segment:this._isStandaloneSpan&&Pn(this)===this||void 0,segment_id:this._isStandaloneSpan?Pn(this).spanContext().spanId:void 0,links:$_(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){Wt&&At.log("[Tracing] Adding an event to span:",t);const i=Rh(n)?n:r||lr(),s=Rh(n)?{}:n||{},o={name:t,time:fs(i),attributes:s};return this._events.push(o),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=Yr();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===Pn(this)))return;if(this._isStandaloneSpan){this._sampled?T1(y1([this],t)):(Wt&&At.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&($l(this).scope||Xn()).captureEvent(r)}_convertSpanToTransaction(){if(!Ah(_e(this)))return;this._name||(Wt&&At.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=$l(this),r=t?.getScopeData().sdkProcessingMetadata?.normalizedRequest;if(this._sampled!==!0)return;const s=l1(this).filter(l=>l!==this&&!v1(l)).map(l=>_e(l)).filter(Ah),o=this._attributes[Do];delete this._attributes[vh],s.forEach(l=>{delete l.data[vh]});const a={contexts:{trace:a1(this)},spans:s.length>Ch?s.sort((l,d)=>l.start_timestamp-d.start_timestamp).slice(0,Ch):s,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,dynamicSamplingContext:kc(this)},request:r,...o&&{transaction_info:{source:o}}},c=xh(this._events);return c&&Object.keys(c).length&&(Wt&&At.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),a.measurements=c),a}}function Rh(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function Ah(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function v1(e){return e instanceof ff&&e.isStandaloneSpan()}function T1(e){const t=Yr();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}function w1(e,t,n=()=>{},r=()=>{}){let i;try{i=e()}catch(s){throw t(s),n(),s}return I1(i,t,n,r)}function I1(e,t,n,r){return k_(e)?e.then(i=>(n(),r(i),i),i=>{throw t(i),n(),i}):(n(),r(e),e)}function k1(e,t,n){if(!df(e))return[!1];let r,i;typeof e.tracesSampler=="function"?(i=e.tracesSampler({...t,inheritOrSampleWith:a=>typeof t.parentSampleRate=="number"?t.parentSampleRate:typeof t.parentSampled=="boolean"?Number(t.parentSampled):a}),r=!0):t.parentSampled!==void 0?i=t.parentSampled:typeof e.tracesSampleRate<"u"&&(i=e.tracesSampleRate,r=!0);const s=N_(i);if(s===void 0)return Wt&&At.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(i)} of type ${JSON.stringify(typeof i)}.`),[!1];if(!s)return Wt&&At.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,s,r];const o=n<s;return o||Wt&&At.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),[o,s,r]}const z_="__SENTRY_SUPPRESS_TRACING__";function x1(e,t){const n=hf();if(n.startSpan)return n.startSpan(e,t);const r=j_(e),{forceTransaction:i,parentSpan:s,scope:o}=e,a=o?.clone();return uf(a,()=>R1(s)(()=>{const u=Xn(),l=q_(u,s),p=e.onlyIfParent&&!l?new su:W_({parentSpan:l,spanArguments:r,forceTransaction:i,scope:u});return Tc(u,p),w1(()=>t(p),()=>{const{status:f}=_e(p);p.isRecording()&&(!f||f==="ok")&&p.setStatus({code:Xw,message:"internal_error"})},()=>{p.end()})}))}function H_(e){const t=hf();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=j_(e),{forceTransaction:r,parentSpan:i}=e;return(e.scope?o=>uf(e.scope,o):i!==void 0?o=>pf(i,o):o=>o())(()=>{const o=Xn(),a=q_(o,i);return e.onlyIfParent&&!a?new su:W_({parentSpan:a,spanArguments:n,forceTransaction:r,scope:o})})}function pf(e,t){const n=hf();return n.withActiveSpan?n.withActiveSpan(e,t):uf(r=>(Tc(r,e||void 0),t(r)))}function W_({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!df()){const o=new su;if(n||!e){const a={sampled:"false",sample_rate:"0",transaction:t.name,...kc(o)};Bu(o,a)}return o}const i=jw();let s;if(e&&!n)s=C1(e,r,t),B_(e,s);else if(e){const o=kc(e),{traceId:a,spanId:c}=e.spanContext(),u=sa(e);s=Mh({traceId:a,parentSpanId:c,...t},r,u),Bu(s,o)}else{const{traceId:o,dsc:a,parentSpanId:c,sampled:u}={...i.getPropagationContext(),...r.getPropagationContext()};s=Mh({traceId:o,parentSpanId:c,...t},r,u),a&&Bu(s,a)}return S1(s),Qw(s,r,i),s}function j_(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=fs(e.startTime),delete r.startTime,r}return n}function hf(){const e=Hs();return na(e)}function Mh(e,t,n){const r=Yr(),i=r?.getOptions()||{},{name:s=""}=e,o={spanAttributes:{...e.attributes},spanName:s,parentSampled:n};r?.emit("beforeSampling",o,{decision:!1});const a=o.parentSampled??n,c=o.spanAttributes,u=t.getPropagationContext(),[l,d,p]=t.getScopeData().sdkProcessingMetadata[z_]?[!1]:k1(i,{name:s,parentSampled:a,attributes:c,parentSampleRate:N_(u.dsc?.sample_rate)},u.sampleRand),f=new ff({...e,attributes:{[Do]:"custom",[O_]:d!==void 0&&p?d:void 0,...c},sampled:l});return!l&&r&&(Wt&&At.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",f),f}function C1(e,t,n){const{spanId:r,traceId:i}=e.spanContext(),s=t.getScopeData().sdkProcessingMetadata[z_]?!1:sa(e),o=s?new ff({...n,parentSpanId:r,traceId:i,sampled:s}):new su({traceId:i});B_(e,o);const a=Yr();return a&&(a.emit("spanStart",o),n.endTimestamp&&a.emit("spanEnd",o)),o}function q_(e,t){if(t)return t;if(t===null)return;const n=wc(e);if(!n)return;const r=Yr();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?Pn(n):n}function R1(e){return e!==void 0?t=>pf(e,t):t=>t()}function A1(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}const Oh=Ve;function M1(){return"history"in Oh&&!!Oh.history}function O1(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function P1(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function D1(){return!P1()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function N1(){return typeof window<"u"&&(!D1()||L1())}function L1(){return Ve.process?.type==="renderer"}const Mi=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,J=Ve,$1=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",oa=(e,t,n,r)=>{let i,s;return o=>{t.value>=0&&(o||r)&&(s=t.value-(i??0),(s||i===void 0)&&(i=t.value,t.delta=s,t.rating=$1(t.value,n),e(t)))}},aa=(e=!0)=>{const t=J.performance?.getEntriesByType?.("navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},Ws=()=>aa()?.activationStart??0;function _i(e,t,n){J.document&&J.addEventListener(e,t,n)}function mf(e,t,n){J.document&&J.removeEventListener(e,t,n)}let ps=-1;const Y_=new Set,F1=()=>J.document?.visibilityState==="hidden"&&!J.document?.prerendering?0:1/0,ec=e=>{if(B1(e)&&ps>-1){if(e.type==="visibilitychange"||e.type==="pagehide")for(const t of Y_)t();isFinite(ps)||(ps=e.type==="visibilitychange"?e.timeStamp:0,mf("prerenderingchange",ec,!0))}},ca=()=>{if(J.document&&ps<0){const e=Ws();ps=(J.document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(n=>n.name==="hidden"&&n.startTime>e)[0]?.startTime)??F1(),_i("visibilitychange",ec,!0),_i("pagehide",ec,!0),_i("prerenderingchange",ec,!0)}return{get firstHiddenTime(){return ps},onHidden(e){Y_.add(e)}}};function B1(e){return e.type==="pagehide"||J.document?.visibilityState==="hidden"}const U1=()=>`v5-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,ua=(e,t=-1)=>{const n=aa();let r="navigate";return n&&(J.document?.prerendering||Ws()>0?r="prerender":J.document?.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:U1(),navigationType:r}},Uu=new WeakMap;function gf(e,t){return Uu.get(e)||Uu.set(e,new t),Uu.get(e)}class xc{constructor(){xc.prototype.__init.call(this),xc.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(t){if(t.hadRecentInput)return;const n=this._sessionEntries[0],r=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&n&&r&&t.startTime-r.startTime<1e3&&t.startTime-n.startTime<5e3?(this._sessionValue+=t.value,this._sessionEntries.push(t)):(this._sessionValue=t.value,this._sessionEntries=[t]),this._onAfterProcessingUnexpectedShift?.(t)}}const js=(e,t,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(i=>{Promise.resolve().then(()=>{t(i.getEntries())})});return r.observe({type:e,buffered:!0,...n}),r}}catch{}},_f=e=>{let t=!1;return()=>{t||(e(),t=!0)}},ou=e=>{J.document?.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},z1=[1800,3e3],H1=(e,t={})=>{ou(()=>{const n=ca(),r=ua("FCP");let i;const o=js("paint",a=>{for(const c of a)c.name==="first-contentful-paint"&&(o.disconnect(),c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-Ws(),0),r.entries.push(c),i(!0)))});o&&(i=oa(e,r,z1,t.reportAllChanges))})},W1=[.1,.25],j1=(e,t={})=>{H1(_f(()=>{const n=ua("CLS",0);let r;const i=ca(),s=gf(t,xc),o=c=>{for(const u of c)s._processEntry(u);s._sessionValue>n.value&&(n.value=s._sessionValue,n.entries=s._sessionEntries,r())},a=js("layout-shift",o);a&&(r=oa(e,n,W1,t.reportAllChanges),i.onHidden(()=>{o(a.takeRecords()),r(!0)}),J?.setTimeout?.(r))}))};let V_=0,zu=1/0,Ta=0;const q1=e=>{e.forEach(t=>{t.interactionId&&(zu=Math.min(zu,t.interactionId),Ta=Math.max(Ta,t.interactionId),V_=Ta?(Ta-zu)/7+1:0)})};let Bl;const G_=()=>Bl?V_:performance.interactionCount||0,Y1=()=>{"interactionCount"in performance||Bl||(Bl=js("event",q1,{type:"event",buffered:!0,durationThreshold:0}))},Hu=10;let X_=0;const V1=()=>G_()-X_;class Cc{constructor(){Cc.prototype.__init.call(this),Cc.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){X_=G_(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){const t=Math.min(this._longestInteractionList.length-1,Math.floor(V1()/50));return this._longestInteractionList[t]}_processEntry(t){if(this._onBeforeProcessingEntry?.(t),!(t.interactionId||t.entryType==="first-input"))return;const n=this._longestInteractionList.at(-1);let r=this._longestInteractionMap.get(t.interactionId);if(r||this._longestInteractionList.length<Hu||t.duration>n._latency){if(r?t.duration>r._latency?(r.entries=[t],r._latency=t.duration):t.duration===r._latency&&t.startTime===r.entries[0].startTime&&r.entries.push(t):(r={id:t.interactionId,entries:[t],_latency:t.duration},this._longestInteractionMap.set(r.id,r),this._longestInteractionList.push(r)),this._longestInteractionList.sort((i,s)=>s._latency-i._latency),this._longestInteractionList.length>Hu){const i=this._longestInteractionList.splice(Hu);for(const s of i)this._longestInteractionMap.delete(s.id)}this._onAfterProcessingINPCandidate?.(r)}}}const K_=e=>{const t=n=>{(n.type==="pagehide"||J.document?.visibilityState==="hidden")&&e(n)};_i("visibilitychange",t,!0),_i("pagehide",t,!0)},J_=e=>{const t=J.requestIdleCallback||J.setTimeout;J.document?.visibilityState==="hidden"?e():(e=_f(e),_i("visibilitychange",e,{once:!0,capture:!0}),t(()=>{e(),mf("visibilitychange",e,{capture:!0})}),K_(e))},G1=[200,500],X1=40,K1=(e,t={})=>{if(!(globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype))return;const n=ca();ou(()=>{Y1();const r=ua("INP");let i;const s=gf(t,Cc),o=c=>{J_(()=>{for(const l of c)s._processEntry(l);const u=s._estimateP98LongestInteraction();u&&u._latency!==r.value&&(r.value=u._latency,r.entries=u.entries,i())})},a=js("event",o,{durationThreshold:t.durationThreshold??X1});i=oa(e,r,G1,t.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),n.onHidden(()=>{o(a.takeRecords()),i(!0)}))})};class J1{_processEntry(t){this._onBeforeProcessingEntry?.(t)}}const Q1=[2500,4e3],Z1=(e,t={})=>{ou(()=>{const n=ca(),r=ua("LCP");let i;const s=gf(t,J1),o=c=>{t.reportAllChanges||(c=c.slice(-1));for(const u of c)s._processEntry(u),u.startTime<n.firstHiddenTime&&(r.value=Math.max(u.startTime-Ws(),0),r.entries=[u],i())},a=js("largest-contentful-paint",o);if(a){i=oa(e,r,Q1,t.reportAllChanges);const c=_f(()=>{o(a.takeRecords()),a.disconnect(),i(!0)}),u=l=>{l.isTrusted&&(J_(c),mf(l.type,u,{capture:!0}))};for(const l of["keydown","click","visibilitychange"])_i(l,u,{capture:!0})}})},tI=[800,1800],Ul=e=>{J.document?.prerendering?ou(()=>Ul(e)):J.document?.readyState!=="complete"?addEventListener("load",()=>Ul(e),!0):setTimeout(e)},eI=(e,t={})=>{const n=ua("TTFB"),r=oa(e,n,tI,t.reportAllChanges);Ul(()=>{const i=aa();i&&(n.value=Math.max(i.responseStart-Ws(),0),n.entries=[i],r(!0))})},uo={},Rc={};let Q_,Z_,ty,ey;function yf(e,t=!1){return au("cls",e,rI,Q_,t)}function Sf(e,t=!1){return au("lcp",e,iI,Z_,t)}function nI(e){return au("ttfb",e,sI,ty)}function ny(e){return au("inp",e,oI,ey)}function Oi(e,t){return ry(e,t),Rc[e]||(aI(e),Rc[e]=!0),iy(e,t)}function la(e,t){const n=uo[e];if(n?.length)for(const r of n)try{r(t)}catch(i){Mi&&At.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${I_(r)}
Error:`,i)}}function rI(){return j1(e=>{la("cls",{metric:e}),Q_=e},{reportAllChanges:!0})}function iI(){return Z1(e=>{la("lcp",{metric:e}),Z_=e},{reportAllChanges:!0})}function sI(){return eI(e=>{la("ttfb",{metric:e}),ty=e})}function oI(){return K1(e=>{la("inp",{metric:e}),ey=e})}function au(e,t,n,r,i=!1){ry(e,t);let s;return Rc[e]||(s=n(),Rc[e]=!0),r&&t({metric:r}),iy(e,t,i?s:void 0)}function aI(e){const t={};e==="event"&&(t.durationThreshold=0),js(e,n=>{la(e,{entries:n})},t)}function ry(e,t){uo[e]=uo[e]||[],uo[e].push(t)}function iy(e,t,n){return()=>{n&&n();const r=uo[e];if(!r)return;const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}function cI(e){return"duration"in e}function Wu(e){return typeof e=="number"&&isFinite(e)}function zr(e,t,n,{...r}){const i=_e(e).start_timestamp;return i&&i>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),pf(e,()=>{const s=H_({startTime:t,...r});return s&&s.end(n),s})}function bf(e){const t=Yr();if(!t)return;const{name:n,transaction:r,attributes:i,startTime:s}=e,{release:o,environment:a,sendDefaultPii:c}=t.getOptions(),l=t.getIntegrationByName("Replay")?.getReplayId(),d=Xn(),p=d.getUser(),f=p!==void 0?p.email||p.id||p.ip_address:void 0;let h;try{h=d.getScopeData().contexts.profile.profile_id}catch{}const m={release:o,environment:a,user:f||void 0,profile_id:h||void 0,replay_id:l||void 0,transaction:r,"user_agent.original":J.navigator?.userAgent,"client.address":c?"{{auto}}":void 0,...i};return H_({name:n,attributes:m,startTime:s,experimental:{standalone:!0}})}function da(){return J.addEventListener&&J.performance}function qt(e){return e/1e3}function uI(e){let t="unknown",n="unknown",r="";for(const i of e){if(i==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=i}return r===e&&(t=r),{name:t,version:n}}function sy(e){try{return PerformanceObserver.supportedEntryTypes.includes(e)}catch{return!1}}function oy(e,t){let n,r=!1;function i(a){!r&&n&&t(a,n),r=!0}K_(()=>{i("pagehide")});const s=e.on("beforeStartNavigationSpan",(a,c)=>{c?.isRedirect||(i("navigation"),s(),o())}),o=e.on("afterStartPageLoadSpan",a=>{n=a.spanContext().spanId,o()})}function lI(e){let t=0,n;if(!sy("layout-shift"))return;const r=yf(({metric:i})=>{const s=i.entries[i.entries.length-1];s&&(t=i.value,n=s)},!0);oy(e,(i,s)=>{dI(t,n,s,i),r()})}function dI(e,t,n,r){Mi&&At.log(`Sending CLS span (${e})`);const i=t?qt((En()||0)+t.startTime):lr(),s=Xn().getScopeData().transactionName,o=t?Yn(t.sources[0]?.node):"Layout shift",a={[Fe]:"auto.http.browser.cls",[Ai]:"ui.webvital.cls",[iu]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};t?.sources&&t.sources.forEach((u,l)=>{a[`cls.source.${l+1}`]=Yn(u.node)});const c=bf({name:o,transaction:s,attributes:a,startTime:i});c&&(c.addEvent("cls",{[ra]:"",[ia]:e}),c.end(i))}function fI(e){let t=0,n;if(!sy("largest-contentful-paint"))return;const r=Sf(({metric:i})=>{const s=i.entries[i.entries.length-1];s&&(t=i.value,n=s)},!0);oy(e,(i,s)=>{pI(t,n,s,i),r()})}function pI(e,t,n,r){Mi&&At.log(`Sending LCP span (${e})`);const i=qt((En()||0)+(t?.startTime||0)),s=Xn().getScopeData().transactionName,o=t?Yn(t.element):"Largest contentful paint",a={[Fe]:"auto.http.browser.lcp",[Ai]:"ui.webvital.lcp",[iu]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};t&&(t.element&&(a["lcp.element"]=Yn(t.element)),t.id&&(a["lcp.id"]=t.id),t.url&&(a["lcp.url"]=t.url),t.loadTime!=null&&(a["lcp.loadTime"]=t.loadTime),t.renderTime!=null&&(a["lcp.renderTime"]=t.renderTime),t.size!=null&&(a["lcp.size"]=t.size));const c=bf({name:o,transaction:s,attributes:a,startTime:i});c&&(c.addEvent("lcp",{[ra]:"millisecond",[ia]:e}),c.end(i))}function fn(e){return e&&((En()||performance.timeOrigin)+e)/1e3}function ay(e){const t={};if(e.nextHopProtocol!=null){const{name:n,version:r}=uI(e.nextHopProtocol);t["network.protocol.version"]=r,t["network.protocol.name"]=n}return En()||da()?.timeOrigin?hI({...t,"http.request.redirect_start":fn(e.redirectStart),"http.request.redirect_end":fn(e.redirectEnd),"http.request.worker_start":fn(e.workerStart),"http.request.fetch_start":fn(e.fetchStart),"http.request.domain_lookup_start":fn(e.domainLookupStart),"http.request.domain_lookup_end":fn(e.domainLookupEnd),"http.request.connect_start":fn(e.connectStart),"http.request.secure_connection_start":fn(e.secureConnectionStart),"http.request.connection_end":fn(e.connectEnd),"http.request.request_start":fn(e.requestStart),"http.request.response_start":fn(e.responseStart),"http.request.response_end":fn(e.responseEnd),"http.request.time_to_first_byte":e.responseStart!=null?e.responseStart/1e3:void 0}):t}function hI(e){return Object.fromEntries(Object.entries(e).filter(([,t])=>t!=null))}const mI=2147483647;let Ph=0,Rn={},ze,Ac;function gI({recordClsStandaloneSpans:e,recordLcpStandaloneSpans:t,client:n}){const r=da();if(r&&En()){r.mark&&J.performance.mark("sentry-tracing-init");const i=t?fI(n):EI(),s=vI(),o=e?lI(n):bI();return()=>{i?.(),s(),o?.()}}return()=>{}}function _I(){Oi("longtask",({entries:e})=>{const t=Hi();if(!t)return;const{op:n,start_timestamp:r}=_e(t);for(const i of e){const s=qt(En()+i.startTime),o=qt(i.duration);n==="navigation"&&r&&s<r||zr(t,s,s+o,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[Fe]:"auto.ui.browser.metrics"}})}})}function yI(){new PerformanceObserver(t=>{const n=Hi();if(n)for(const r of t.getEntries()){if(!r.scripts[0])continue;const i=qt(En()+r.startTime),{start_timestamp:s,op:o}=_e(n);if(o==="navigation"&&s&&i<s)continue;const a=qt(r.duration),c={[Fe]:"auto.ui.browser.metrics"},u=r.scripts[0],{invoker:l,invokerType:d,sourceURL:p,sourceFunctionName:f,sourceCharPosition:h}=u;c["browser.script.invoker"]=l,c["browser.script.invoker_type"]=d,p&&(c["code.filepath"]=p),f&&(c["code.function"]=f),h!==-1&&(c["browser.script.source_char_position"]=h),zr(n,i,i+a,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:c})}}).observe({type:"long-animation-frame",buffered:!0})}function SI(){Oi("event",({entries:e})=>{const t=Hi();if(t){for(const n of e)if(n.name==="click"){const r=qt(En()+n.startTime),i=qt(n.duration),s={name:Yn(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[Fe]:"auto.ui.browser.metrics"}},o=Cw(n.target);o&&(s.attributes["ui.component_name"]=o),zr(t,r,r+i,s)}}})}function bI(){return yf(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Rn.cls={value:e.value,unit:""},Ac=t)},!0)}function EI(){return Sf(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Rn.lcp={value:e.value,unit:"millisecond"},ze=t)},!0)}function vI(){return nI(({metric:e})=>{e.entries[e.entries.length-1]&&(Rn.ttfb={value:e.value,unit:"millisecond"})})}function TI(e,t){const n=da(),r=En();if(!n?.getEntries||!r)return;const i=qt(r),s=n.getEntries(),{op:o,start_timestamp:a}=_e(e);s.slice(Ph).forEach(c=>{const u=qt(c.startTime),l=qt(Math.max(0,c.duration));if(!(o==="navigation"&&a&&i+u<a))switch(c.entryType){case"navigation":{xI(e,c,i);break}case"mark":case"paint":case"measure":{II(e,c,u,l,i,t.ignorePerformanceApiSpans);const d=ca(),p=c.startTime<d.firstHiddenTime;c.name==="first-paint"&&p&&(Rn.fp={value:c.startTime,unit:"millisecond"}),c.name==="first-contentful-paint"&&p&&(Rn.fcp={value:c.startTime,unit:"millisecond"});break}case"resource":{AI(e,c,c.name,u,l,i,t.ignoreResourceSpans);break}}}),Ph=Math.max(s.length-1,0),MI(e),o==="pageload"&&(DI(Rn),t.recordClsOnPageloadSpan||delete Rn.cls,t.recordLcpOnPageloadSpan||delete Rn.lcp,Object.entries(Rn).forEach(([c,u])=>{E1(c,u.value,u.unit)}),e.setAttribute("performance.timeOrigin",i),e.setAttribute("performance.activationStart",Ws()),OI(e,t)),ze=void 0,Ac=void 0,Rn={}}function wI(e){if(e?.entryType==="measure")try{return e.detail.devtools.track==="Components "}catch{return}}function II(e,t,n,r,i,s){if(wI(t)||["mark","measure"].includes(t.entryType)&&Mw(t.name,s))return;const o=aa(!1),a=qt(o?o.requestStart:0),c=i+Math.max(n,a),u=i+n,l=u+r,d={[Fe]:"auto.resource.browser.metrics"};c!==u&&(d["sentry.browser.measure_happened_before_request"]=!0,d["sentry.browser.measure_start_time"]=c),kI(d,t),c<=l&&zr(e,c,l,{name:t.name,op:t.entryType,attributes:d})}function kI(e,t){try{const n=t.detail;if(!n)return;if(typeof n=="object"){for(const[r,i]of Object.entries(n))if(i&&Sh(i))e[`sentry.browser.measure.detail.${r}`]=i;else if(i!==void 0)try{e[`sentry.browser.measure.detail.${r}`]=JSON.stringify(i)}catch{}return}if(Sh(n)){e["sentry.browser.measure.detail"]=n;return}try{e["sentry.browser.measure.detail"]=JSON.stringify(n)}catch{}}catch{}}function xI(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{wa(e,t,r,n)}),wa(e,t,"secureConnection",n,"TLS/SSL"),wa(e,t,"fetch",n,"cache"),wa(e,t,"domainLookup",n,"DNS"),RI(e,t,n)}function wa(e,t,n,r,i=n){const s=CI(n),o=t[s],a=t[`${n}Start`];!a||!o||zr(e,r+qt(a),r+qt(o),{op:`browser.${i}`,name:t.name,attributes:{[Fe]:"auto.ui.browser.metrics",...n==="redirect"&&t.redirectCount!=null?{"http.redirect_count":t.redirectCount}:{}}})}function CI(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function RI(e,t,n){const r=n+qt(t.requestStart),i=n+qt(t.responseEnd),s=n+qt(t.responseStart);t.responseEnd&&(zr(e,r,i,{op:"browser.request",name:t.name,attributes:{[Fe]:"auto.ui.browser.metrics"}}),zr(e,s,i,{op:"browser.response",name:t.name,attributes:{[Fe]:"auto.ui.browser.metrics"}}))}function AI(e,t,n,r,i,s,o){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const a=t.initiatorType?`resource.${t.initiatorType}`:"resource.other";if(o?.includes(a))return;const c={[Fe]:"auto.resource.browser.metrics"},u=A1(n);u.protocol&&(c["url.scheme"]=u.protocol.split(":").pop()),u.host&&(c["server.address"]=u.host),c["url.same_origin"]=n.includes(J.location.origin),PI(t,c,[["responseStatus","http.response.status_code"],["transferSize","http.response_transfer_size"],["encodedBodySize","http.response_content_length"],["decodedBodySize","http.decoded_response_content_length"],["renderBlockingStatus","resource.render_blocking_status"],["deliveryType","http.response_delivery_type"]]);const l={...c,...ay(t)},d=s+r,p=d+i;zr(e,d,p,{name:n.replace(J.location.origin,""),op:a,attributes:l})}function MI(e){const t=J.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),Wu(n.rtt)&&(Rn["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Wu(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),Wu(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function OI(e,t){ze&&t.recordLcpOnPageloadSpan&&(ze.element&&e.setAttribute("lcp.element",Yn(ze.element)),ze.id&&e.setAttribute("lcp.id",ze.id),ze.url&&e.setAttribute("lcp.url",ze.url.trim().slice(0,200)),ze.loadTime!=null&&e.setAttribute("lcp.loadTime",ze.loadTime),ze.renderTime!=null&&e.setAttribute("lcp.renderTime",ze.renderTime),e.setAttribute("lcp.size",ze.size)),Ac?.sources&&t.recordClsOnPageloadSpan&&Ac.sources.forEach((n,r)=>e.setAttribute(`cls.source.${r+1}`,Yn(n.node)))}function PI(e,t,n){n.forEach(([r,i])=>{const s=e[r];s!=null&&(typeof s=="number"&&s<mI||typeof s=="string")&&(t[i]=s)})}function DI(e){const t=aa(!1);if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}function NI(){return da()&&En()?Oi("element",LI):()=>{}}const LI=({entries:e})=>{const t=Hi(),n=t?Pn(t):void 0,r=n?_e(n).description:Xn().getScopeData().transactionName;e.forEach(i=>{const s=i;if(!s.identifier)return;const o=s.name,a=s.renderTime,c=s.loadTime,[u,l]=c?[qt(c),"load-time"]:a?[qt(a),"render-time"]:[lr(),"entry-emission"],d=o==="image-paint"?qt(Math.max(0,(a??0)-(c??0))):0,p={[Fe]:"auto.ui.browser.elementtiming",[Ai]:"ui.elementtiming",[Do]:"component","sentry.span_start_time_source":l,"sentry.transaction_name":r,"element.id":s.id,"element.type":s.element?.tagName?.toLowerCase()||"unknown","element.size":s.naturalWidth&&s.naturalHeight?`${s.naturalWidth}x${s.naturalHeight}`:void 0,"element.render_time":a,"element.load_time":c,"element.url":s.url||void 0,"element.identifier":s.identifier,"element.paint_type":o};x1({name:`element[${s.identifier}]`,attributes:p,startTime:u,onlyIfParent:!0},f=>{f.end(u+d)})})},$I=1e3;let Dh,zl,Hl;function cy(e){of("dom",e),af("dom",FI)}function FI(){if(!J.document)return;const e=Po.bind(null,"dom"),t=Nh(e,!0);J.document.addEventListener("click",t,!1),J.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const i=J[n]?.prototype;i?.hasOwnProperty?.("addEventListener")&&(Ec(i,"addEventListener",function(s){return function(o,a,c){if(o==="click"||o=="keypress")try{const u=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},l=u[o]=u[o]||{refCount:0};if(!l.handler){const d=Nh(e);l.handler=d,s.call(this,o,d,c)}l.refCount++}catch{}return s.call(this,o,a,c)}}),Ec(i,"removeEventListener",function(s){return function(o,a,c){if(o==="click"||o=="keypress")try{const u=this.__sentry_instrumentation_handlers__||{},l=u[o];l&&(l.refCount--,l.refCount<=0&&(s.call(this,o,l.handler,c),l.handler=void 0,delete u[o]),Object.keys(u).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return s.call(this,o,a,c)}}))})}function BI(e){if(e.type!==zl)return!1;try{if(!e.target||e.target._sentryId!==Hl)return!1}catch{}return!0}function UI(e,t){return e!=="keypress"?!1:t?.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function Nh(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=zI(n);if(UI(n.type,r))return;gr(n,"_sentryCaptured",!0),r&&!r._sentryId&&gr(r,"_sentryId",gi());const i=n.type==="keypress"?"input":n.type;BI(n)||(e({event:n,name:i,global:t}),zl=n.type,Hl=r?r._sentryId:void 0),clearTimeout(Dh),Dh=J.setTimeout(()=>{Hl=void 0,zl=void 0},$I)}}function zI(e){try{return e.target}catch{return null}}let Ia;function cu(e){const t="history";of(t,e),af(t,HI)}function HI(){if(J.addEventListener("popstate",()=>{const t=J.location.href,n=Ia;if(Ia=t,n===t)return;Po("history",{from:n,to:t})}),!M1())return;function e(t){return function(...n){const r=n.length>2?n[2]:void 0;if(r){const i=Ia,s=WI(String(r));if(Ia=s,i===s)return t.apply(this,n);Po("history",{from:i,to:s})}return t.apply(this,n)}}Ec(J.history,"pushState",e),Ec(J.history,"replaceState",e)}function WI(e){try{return new URL(e,J.location.origin).toString()}catch{return e}}const nc={};function uy(e){const t=nc[e];if(t)return t;let n=J[e];if(O1(n))return nc[e]=n.bind(J);const r=J.document;if(r&&typeof r.createElement=="function")try{const i=r.createElement("iframe");i.hidden=!0,r.head.appendChild(i);const s=i.contentWindow;s?.[e]&&(n=s[e]),r.head.removeChild(i)}catch(i){Mi&&At.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,i)}return n&&(nc[e]=n.bind(J))}function jI(e){nc[e]=void 0}function fa(...e){return uy("setTimeout")(...e)}const ai="__sentry_xhr_v3__";function ly(e){of("xhr",e),af("xhr",qI)}function qI(){if(!J.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const i=new Error,s=lr()*1e3,o=Or(r[0])?r[0].toUpperCase():void 0,a=YI(r[1]);if(!o||!a)return t.apply(n,r);n[ai]={method:o,url:a,request_headers:{}},o==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const c=()=>{const u=n[ai];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}const l={endTimestamp:lr()*1e3,startTimestamp:s,xhr:n,virtualError:i};Po("xhr",l)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(u,l,d){return c(),u.apply(l,d)}}):n.addEventListener("readystatechange",c),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,l,d){const[p,f]=d,h=l[ai];return h&&Or(p)&&Or(f)&&(h.request_headers[p.toLowerCase()]=f),u.apply(l,d)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const i=n[ai];if(!i)return t.apply(n,r);r[0]!==void 0&&(i.body=r[0]);const s={startTimestamp:lr()*1e3,xhr:n};return Po("xhr",s),t.apply(n,r)}})}function YI(e){if(Or(e))return e;try{return e.toString()}catch{}}function dy(e){return new URLSearchParams(e).toString()}function fy(e,t=At){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[dy(e)];if(!e)return[void 0]}catch(n){return Mi&&t.error(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return Mi&&t.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function py(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}function hy(e){let t;try{t=e.getAllResponseHeaders()}catch(n){return Mi&&At.error(n,"Failed to get xhr response headers",e),{}}return t?t.split(`\r
`).reduce((n,r)=>{const[i,s]=r.split(": ");return s&&(n[i.toLowerCase()]=s),n},{}):{}}const ju=[],rc=new Map,Vi=new Map,VI=60;function GI(){if(da()&&En()){const t=XI();return()=>{t()}}return()=>{}}const Wl={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function XI(){return ny(KI)}const KI=({metric:e})=>{if(e.value==null)return;const t=qt(e.value);if(t>VI)return;const n=e.entries.find(h=>h.duration===e.value&&Wl[h.name]);if(!n)return;const{interactionId:r}=n,i=Wl[n.name],s=qt(En()+n.startTime),o=Hi(),a=o?Pn(o):void 0,c=r!=null?rc.get(r):void 0,u=c?.span||a,l=u?_e(u).description:Xn().getScopeData().transactionName,d=c?.elementName||Yn(n.target),p={[Fe]:"auto.http.browser.inp",[Ai]:`ui.interaction.${i}`,[iu]:n.duration},f=bf({name:d,transaction:l,attributes:p,startTime:s});f&&(f.addEvent("inp",{[ra]:"millisecond",[ia]:e.value}),f.end(s+t))};function JI(){const e=Object.keys(Wl);N1()&&e.forEach(i=>{J.addEventListener(i,t,{capture:!0,passive:!0})});function t(i){const s=i.target;if(!s)return;const o=Yn(s),a=Math.round(i.timeStamp);if(Vi.set(a,o),Vi.size>50){const c=Vi.keys().next().value;c!==void 0&&Vi.delete(c)}}function n(i){const s=Math.round(i.startTime);let o=Vi.get(s);if(!o)for(let a=-5;a<=5;a++){const c=Vi.get(s+a);if(c){o=c;break}}return o||"<unknown>"}const r=({entries:i})=>{const s=Hi(),o=s&&Pn(s);i.forEach(a=>{if(!cI(a))return;const c=a.interactionId;if(c==null||rc.has(c))return;const u=a.target?Yn(a.target):n(a);if(ju.length>10){const l=ju.shift();rc.delete(l)}ju.push(c),rc.set(c,{span:o,elementName:u})})};Oi("event",r),Oi("first-input",r)}const QI=40;function ZI(e,t=uy("fetch")){let n=0,r=0;async function i(s){const o=s.body.length;n+=o,r++;const a={body:s.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{const c=await t(e.url,a);return{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}}catch(c){throw jI("fetch"),c}finally{n-=o,r--}}return Jv(e,i,Kd(e.bufferSize||QI))}const bn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,tk=30,ek=50;function jl(e,t,n,r){const i={filename:e,function:t==="<anonymous>"?Ii:t,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}const nk=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,rk=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,ik=/\((\S*)(?::(\d+))(?::(\d+))\)/,sk=/at (.+?) ?\(data:(.+?),/,ok=e=>{const t=e.match(sk);if(t)return{filename:`<data:${t[2]}>`,function:t[1]};const n=nk.exec(e);if(n){const[,i,s,o]=n;return jl(i,Ii,+s,+o)}const r=rk.exec(e);if(r){if(r[2]&&r[2].indexOf("eval")===0){const a=ik.exec(r[2]);a&&(r[2]=a[1],r[3]=a[2],r[4]=a[3])}const[s,o]=my(r[1]||Ii,r[2]);return jl(o,s,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}},ak=[tk,ok],ck=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,uk=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,lk=e=>{const t=ck.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const s=uk.exec(t[3]);s&&(t[1]=t[1]||"eval",t[3]=s[1],t[4]=s[2],t[5]="")}let r=t[3],i=t[1]||Ii;return[i,r]=my(i,r),jl(r,i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},dk=[ek,lk],fk=[ak,dk],pk=yg(...fk),my=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:Ii,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},ka=1024,hk="Breadcrumbs",mk=((e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:hk,setup(n){t.console&&OT(Sk(n)),t.dom&&cy(yk(n,t.dom)),t.xhr&&ly(bk(n)),t.fetch&&S_(Ek(n)),t.history&&cu(vk(n)),t.sentry&&n.on("beforeSendEvent",_k(n))}}}),gk=mk;function _k(e){return function(n){It()===e&&Ri({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:oi(n)},{event:n})}}function yk(e,t){return function(r){if(It()!==e)return;let i,s,o=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>ka&&(bn&&N.warn(`\`dom.maxStringLength\` cannot exceed ${ka}, but a value of ${a} was configured. Sentry will use ${ka} instead.`),a=ka),typeof o=="string"&&(o=[o]);try{const u=r.event,l=Tk(u)?u.target:u;i=kg(l,{keyAttrs:o,maxStringLength:a}),s=Nb(l)}catch{i="<unknown>"}if(i.length===0)return;const c={category:`ui.${r.name}`,message:i};s&&(c.data={"ui.component_name":s}),Ri(c,{event:r.event,name:r.name,global:r.global})}}function Sk(e){return function(n){if(It()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:DT(n.level),message:Ap(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${Ap(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;Ri(r,{input:n.args,level:n.level})}}function bk(e){return function(n){if(It()!==e)return;const{startTimestamp:r,endTimestamp:i}=n,s=n.xhr[ai];if(!r||!i||!s)return;const{method:o,url:a,status_code:c,body:u}=s,l={method:o,url:a,status_code:c},d={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:i},p={category:"xhr",data:l,type:"http",level:y_(c)};e.emit("beforeOutgoingRequestBreadcrumb",p,d),Ri(p,d)}}function Ek(e){return function(n){if(It()!==e)return;const{startTimestamp:r,endTimestamp:i}=n;if(i&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.fetchData.method,n.fetchData.url,n.error){const s=n.fetchData,o={data:n.error,input:n.args,startTimestamp:r,endTimestamp:i},a={category:"fetch",data:s,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",a,o),Ri(a,o)}else{const s=n.response,o={...n.fetchData,status_code:s?.status};n.fetchData.request_body_size,n.fetchData.response_body_size,s?.status;const a={input:n.args,response:s,startTimestamp:r,endTimestamp:i},c={category:"fetch",data:o,type:"http",level:y_(o.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",c,a),Ri(c,a)}}}function vk(e){return function(n){if(It()!==e)return;let r=n.from,i=n.to;const s=ds(mt.location.href);let o=r?ds(r):void 0;const a=ds(i);o?.path||(o=s),s.protocol===a.protocol&&s.host===a.host&&(i=a.relative),s.protocol===o.protocol&&s.host===o.host&&(r=o.relative),Ri({category:"navigation",data:{from:r,to:i}})}}function Tk(e){return!!e&&!!e.target}const wk=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Ik="BrowserApiErrors",kk=((e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:Ik,setupOnce(){t.setTimeout&&or(mt,"setTimeout",Lh),t.setInterval&&or(mt,"setInterval",Lh),t.requestAnimationFrame&&or(mt,"requestAnimationFrame",Ck),t.XMLHttpRequest&&"XMLHttpRequest"in mt&&or(XMLHttpRequest.prototype,"send",Rk);const n=t.eventTarget;n&&(Array.isArray(n)?n:wk).forEach(i=>Ak(i,t))}}}),xk=kk;function Lh(e){return function(...t){const n=t[0];return t[0]=Ts(n,{mechanism:{handled:!1,type:`auto.browser.browserapierrors.${Br(e)}`}}),e.apply(this,t)}}function Ck(e){return function(t){return e.apply(this,[Ts(t,{mechanism:{data:{handler:Br(e)},handled:!1,type:"auto.browser.browserapierrors.requestAnimationFrame"}})])}}function Rk(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in n&&typeof n[i]=="function"&&or(n,i,function(s){const o={mechanism:{data:{handler:Br(s)},handled:!1,type:`auto.browser.browserapierrors.xhr.${i}`}},a=Bd(s);return a&&(o.mechanism.data.handler=Br(a)),Ts(s,o)})}),e.apply(this,t)}}function Ak(e,t){const r=mt[e]?.prototype;r?.hasOwnProperty?.("addEventListener")&&(or(r,"addEventListener",function(i){return function(s,o,a){try{Mk(o)&&(o.handleEvent=Ts(o.handleEvent,{mechanism:{data:{handler:Br(o),target:e},handled:!1,type:"auto.browser.browserapierrors.handleEvent"}}))}catch{}return t.unregisterOriginalCallbacks&&Ok(this,s,o),i.apply(this,[s,Ts(o,{mechanism:{data:{handler:Br(o),target:e},handled:!1,type:"auto.browser.browserapierrors.addEventListener"}}),a])}}),or(r,"removeEventListener",function(i){return function(s,o,a){try{const c=o.__sentry_wrapped__;c&&i.call(this,s,c,a)}catch{}return i.call(this,s,o,a)}}))}function Mk(e){return typeof e.handleEvent=="function"}function Ok(e,t,n){e&&typeof e=="object"&&"removeEventListener"in e&&typeof e.removeEventListener=="function"&&e.removeEventListener(t,n)}const Pk=()=>({name:"BrowserSession",setupOnce(){if(typeof mt.document>"u"){bn&&N.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}Qp({ignoreDuration:!0}),Zp(),cu(({from:e,to:t})=>{e!==void 0&&e!==t&&(Qp({ignoreDuration:!0}),Zp())})}}),Dk="GlobalHandlers",Nk=((e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:Dk,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&($k(n),$h("onerror")),t.onunhandledrejection&&(Fk(n),$h("onunhandledrejection"))}}}),Lk=Nk;function $k(e){bg(t=>{const{stackParser:n,attachStacktrace:r}=gy();if(It()!==e||E_())return;const{msg:i,url:s,line:o,column:a,error:c}=t,u=zk(tf(n,c||i,void 0,r,!1),s,o,a);u.level="error",Zg(u,{originalException:c,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})})}function Fk(e){Eg(t=>{const{stackParser:n,attachStacktrace:r}=gy();if(It()!==e||E_())return;const i=Bk(t),s=Zc(i)?Uk(i):tf(n,i,void 0,r,!0);s.level="error",Zg(s,{originalException:i,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})})}function Bk(e){if(Zc(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function Uk(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function zk(e,t,n,r){const i=e.exception=e.exception||{},s=i.values=i.values||[],o=s[0]=s[0]||{},a=o.stacktrace=o.stacktrace||{},c=a.frames=a.frames||[],u=r,l=n,d=Hk(t)??ta();return c.length===0&&c.push({colno:u,filename:d,function:Ii,in_app:!0,lineno:l}),e}function $h(e){bn&&N.log(`Global Handler attached: ${e}`)}function gy(){return It()?.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}function Hk(e){if(!(!xo(e)||e.length===0)){if(e.startsWith("data:")){const t=e.match(/^data:([^;]+)/),n=t?t[1]:"text/javascript",r=e.includes("base64,");return`<data:${n}${r?",base64":""}>`}return e}}const Wk=()=>({name:"HttpContext",preprocessEvent(e){if(!mt.navigator&&!mt.location&&!mt.document)return;const t=Jd(),n={...t.headers,...e.request?.headers};e.request={...t,...e.request,headers:n}}}),jk="cause",qk=5,Yk="LinkedErrors",Vk=((e={})=>{const t=e.limit||qk,n=e.key||jk;return{name:Yk,preprocessEvent(r,i,s){const o=s.getOptions();MT(Qd,o.stackParser,n,t,r,i)}}}),Gk=Vk;function Xk(){return Kk()?(bn&&$s(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function Kk(){if(typeof mt.window>"u")return!1;const e=mt;if(e.nw||!(e.chrome||e.browser)?.runtime?.id)return!1;const n=ta(),r=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(mt===mt.top&&r.some(s=>n.startsWith(`${s}://`)))}function Jk(e){return[TT(),ST(),xk(),gk(),Lk(),Gk(),$T(),Wk(),Pk()]}function Qk(e={}){const t=!e.skipBrowserExtensionCheck&&Xk();let n=e.defaultIntegrations==null?Jk():e.defaultIntegrations;const r={...e,enabled:t?!1:e.enabled,stackParser:Ib(e.stackParser||pk),integrations:Fv({integrations:e.integrations,defaultIntegrations:n}),transport:e.transport||ZI};return aT(hw,r)}const Pr=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Be=globalThis,lo="10.27.0";function uu(){return Ef(Be),Be}function Ef(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||lo,t[lo]=t[lo]||{}}function lu(e,t,n=Be){const r=n.__SENTRY__=n.__SENTRY__||{},i=r[lo]=r[lo]||{};return i[e]||(i[e]=t())}const Zk="Sentry Logger ",Fh={};function vf(e){if(!("console"in Be))return e();const t=Be.console,n={},r=Object.keys(Fh);r.forEach(i=>{const s=Fh[i];n[i]=t[i],t[i]=s});try{return e()}finally{r.forEach(i=>{t[i]=n[i]})}}function tx(){wf().enabled=!0}function ex(){wf().enabled=!1}function _y(){return wf().enabled}function nx(...e){Tf("log",...e)}function rx(...e){Tf("warn",...e)}function ix(...e){Tf("error",...e)}function Tf(e,...t){Pr&&_y()&&vf(()=>{Be.console[e](`${Zk}[${e}]:`,...t)})}function wf(){return Pr?lu("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const dr={enable:tx,disable:ex,isEnabled:_y,log:nx,warn:rx,error:ix},qu="<anonymous>";function sx(e){try{return!e||typeof e!="function"?qu:e.name||qu}catch{return qu}}function ox(e){return"__v_isVNode"in e&&e.__v_isVNode?"[VueVNode]":"[VueViewModel]"}const yy=Object.prototype.toString;function ax(e){switch(yy.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return fu(e,Error)}}function If(e,t){return yy.call(e)===`[object ${t}]`}function Mc(e){return If(e,"String")}function Sy(e){return If(e,"Object")}function cx(e){return typeof Event<"u"&&fu(e,Event)}function ux(e){return typeof Element<"u"&&fu(e,Element)}function lx(e){return If(e,"RegExp")}function du(e){return!!(e?.then&&typeof e.then=="function")}function dx(e){return Sy(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function fu(e,t){try{return e instanceof t}catch{return!1}}function fx(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue||e.__v_isVNode))}const by=Be,px=80;function kf(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,i=[];let s=0,o=0;const a=" > ",c=a.length;let u;const l=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||px;for(;n&&s++<r&&(u=hx(n,l),!(u==="html"||s>1&&o+i.length*c+u.length>=d));)i.push(u),o+=u.length,n=n.parentNode;return i.reverse().join(a)}catch{return"<unknown>"}}function hx(e,t){const n=e,r=[];if(!n?.tagName)return"";if(by.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=t?.length?t.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(i?.length)i.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&Mc(o)){const a=o.split(/\s+/);for(const c of a)r.push(`.${c}`)}}const s=["aria-label","type","name","title","alt"];for(const o of s){const a=n.getAttribute(o);a&&r.push(`[${o}="${a}"]`)}return r.join("")}function mx(){try{return by.document.location.href}catch{return""}}function gx(e,t,n){if(!(t in e))return;const r=e[t];if(typeof r!="function")return;const i=n(r);typeof i=="function"&&_x(i,r);try{e[t]=i}catch{Pr&&dr.log(`Failed to replace method "${t}" in object`,e)}}function Ey(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{Pr&&dr.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function _x(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,Ey(e,"__sentry_original__",t)}catch{}}function yx(e){if(ax(e))return{message:e.message,name:e.name,stack:e.stack,...Uh(e)};if(cx(e)){const t={type:e.type,target:Bh(e.target),currentTarget:Bh(e.currentTarget),...Uh(e)};return typeof CustomEvent<"u"&&fu(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function Bh(e){try{return ux(e)?kf(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function Uh(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function ql(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Sx(e,t,n=!1){return Mc(e)?lx(t)?t.test(e):Mc(t)?n?e===t:e.includes(t):!1:!1}function bx(e,t=[],n=!1){return t.some(r=>Sx(e,r,n))}function Ex(){const e=Be;return e.crypto||e.msCrypto}let Yu;function vx(){return Math.random()*16}function Dr(e=Ex()){try{if(e?.randomUUID)return e.randomUUID().replace(/-/g,"")}catch{}return Yu||(Yu="10000000100040008000"+1e11),Yu.replace(/[018]/g,t=>(t^(vx()&15)>>t/4).toString(16))}function Tx(e){return e.exception?.values?.[0]}function wx(e,t){const n=Tx(e);if(!n)return;const r={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...r,...i,...t},t&&"data"in t){const s={...i?.data,...t.data};n.mechanism.data=s}}const vy=1e3;function pu(){return Date.now()/vy}function Ix(){const{performance:e}=Be;if(!e?.now||!e.timeOrigin)return pu;const t=e.timeOrigin;return()=>(t+e.now())/vy}let zh;function Ty(){return(zh??(zh=Ix()))()}let Vu;function kx(){const{performance:e}=Be;if(!e?.now)return[void 0,"none"];const t=3600*1e3,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,s=i<t,o=e.timing?.navigationStart,c=typeof o=="number"?Math.abs(o+n-r):t,u=c<t;return s||u?i<=c?[e.timeOrigin,"timeOrigin"]:[o,"navigationStart"]:[r,"dateNow"]}function xx(){return Vu||(Vu=kx()),Vu[0]}function Cx(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Ty(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Dr()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function hu(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&Object.keys(t).length===0)return e;const r={...e};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=hu(r[i],t[i],n-1));return r}function Hh(){return Dr()}function Rx(){return Dr().substring(16)}const Yl="_sentrySpan";function Wh(e,t){t?Ey(e,Yl,t):delete e[Yl]}function Vl(e){return e[Yl]}const Ax=100;class Vn{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._attributes={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Hh(),sampleRand:Math.random()}}clone(){const t=new Vn;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._attributes={...this._attributes},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,Wh(t,Vl(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Cx(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this.setTags({[t]:n})}setAttributes(t){return this._attributes={...this._attributes,...t},this._notifyScopeListeners(),this}setAttribute(t,n){return this.setAttributes({[t]:n})}removeAttribute(t){return t in this._attributes&&(delete this._attributes[t],this._notifyScopeListeners()),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,r=n instanceof Vn?n.getScopeData():Sy(n)?t:void 0,{tags:i,attributes:s,extra:o,user:a,contexts:c,level:u,fingerprint:l=[],propagationContext:d}=r||{};return this._tags={...this._tags,...i},this._attributes={...this._attributes,...s},this._extra={...this._extra,...o},this._contexts={...this._contexts,...c},a&&Object.keys(a).length&&(this._user=a),u&&(this._level=u),l.length&&(this._fingerprint=l),d&&(this._propagationContext=d),this}clear(){return this._breadcrumbs=[],this._tags={},this._attributes={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,Wh(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Hh(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:Ax;if(r<=0)return this;const i={timestamp:pu(),...t,message:t.message?ql(t.message,2048):t.message};return this._breadcrumbs.push(i),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,attributes:this._attributes,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Vl(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=hu(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n?.event_id||Dr();if(!this._client)return Pr&&dr.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},this),r}captureMessage(t,n,r){const i=r?.event_id||Dr();if(!this._client)return Pr&&dr.warn("No client configured on scope - will not capture message!"),i;const s=r?.syntheticException??new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:s,...r,event_id:i},this),i}captureEvent(t,n){const r=n?.event_id||Dr();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(Pr&&dr.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function Mx(){return lu("defaultCurrentScope",()=>new Vn)}function Ox(){return lu("defaultIsolationScope",()=>new Vn)}class Px{constructor(t,n){let r;t?r=t:r=new Vn;let i;n?i=n:i=new Vn,this._stack=[{scope:r}],this._isolationScope=i}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(i){throw this._popScope(),i}return du(r)?r.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function Is(){const e=uu(),t=Ef(e);return t.stack=t.stack||new Px(Mx(),Ox())}function Dx(e){return Is().withScope(e)}function Nx(e,t){const n=Is();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function jh(e){return Is().withScope(()=>e(Is().getIsolationScope()))}function Lx(){return{withIsolationScope:jh,withScope:Dx,withSetScope:Nx,withSetIsolationScope:(e,t)=>jh(t),getCurrentScope:()=>Is().getScope(),getIsolationScope:()=>Is().getIsolationScope()}}function xf(e){const t=Ef(e);return t.acs?t.acs:Lx()}function pa(){const e=uu();return xf(e).getCurrentScope()}function mu(){const e=uu();return xf(e).getIsolationScope()}function $x(){return lu("globalScope",()=>new Vn)}function Kn(){return pa().getClient()}const wy="sentry.source",Fx="sentry.sample_rate",Bx="sentry.previous_trace_sample_rate",Ux="sentry.op",zx="sentry.origin",Hx=0,Wx=1,jx="_sentryScope",qx="_sentryIsolationScope";function Yx(e){if(e){if(typeof e=="object"&&"deref"in e&&typeof e.deref=="function")try{return e.deref()}catch{return}return e}}function Iy(e){const t=e;return{scope:t[jx],isolationScope:Yx(t[qx])}}const Vx="sentry-",Gx=/^sentry-/;function Xx(e){const t=Kx(e);if(!t)return;const n=Object.entries(t).reduce((r,[i,s])=>{if(i.match(Gx)){const o=i.slice(Vx.length);r[o]=s}return r},{});if(Object.keys(n).length>0)return n}function Kx(e){if(!(!e||!Mc(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=qh(n);return Object.entries(r).forEach(([i,s])=>{t[i]=s}),t},{}):qh(e)}function qh(e){return e.split(",").map(t=>{const n=t.indexOf("=");if(n===-1)return[];const r=t.slice(0,n),i=t.slice(n+1);return[r,i].map(s=>{try{return decodeURIComponent(s.trim())}catch{return}})}).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}const Jx=/^o(\d+)\./;function Qx(e,t=!1){const{host:n,path:r,pass:i,port:s,projectId:o,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&i?`:${i}`:""}@${n}${s?`:${s}`:""}/${r&&`${r}/`}${o}`}function Zx(e){return e.match(Jx)?.[1]}function tC(e){const t=e.getOptions(),{host:n}=e.getDsn()||{};let r;return t.orgId?r=String(t.orgId):n&&(r=Zx(n)),r}function Yh(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}const ky=1;function eC(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext(),i=r?t:No(e).parent_span_id,s=Iy(e).scope,o=r?s?.getPropagationContext().propagationSpanId||Rx():t;return{parent_span_id:i,span_id:o,trace_id:n}}function nC(e){if(e&&e.length>0)return e.map(({context:{spanId:t,traceId:n,traceFlags:r,...i},attributes:s})=>({span_id:t,trace_id:n,sampled:r===ky,attributes:s,...i}))}function Vh(e){return typeof e=="number"?Gh(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Gh(e.getTime()):Ty()}function Gh(e){return e>9999999999?e/1e3:e}function No(e){if(iC(e))return e.getSpanJSON();const{spanId:t,traceId:n}=e.spanContext();if(rC(e)){const{attributes:r,startTime:i,name:s,endTime:o,status:a,links:c}=e,u="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?e.parentSpanContext?.spanId:void 0;return{span_id:t,trace_id:n,data:r,description:s,parent_span_id:u,start_timestamp:Vh(i),timestamp:Vh(o)||void 0,status:oC(a),op:r[Ux],origin:r[zx],links:nC(c)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function rC(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function iC(e){return typeof e.getSpanJSON=="function"}function sC(e){const{traceFlags:t}=e.spanContext();return t===ky}function oC(e){if(!(!e||e.code===Hx))return e.code===Wx?"ok":e.message||"internal_error"}const aC="_sentryRootSpan";function Cf(e){return e[aC]||e}function xy(){const e=uu(),t=xf(e);return t.getActiveSpan?t.getActiveSpan():Vl(pa())}function cC(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=Kn()?.getOptions();return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}const Cy="production",uC="_frozenDsc";function lC(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},i={environment:n.environment||Cy,release:n.release,public_key:r,trace_id:e,org_id:tC(t)};return t.emit("createDsc",i),i}function Ry(e){const t=Kn();if(!t)return{};const n=Cf(e),r=No(n),i=r.data,s=n.spanContext().traceState,o=s?.get("sentry.sample_rate")??i[Fx]??i[Bx];function a(h){return(typeof o=="number"||typeof o=="string")&&(h.sample_rate=`${o}`),h}const c=n[uC];if(c)return a(c);const u=s?.get("sentry.dsc"),l=u&&Xx(u);if(l)return a(l);const d=lC(e.spanContext().traceId,t),p=i[wy],f=r.description;return p!=="url"&&f&&(d.transaction=f),cC()&&(d.sampled=String(sC(n)),d.sample_rand=s?.get("sentry.sample_rand")??Iy(n).scope?.getPropagationContext().sampleRand.toString()),a(d),t.emit("createDsc",d,n),d}function nr(e,t=100,n=1/0){try{return Gl("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function Gl(e,t,n=1/0,r=1/0,i=pC()){const[s,o]=i;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const a=dC(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(s(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const f=u.toJSON();return Gl("",f,c-1,r,i)}catch{}const l=Array.isArray(t)?[]:{};let d=0;const p=yx(t);for(const f in p){if(!Object.prototype.hasOwnProperty.call(p,f))continue;if(d>=r){l[f]="[MaxProperties ~]";break}const h=p[f];l[f]=Gl(f,h,c-1,r,i),d++}return o(t),l}function dC(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(fx(t))return ox(t);if(dx(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${sx(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=fC(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function fC(e){const t=Object.getPrototypeOf(e);return t?.constructor?t.constructor.name:"null prototype"}function pC(){const e=new WeakSet;function t(r){return e.has(r)?!0:(e.add(r),!1)}function n(r){e.delete(r)}return[t,n]}function hC(e,t=[]){return[e,t]}function mC(e){if(!e?.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function gC(e,t,n,r){const i=e.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:Qx(r)},...i&&{trace:i}}}const Gu=0,Xh=1,Kh=2;function _C(e){return new Lo(t=>{t(e)})}function yC(e){return new Lo((t,n)=>{n(e)})}class Lo{constructor(t){this._state=Gu,this._handlers=[],this._runExecutor(t)}then(t,n){return new Lo((r,i)=>{this._handlers.push([!1,s=>{if(!t)r(s);else try{r(t(s))}catch(o){i(o)}},s=>{if(!n)i(s);else try{r(n(s))}catch(o){i(o)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Lo((n,r)=>{let i,s;return this.then(o=>{s=!1,i=o,t&&t()},o=>{s=!0,i=o,t&&t()}).then(()=>{if(s){r(i);return}n(i)})})}_executeHandlers(){if(this._state===Gu)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===Xh&&n[1](this._value),this._state===Kh&&n[2](this._value),n[0]=!0)})}_runExecutor(t){const n=(s,o)=>{if(this._state===Gu){if(du(o)){o.then(r,i);return}this._state=s,this._value=o,this._executeHandlers()}},r=s=>{n(Xh,s)},i=s=>{n(Kh,s)};try{t(r,i)}catch(s){i(s)}}}function SC(e,t,n,r=0){try{const i=Xl(t,n,e,r);return du(i)?i:_C(i)}catch(i){return yC(i)}}function Xl(e,t,n,r){const i=n[r];if(!e||!i)return e;const s=i({...e},t);return Pr&&s===null&&dr.log(`Event processor "${i.id||"?"}" dropped event`),du(s)?s.then(o=>Xl(o,t,n,r+1)):Xl(s,t,n,r+1)}function bC(e,t){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:s}=t;EC(e,t),r&&wC(e,r),IC(e,n),vC(e,i),TC(e,s)}function Jh(e,t){const{extra:n,tags:r,user:i,contexts:s,level:o,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:l,attachments:d,propagationContext:p,transactionName:f,span:h}=t;xa(e,"extra",n),xa(e,"tags",r),xa(e,"user",i),xa(e,"contexts",s),e.sdkProcessingMetadata=hu(e.sdkProcessingMetadata,a,2),o&&(e.level=o),f&&(e.transactionName=f),h&&(e.span=h),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),l.length&&(e.eventProcessors=[...e.eventProcessors,...l]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...p}}function xa(e,t,n){e[t]=hu(e[t],n,1)}function EC(e,t){const{extra:n,tags:r,user:i,contexts:s,level:o,transactionName:a}=t;Object.keys(n).length&&(e.extra={...n,...e.extra}),Object.keys(r).length&&(e.tags={...r,...e.tags}),Object.keys(i).length&&(e.user={...i,...e.user}),Object.keys(s).length&&(e.contexts={...s,...e.contexts}),o&&(e.level=o),a&&e.type!=="transaction"&&(e.transaction=a)}function vC(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function TC(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function wC(e,t){e.contexts={trace:eC(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:Ry(t),...e.sdkProcessingMetadata};const n=Cf(t),r=No(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function IC(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}let Zr,Qh,Zh,Tr;function kC(e){const t=Be._sentryDebugIds,n=Be._debugIds;if(!t&&!n)return{};const r=t?Object.keys(t):[],i=n?Object.keys(n):[];if(Tr&&r.length===Qh&&i.length===Zh)return Tr;Qh=r.length,Zh=i.length,Tr={},Zr||(Zr={});const s=(o,a)=>{for(const c of o){const u=a[c],l=Zr?.[c];if(l&&Tr&&u)Tr[l[0]]=u,Zr&&(Zr[c]=[l[0],u]);else if(u){const d=e(c);for(let p=d.length-1;p>=0;p--){const h=d[p]?.filename;if(h&&Tr&&Zr){Tr[h]=u,Zr[c]=[h,u];break}}}}};return t&&s(r,t),n&&s(i,n),Tr}function xC(e,t,n,r,i,s){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||Dr(),timestamp:t.timestamp||pu()},u=n.integrations||e.integrations.map(g=>g.name);CC(c,e),MC(c,u),i&&i.emit("applyFrameMetadata",t),t.type===void 0&&RC(c,e.stackParser);const l=PC(r,n.captureContext);n.mechanism&&wx(c,n.mechanism);const d=i?i.getEventProcessors():[],p=$x().getScopeData();if(s){const g=s.getScopeData();Jh(p,g)}if(l){const g=l.getScopeData();Jh(p,g)}const f=[...n.attachments||[],...p.attachments];f.length&&(n.attachments=f),bC(c,p);const h=[...d,...p.eventProcessors];return SC(h,c,n).then(g=>(g&&AC(g),typeof o=="number"&&o>0?OC(g,o,a):g))}function CC(e,t){const{environment:n,release:r,dist:i,maxValueLength:s}=t;e.environment=e.environment||n||Cy,!e.release&&r&&(e.release=r),!e.dist&&i&&(e.dist=i);const o=e.request;o?.url&&s&&(o.url=ql(o.url,s)),s&&e.exception?.values?.forEach(a=>{a.value&&(a.value=ql(a.value,s))})}function RC(e,t){const n=kC(t);e.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(i=>{i.filename&&(i.debug_id=n[i.filename])})})}function AC(e){const t={};if(e.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(i=>{i.debug_id&&(i.abs_path?t[i.abs_path]=i.debug_id:i.filename&&(t[i.filename]=i.debug_id),delete i.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([r,i])=>{n.push({type:"sourcemap",code_file:r,debug_id:i})})}function MC(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function OC(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(i=>({...i,...i.data&&{data:nr(i.data,t,n)}}))},...e.user&&{user:nr(e.user,t,n)},...e.contexts&&{contexts:nr(e.contexts,t,n)},...e.extra&&{extra:nr(e.extra,t,n)}};return e.contexts?.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=nr(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(i=>({...i,...i.data&&{data:nr(i.data,t,n)}}))),e.contexts?.flags&&r.contexts&&(r.contexts.flags=nr(e.contexts.flags,3,n)),r}function PC(e,t){if(!t)return e;const n=e?e.clone():new Vn;return n.update(t),n}function DC(e){if(e)return NC(e)?{captureContext:e}:$C(e)?{captureContext:e}:e}function NC(e){return e instanceof Vn||typeof e=="function"}const LC=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function $C(e){return Object.keys(e).some(t=>LC.includes(t))}function FC(e,t){return pa().captureException(e,DC(t))}function BC(e,t){mu().setContext(e,t)}function UC(e){mu().addEventProcessor(e)}const zC=60*1e3;function HC(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?zC:r-t}function WC(e,t){return e[t]||e.all||0}function jC(e,t,n=Date.now()){return WC(e,t)>n}function qC(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},s=n?.["x-sentry-rate-limits"],o=n?.["retry-after"];if(s)for(const a of s.trim().split(",")){const[c,u,,,l]=a.split(":",5),d=parseInt(c,10),p=(isNaN(d)?60:d)*1e3;if(!u)i.all=r+p;else for(const f of u.split(";"))f==="metric_bucket"?(!l||l.split(";").includes("custom"))&&(i[f]=r+p):i[f]=r+p}else o?i.all=r+HC(o,r):t===429&&(i.all=r+60*1e3);return i}const YC="thismessage:/";function VC(e){return"isRelative"in e}function GC(e,t){const n=e.indexOf("://")<=0&&e.indexOf("//")!==0,r=n?YC:void 0;try{if("canParse"in URL&&!URL.canParse(e,r))return;const i=new URL(e,r);return n?{isRelative:n,pathname:i.pathname,search:i.search,hash:i.hash}:i}catch{}}function XC(e,t){const n=t?.getDsn(),r=t?.getOptions().tunnel;return JC(e,n)||KC(e,r)}function KC(e,t){return t?tm(e)===tm(t):!1}function JC(e,t){const n=GC(e);return!n||VC(n)?!1:t?n.host.includes(t.host)&&/(^|&|\?)sentry_key=/.test(n.search):!1}function tm(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function QC(e,t,n){let r,i,s;const o=n?.maxWait?Math.max(n.maxWait,t):0,a=n?.setTimeoutImpl||setTimeout;function c(){return u(),r=e(),r}function u(){i!==void 0&&clearTimeout(i),s!==void 0&&clearTimeout(s),i=s=void 0}function l(){return i!==void 0||s!==void 0?c():r}function d(){return i&&clearTimeout(i),i=a(c,t),o&&s===void 0&&(s=a(c,o)),r}return d.cancel=u,d.flush=l,d}const ZC=100;function tR(e,t){const n=Kn(),r=mu();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:s=ZC}=n.getOptions();if(s<=0)return;const a={timestamp:pu(),...e},c=i?vf(()=>i(a,t)):a;c!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",c,t),r.addBreadcrumb(c,s))}function eR(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}function nR(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function rR(){return!nR()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function em(){return typeof window<"u"&&(!rR()||iR())}function iR(){return Be.process?.type==="renderer"}const Rt=Be,Rf="sentryReplaySession",sR="replay_event",Af="Unable to send Replay",oR=3e5,aR=9e5,cR=5e3,uR=5500,lR=6e4,dR=5e3,fR=3,nm=15e4,Ca=5e3,pR=3e3,hR=300,Mf=2e7,mR=4999,gR=5e4,rm=36e5;var _R=Object.defineProperty,yR=(e,t,n)=>t in e?_R(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,im=(e,t,n)=>yR(e,typeof t!="symbol"?t+"":t,n),te=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(te||{});function SR(e){return e.nodeType===e.ELEMENT_NODE}function fo(e){return e?.host?.shadowRoot===e}function po(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function bR(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function ER(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function Oc(e){try{const t=e.rules||e.cssRules;return t?bR(Array.from(t,Ay).join("")):null}catch{return null}}function vR(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style,i=r[n],s=r.getPropertyPriority(i);t+=`${i}:${r.getPropertyValue(i)}${s?" !important":""};`}return`${e.selectorText} { ${t} }`}function Ay(e){let t;if(wR(e))try{t=Oc(e.styleSheet)||ER(e)}catch{}else if(IR(e)){let n=e.cssText;const r=e.selectorText.includes(":"),i=typeof e.style.all=="string"&&e.style.all;if(i&&(n=vR(e)),r&&(n=TR(n)),r||i)return n}return t||e.cssText}function TR(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function wR(e){return"styleSheet"in e}function IR(e){return"selectorText"in e}class My{constructor(){im(this,"idNodeMap",new Map),im(this,"nodeMetaMap",new WeakMap)}getId(t){return t?this.getMeta(t)?.id??-1:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){const r=this.getNode(t);if(r){const i=this.nodeMetaMap.get(r);i&&this.nodeMetaMap.set(n,i)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function kR(){return new My}function gu({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function $o({isMasked:e,element:t,value:n,maskInputFn:r}){let i=n||"";return e?(r&&(i=r(i,t)),"*".repeat(i.length)):i}function ks(e){return e.toLowerCase()}function Kl(e){return e.toUpperCase()}const sm="__rrweb_original__";function xR(e){const t=e.getContext("2d");if(!t)return!0;const n=50;for(let r=0;r<e.width;r+=n)for(let i=0;i<e.height;i+=n){const s=t.getImageData,o=sm in s?s[sm]:s;if(new Uint32Array(o.call(t,r,i,Math.min(n,e.width-r),Math.min(n,e.height-i)).data.buffer).some(c=>c!==0))return!1}return!0}function Of(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?ks(t):null}function Pc(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function Oy(e,t){let n;try{n=new URL(e,t??window.location.href)}catch{return null}const r=/\.([0-9a-z]+)(?:$)/i;return n.pathname.match(r)?.[1]??null}const om={};function Py(e){const t=om[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i);const s=i.contentWindow;s&&s[e]&&(r=s[e]),n.head.removeChild(i)}catch{}return om[e]=r.bind(window)}function Jl(...e){return Py("setTimeout")(...e)}function Dy(...e){return Py("clearTimeout")(...e)}function Ny(e){try{return e.contentDocument}catch{}}let CR=1;const RR=new RegExp("[^a-z0-9-_:]"),Fo=-2;function Pf(){return CR++}function AR(e){if(e instanceof HTMLFormElement)return"form";const t=ks(e.tagName);return RR.test(t)?"div":t}function MR(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let Gi,am;const OR=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,PR=/^(?:[a-z+]+:)?\/\//i,DR=/^www\..*/i,NR=/^(data:)([^,]*),(.*)/i;function LR(e,t){if(!e||t.size===0)return e;try{const n=e.split(";"),r=[];for(let i of n){if(i=i.trim(),!i)continue;const s=i.indexOf(":");if(s===-1){r.push(i);continue}const o=i.slice(0,s).trim();t.has(o)||r.push(i)}return r.join("; ")+(r.length>0&&e.endsWith(";")?";":"")}catch(n){return console.warn("Error filtering CSS properties:",n),e}}function Dc(e,t){return(e||"").replace(OR,(n,r,i,s,o,a)=>{const c=i||o||a,u=r||s||"";if(!c)return n;if(PR.test(c)||DR.test(c))return`url(${u}${c}${u})`;if(NR.test(c))return`url(${u}${c}${u})`;if(c[0]==="/")return`url(${u}${MR(t)+c}${u})`;const l=t.split("/"),d=c.split("/");l.pop();for(const p of d)p!=="."&&(p===".."?l.pop():l.push(p));return`url(${u}${l.join("/")}${u})`})}const $R=/^[^ \t\n\r\u000c]+/,FR=/^[, \t\n\r\u000c]+/;function BR(e,t){if(t.trim()==="")return t;let n=0;function r(s){let o;const a=s.exec(t.substring(n));return a?(o=a[0],n+=o.length,o):""}const i=[];for(;r(FR),!(n>=t.length);){let s=r($R);if(s.slice(-1)===",")s=is(e,s.substring(0,s.length-1)),i.push(s);else{let o="";s=is(e,s);let a=!1;for(;;){const c=t.charAt(n);if(c===""){i.push((s+o).trim());break}else if(a)c===")"&&(a=!1);else if(c===","){n+=1,i.push((s+o).trim());break}else c==="("&&(a=!0);o+=c,n+=1}}}return i.join(", ")}const cm=new WeakMap;function is(e,t){return!t||t.trim()===""?t:_u(e,t)}function UR(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function _u(e,t){let n=cm.get(e);if(n||(n=e.createElement("a"),cm.set(e,n)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return n.setAttribute("href",t),n.href}function Ly(e,t,n,r,i,s,o){if(!r)return r;if(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#"))return is(e,r);if(n==="xlink:href"&&r[0]!=="#")return is(e,r);if(n==="background"&&(t==="table"||t==="td"||t==="th"))return is(e,r);if(n==="srcset")return BR(e,r);if(n==="style"){let a=Dc(r,_u(e));return o&&o.size>0&&(a=LR(a,o)),a}else if(t==="object"&&n==="data")return is(e,r);return typeof s=="function"?s(n,r,i):r}function $y(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function zR(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let i=e.classList.length;i--;){const s=e.classList[i];if(t.test(s))return!0}if(n)return e.matches(n)}catch{}return!1}function HR(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function ci(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:ci(e.parentNode,t,n,r+1)}function ss(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(HR(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function xs(e,t,n,r,i,s){try{const o=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(o===null)return!1;if(o.tagName==="INPUT"){const u=o.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let a=-1,c=-1;if(s){if(c=ci(o,ss(r,i)),c<0)return!0;a=ci(o,ss(t,n),c>=0?c:1/0)}else{if(a=ci(o,ss(t,n)),a<0)return!1;c=ci(o,ss(r,i),a>=0?a:1/0)}return a>=0?c>=0?a<=c:!0:c>=0?!1:!!s}catch{}return!!s}function WR(e,t,n){const r=e.contentWindow;if(!r)return;let i=!1,s;try{s=r.document.readyState}catch{return}if(s!=="complete"){const a=Jl(()=>{i||(t(),i=!0)},n);e.addEventListener("load",()=>{Dy(a),i=!0,t()});return}const o="about:blank";if(r.location.href!==o||e.src===o||e.src==="")return Jl(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function jR(e,t,n){let r=!1,i;try{i=e.sheet}catch{return}if(i)return;const s=Jl(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{Dy(s),r=!0,t()})}function qR(e,t){const{doc:n,mirror:r,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:a,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:p,inlineStylesheet:f,maskInputOptions:h={},maskTextFn:m,maskInputFn:g,dataURLOptions:S={},inlineImages:b,recordCanvas:I,keepIframeSrcFn:E,newlyAddedElement:T=!1,ignoreCSSAttributes:w}=t,y=YR(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:te.Document,childNodes:[],compatMode:e.compatMode}:{type:te.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:te.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:y};case e.ELEMENT_NODE:return GR(e,{doc:n,blockClass:i,blockSelector:s,unblockSelector:o,inlineStylesheet:f,maskAttributeFn:c,maskInputOptions:h,maskInputFn:g,dataURLOptions:S,inlineImages:b,recordCanvas:I,keepIframeSrcFn:E,newlyAddedElement:T,rootId:y,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:p,ignoreCSSAttributes:w});case e.TEXT_NODE:return VR(e,{doc:n,maskAllText:a,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:p,maskTextFn:m,maskInputOptions:h,maskInputFn:g,rootId:y});case e.CDATA_SECTION_NODE:return{type:te.CDATA,textContent:"",rootId:y};case e.COMMENT_NODE:return{type:te.Comment,textContent:e.textContent||"",rootId:y};default:return!1}}function YR(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return n===1?void 0:n}function VR(e,t){const{maskAllText:n,maskTextClass:r,unmaskTextClass:i,maskTextSelector:s,unmaskTextSelector:o,maskTextFn:a,maskInputOptions:c,maskInputFn:u,rootId:l}=t,d=e.parentNode&&e.parentNode.tagName;let p=e.textContent;const f=d==="STYLE"?!0:void 0,h=d==="SCRIPT"?!0:void 0,m=d==="TEXTAREA"?!0:void 0;if(f&&p){try{e.nextSibling||e.previousSibling||e.parentNode.sheet?.cssRules&&(p=Oc(e.parentNode.sheet))}catch(S){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${S}`,e)}p=Dc(p,_u(t.doc))}h&&(p="SCRIPT_PLACEHOLDER");const g=xs(e,r,s,i,o,n);if(!f&&!h&&!m&&p&&g&&(p=a?a(p,e.parentElement):p.replace(/[\S]/g,"*")),m&&p&&(c.textarea||g)&&(p=u?u(p,e.parentNode):p.replace(/[\S]/g,"*")),d==="OPTION"&&p){const S=gu({type:null,tagName:d,maskInputOptions:c});p=$o({isMasked:xs(e,r,s,i,o,S),element:e,value:p,maskInputFn:u})}return{type:te.Text,textContent:p||"",isStyle:f,rootId:l}}function GR(e,t){const{doc:n,blockClass:r,blockSelector:i,unblockSelector:s,inlineStylesheet:o,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:l={},inlineImages:d,recordCanvas:p,keepIframeSrcFn:f,newlyAddedElement:h=!1,rootId:m,maskTextClass:g,unmaskTextClass:S,maskTextSelector:b,unmaskTextSelector:I,ignoreCSSAttributes:E}=t,T=zR(e,r,i,s),w=AR(e);let y={};const k=e.attributes.length;for(let v=0;v<k;v++){const M=e.attributes[v];M.name&&!$y(w,M.name,M.value)&&(y[M.name]=Ly(n,w,ks(M.name),M.value,e,c,E))}if(w==="link"&&o){const v=Array.from(n.styleSheets).find(R=>R.href===e.href);let M=null;v&&(M=Oc(v)),M&&(y.rel=null,y.href=null,y.crossorigin=null,y._cssText=Dc(M,v.href))}if(w==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const v=Oc(e.sheet);v&&(y._cssText=Dc(v,_u(n)))}if(w==="input"||w==="textarea"||w==="select"||w==="option"){const v=e,M=Of(v),R=Pc(v,Kl(w),M),L=v.checked;if(M!=="submit"&&M!=="button"&&R){const O=xs(v,g,b,S,I,gu({type:M,tagName:Kl(w),maskInputOptions:a}));y.value=$o({isMasked:O,element:v,value:R,maskInputFn:u})}L&&(y.checked=L)}if(w==="option"&&(e.selected&&!a.select?y.selected=!0:delete y.selected),w==="canvas"&&p){if(e.__context==="2d")xR(e)||(y.rr_dataURL=e.toDataURL(l.type,l.quality));else if(!("__context"in e)){const v=e.toDataURL(l.type,l.quality),M=n.createElement("canvas");M.width=e.width,M.height=e.height;const R=M.toDataURL(l.type,l.quality);v!==R&&(y.rr_dataURL=v)}}if(w==="img"&&d){Gi||(Gi=n.createElement("canvas"),am=Gi.getContext("2d"));const v=e,M=v.currentSrc||v.getAttribute("src")||"<unknown-src>",R=v.crossOrigin,L=()=>{v.removeEventListener("load",L);try{Gi.width=v.naturalWidth,Gi.height=v.naturalHeight,am.drawImage(v,0,0),y.rr_dataURL=Gi.toDataURL(l.type,l.quality)}catch(O){if(v.crossOrigin!=="anonymous"){v.crossOrigin="anonymous",v.complete&&v.naturalWidth!==0?L():v.addEventListener("load",L);return}else console.warn(`Cannot inline img src=${M}! Error: ${O}`)}v.crossOrigin==="anonymous"&&(R?y.crossOrigin=R:v.removeAttribute("crossorigin"))};v.complete&&v.naturalWidth!==0?L():v.addEventListener("load",L)}if((w==="audio"||w==="video")&&(y.rr_mediaState=e.paused?"paused":"played",y.rr_mediaCurrentTime=e.currentTime),h||(e.scrollLeft&&(y.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(y.rr_scrollTop=e.scrollTop)),T){const{width:v,height:M}=e.getBoundingClientRect();y={class:y.class,rr_width:`${v}px`,rr_height:`${M}px`}}w==="iframe"&&!f(y.src)&&(!T&&!Ny(e)&&(y.rr_src=y.src),delete y.src);let C;try{customElements.get(w)&&(C=!0)}catch{}return{type:te.Element,tagName:w,attributes:y,childNodes:[],isSVG:UR(e)||void 0,needBlock:T,rootId:m,isCustom:C}}function xt(e){return e==null?"":e.toLowerCase()}function XR(e,t){if(t.comment&&e.type===te.Comment)return!0;if(e.type===te.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&Oy(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(xt(e.attributes.name).match(/^msapplication-tile(image|color)$/)||xt(e.attributes.name)==="application-name"||xt(e.attributes.rel)==="icon"||xt(e.attributes.rel)==="apple-touch-icon"||xt(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&xt(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(xt(e.attributes.property).match(/^(og|twitter|fb):/)||xt(e.attributes.name).match(/^(og|twitter):/)||xt(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(xt(e.attributes.name)==="robots"||xt(e.attributes.name)==="googlebot"||xt(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(xt(e.attributes.name)==="author"||xt(e.attributes.name)==="generator"||xt(e.attributes.name)==="framework"||xt(e.attributes.name)==="publisher"||xt(e.attributes.name)==="progid"||xt(e.attributes.property).match(/^article:/)||xt(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(xt(e.attributes.name)==="google-site-verification"||xt(e.attributes.name)==="yandex-verification"||xt(e.attributes.name)==="csrf-token"||xt(e.attributes.name)==="p:domain_verify"||xt(e.attributes.name)==="verify-v1"||xt(e.attributes.name)==="verification"||xt(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function os(e,t){const{doc:n,mirror:r,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:p=!1,inlineStylesheet:f=!0,maskInputOptions:h={},maskAttributeFn:m,maskTextFn:g,maskInputFn:S,slimDOMOptions:b,dataURLOptions:I={},inlineImages:E=!1,recordCanvas:T=!1,onSerialize:w,onIframeLoad:y,iframeLoadTimeout:k=5e3,onBlockedImageLoad:C,onStylesheetLoad:v,stylesheetLoadTimeout:M=5e3,keepIframeSrcFn:R=()=>!1,newlyAddedElement:L=!1,ignoreCSSAttributes:O}=t;let{preserveWhiteSpace:B=!0}=t;const $=qR(e,{doc:n,mirror:r,blockClass:i,blockSelector:s,maskAllText:a,unblockSelector:o,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,inlineStylesheet:f,maskInputOptions:h,maskAttributeFn:m,maskTextFn:g,maskInputFn:S,dataURLOptions:I,inlineImages:E,recordCanvas:T,keepIframeSrcFn:R,newlyAddedElement:L,ignoreCSSAttributes:O});if(!$)return console.warn(e,"not serialized"),null;let P;r.hasNode(e)?P=r.getId(e):XR($,b)||!B&&$.type===te.Text&&!$.isStyle&&!$.textContent.replace(/^\s+|\s+$/gm,"").length?P=Fo:P=Pf();const A=Object.assign($,{id:P});if(r.add(e,A),P===Fo)return null;w&&w(e);let U=!p;if(A.type===te.Element){U=U&&!A.needBlock;const _=e.shadowRoot;_&&po(_)&&(A.isShadowHost=!0)}if((A.type===te.Document||A.type===te.Element)&&U){b.headWhitespace&&A.type===te.Element&&A.tagName==="head"&&(B=!1);const _={doc:n,mirror:r,blockClass:i,blockSelector:s,maskAllText:a,unblockSelector:o,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:p,inlineStylesheet:f,maskInputOptions:h,maskAttributeFn:m,maskTextFn:g,maskInputFn:S,slimDOMOptions:b,dataURLOptions:I,inlineImages:E,recordCanvas:T,preserveWhiteSpace:B,onSerialize:w,onIframeLoad:y,iframeLoadTimeout:k,onBlockedImageLoad:C,onStylesheetLoad:v,stylesheetLoadTimeout:M,keepIframeSrcFn:R,ignoreCSSAttributes:O},H=e.childNodes?Array.from(e.childNodes):[];for(const Z of H){const ut=os(Z,_);ut&&A.childNodes.push(ut)}if(SR(e)&&e.shadowRoot)for(const Z of Array.from(e.shadowRoot.childNodes)){const ut=os(Z,_);ut&&(po(e.shadowRoot)&&(ut.isShadow=!0),A.childNodes.push(ut))}}if(e.parentNode&&fo(e.parentNode)&&po(e.parentNode)&&(A.isShadow=!0),A.type===te.Element&&A.tagName==="iframe"&&!A.needBlock&&WR(e,()=>{const _=Ny(e);if(_&&y){const H=os(_,{doc:_,mirror:r,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:f,maskInputOptions:h,maskAttributeFn:m,maskTextFn:g,maskInputFn:S,slimDOMOptions:b,dataURLOptions:I,inlineImages:E,recordCanvas:T,preserveWhiteSpace:B,onSerialize:w,onIframeLoad:y,iframeLoadTimeout:k,onStylesheetLoad:v,stylesheetLoadTimeout:M,keepIframeSrcFn:R,ignoreCSSAttributes:O});H&&y(e,H)}},k),A.type===te.Element&&A.tagName==="img"&&!e.complete&&A.needBlock){const _=e,H=()=>{if(_.isConnected&&!_.complete&&C)try{const Z=_.getBoundingClientRect();Z.width>0&&Z.height>0&&C(_,A,Z)}catch{}_.removeEventListener("load",H)};_.isConnected&&_.addEventListener("load",H)}return A.type===te.Element&&A.tagName==="link"&&typeof A.attributes.rel=="string"&&(A.attributes.rel==="stylesheet"||A.attributes.rel==="preload"&&typeof A.attributes.href=="string"&&Oy(A.attributes.href)==="css")&&jR(e,()=>{if(v){const _=os(e,{doc:n,mirror:r,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:f,maskInputOptions:h,maskAttributeFn:m,maskTextFn:g,maskInputFn:S,slimDOMOptions:b,dataURLOptions:I,inlineImages:E,recordCanvas:T,preserveWhiteSpace:B,onSerialize:w,onIframeLoad:y,iframeLoadTimeout:k,onStylesheetLoad:v,stylesheetLoadTimeout:M,keepIframeSrcFn:R,ignoreCSSAttributes:O});_&&v(e,_)}},M),A.type===te.Element&&delete A.needBlock,A}function KR(e,t){const{mirror:n=new My,blockClass:r="rr-block",blockSelector:i=null,unblockSelector:s=null,maskAllText:o=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:l=null,inlineStylesheet:d=!0,inlineImages:p=!1,recordCanvas:f=!1,maskAllInputs:h=!1,maskAttributeFn:m,maskTextFn:g,maskInputFn:S,slimDOM:b=!1,dataURLOptions:I,preserveWhiteSpace:E,onSerialize:T,onIframeLoad:w,iframeLoadTimeout:y,onBlockedImageLoad:k,onStylesheetLoad:C,stylesheetLoadTimeout:v,keepIframeSrcFn:M=()=>!1,ignoreCSSAttributes:R=new Set([])}=t||{};return os(e,{doc:e,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,maskAllText:o,maskTextClass:a,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:d,maskInputOptions:h===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:h===!1?{}:h,maskAttributeFn:m,maskTextFn:g,maskInputFn:S,slimDOMOptions:b===!0||b==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:b==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:b===!1?{}:b,dataURLOptions:I,inlineImages:p,recordCanvas:f,preserveWhiteSpace:E,onSerialize:T,onIframeLoad:w,iframeLoadTimeout:y,onBlockedImageLoad:k,onStylesheetLoad:C,stylesheetLoadTimeout:v,keepIframeSrcFn:M,newlyAddedElement:!1,ignoreCSSAttributes:R})}function Ne(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const Qi=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let um={map:{},getId(){return console.error(Qi),-1},getNode(){return console.error(Qi),null},removeNodeFromMap(){console.error(Qi)},has(){return console.error(Qi),!1},reset(){console.error(Qi)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(um=new Proxy(um,{get(e,t,n){return t==="map"&&console.error(Qi),Reflect.get(e,t,n)}}));function Bo(e,t,n={}){let r=null,i=0;return function(...s){const o=Date.now();!i&&n.leading===!1&&(i=o);const a=t-(o-i),c=this;a<=0||a>t?(r&&(rA(r),r=null),i=o,e.apply(c,s)):!r&&n.trailing!==!1&&(r=yu(()=>{i=n.leading===!1?0:Date.now(),r=null,e.apply(c,s)},a))}}function Fy(e,t,n,r,i=window){const s=i.Object.getOwnPropertyDescriptor(e,t);return i.Object.defineProperty(e,t,r?n:{set(o){yu(()=>{n.set.call(this,o)},0),s&&s.set&&s.set.call(this,o)}}),()=>Fy(e,t,s||{},!0)}function Df(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],i=n(r);return typeof i=="function"&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=i,()=>{e[t]=r}}catch{return()=>{}}}let Nc=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(Nc=()=>new Date().getTime());function By(e){const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:t?.documentElement.scrollLeft||t?.body?.parentElement?.scrollLeft||t?.body?.scrollLeft||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:t?.documentElement.scrollTop||t?.body?.parentElement?.scrollTop||t?.body?.scrollTop||0}}function Uy(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function zy(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Hy(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function tn(e,t,n,r,i){if(!e)return!1;const s=Hy(e);if(!s)return!1;const o=ss(t,n);if(!i){const u=r&&s.matches(r);return o(s)&&!u}const a=ci(s,o);let c=-1;return a<0?!1:(r&&(c=ci(s,ss(null,r))),a>-1&&c<0?!0:a<c)}function JR(e,t){return t.getId(e)!==-1}function Xu(e,t){return t.getId(e)===Fo}function Wy(e,t){if(fo(e))return!1;const n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?Wy(e.parentNode,t):!0:!0}function Ql(e){return!!e.changedTouches}function QR(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function jy(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function qy(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function Zl(e){return!!e?.shadowRoot}class ZR{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return this.styleIDMap.get(t)??-1}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function Yy(e){let t=null;return e.getRootNode?.()?.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function tA(e){let t=e,n;for(;n=Yy(t);)t=n;return t}function eA(e){const t=e.ownerDocument;if(!t)return!1;const n=tA(e);return t.contains(n)}function Vy(e){const t=e.ownerDocument;return t?t.contains(e)||eA(e):!1}const lm={};function Nf(e){const t=lm[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i);const s=i.contentWindow;s&&s[e]&&(r=s[e]),n.head.removeChild(i)}catch{}return lm[e]=r.bind(window)}function nA(...e){return Nf("requestAnimationFrame")(...e)}function yu(...e){return Nf("setTimeout")(...e)}function rA(...e){return Nf("clearTimeout")(...e)}var nt=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(nt||{}),G=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(G||{}),Ae=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Ae||{}),tr=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(tr||{}),Zi=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(Zi||{});function Lf(e){try{return e.contentDocument}catch{}}function iA(e){try{return e.contentWindow}catch{}}function dm(e){return"__ln"in e}class sA{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=n?.next||null;return n}addNode(t){const n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&dm(t.previousSibling)){const r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&dm(t.nextSibling)&&t.nextSibling.__ln.previous){const r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){const n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const fm=(e,t)=>`${e}@${t}`;class oA{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],n=new Set,r=new sA,i=c=>{let u=c,l=Fo;for(;l===Fo;)u=u&&u.nextSibling,l=u&&this.mirror.getId(u);return l},s=c=>{if(!c.parentNode||!Vy(c))return;const u=fo(c.parentNode)?this.mirror.getId(Yy(c)):this.mirror.getId(c.parentNode),l=i(c);if(u===-1||l===-1)return r.addNode(c);const d=os(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:p=>{jy(p,this.mirror)&&!tn(p,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(p),qy(p,this.mirror)&&this.stylesheetManager.trackLinkElement(p),Zl(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(p,f)=>{tn(p,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(p,f),p.contentWindow&&this.canvasManager.addWindow(p.contentWindow),this.shadowDomManager.observeAttachShadow(p))},onStylesheetLoad:(p,f)=>{this.stylesheetManager.attachLinkElement(p,f)},onBlockedImageLoad:(p,f,{width:h,height:m})=>{this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:f.id,attributes:{style:{width:`${h}px`,height:`${m}px`}}}]})},ignoreCSSAttributes:this.ignoreCSSAttributes});d&&(t.push({parentId:u,nextId:l,node:d}),n.add(d.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const c of this.movedSet)pm(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||s(c);for(const c of this.addedSet)!hm(this.droppedSet,c)&&!pm(this.removes,c,this.mirror)||hm(this.movedSet,c)?s(c):this.droppedSet.add(c);let o=null;for(;r.length;){let c=null;if(o){const u=this.mirror.getId(o.value.parentNode),l=i(o.value);u!==-1&&l!==-1&&(c=o)}if(!c){let u=r.tail;for(;u;){const l=u;if(u=u.previous,l){const d=this.mirror.getId(l.value.parentNode);if(i(l.value)===-1)continue;if(d!==-1){c=l;break}else{const f=l.value;if(f.parentNode&&f.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const h=f.parentNode.host;if(this.mirror.getId(h)!==-1){c=l;break}}}}}}if(!c){for(;r.head;)r.removeNode(r.head.value);break}o=c.previous,r.removeNode(c.value),s(c.value)}const a={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{const{attributes:u}=c;if(typeof u.style=="string"){const l=JSON.stringify(c.styleDiff),d=JSON.stringify(c._unchangedStyles);l.length<u.style.length&&(l+d).split("var(").length===u.style.split("var(").length&&(u.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:u}}).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(!Xu(t.target,this.mirror))switch(t.type){case"characterData":{const n=t.target.textContent;!tn(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:xs(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,Hy(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{const n=t.target;let r=t.attributeName,i=t.target.getAttribute(r);if(r==="value"){const o=Of(n),a=n.tagName;i=Pc(n,a,o);const c=gu({maskInputOptions:this.maskInputOptions,tagName:a,type:o}),u=xs(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,c);i=$o({isMasked:u,element:n,value:i,maskInputFn:this.maskInputFn})}if(tn(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||i===t.oldValue)return;let s=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(i))if(!Lf(n))r="rr_src";else return;if(s||(s={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(s),this.attributeMap.set(t.target,s)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!$y(n.tagName,r)&&(s.attributes[r]=Ly(this.doc,ks(n.tagName),ks(r),i,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const o=this.unattachedDoc.createElement("span");t.oldValue&&o.setAttribute("style",t.oldValue);for(const a of Array.from(n.style)){const c=n.style.getPropertyValue(a),u=n.style.getPropertyPriority(a);c!==o.style.getPropertyValue(a)||u!==o.style.getPropertyPriority(a)?u===""?s.styleDiff[a]=c:s.styleDiff[a]=[c,u]:s._unchangedStyles[a]=[c,u]}for(const a of Array.from(o.style))n.style.getPropertyValue(a)===""&&(s.styleDiff[a]=!1)}break}case"childList":{if(tn(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{const r=this.mirror.getId(n),i=fo(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);tn(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Xu(n,this.mirror)||!JR(n,this.mirror)||(this.addedSet.has(n)?(td(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||Wy(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[fm(r,i)]?td(this.movedSet,n):this.removes.push({parentId:i,id:r,isShadow:fo(t.target)&&po(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(Xu(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[fm(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);tn(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes&&t.childNodes.forEach(r=>this.genAdds(r)),Zl(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager","ignoreCSSAttributes"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function td(e,t){e.delete(t),t.childNodes?.forEach(n=>td(e,n))}function pm(e,t,n){return e.length===0?!1:aA(e,t,n)}function aA(e,t,n){let r=t.parentNode;for(;r;){const i=n.getId(r);if(e.some(s=>s.id===i))return!0;r=r.parentNode}return!1}function hm(e,t){return e.size===0?!1:Gy(e,t)}function Gy(e,t){const{parentNode:n}=t;return n?e.has(n)?!0:Gy(e,n):!1}let ho;function cA(e){ho=e}function uA(){ho=void 0}const ht=e=>ho?(...n)=>{try{return e(...n)}catch(r){if(ho&&ho(r)===!0)return()=>{};throw r}}:e,as=[];function ha(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function Xy(e,t){const n=new oA;as.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const i=window?.Zone?.__symbol__?.("MutationObserver");i&&window[i]&&(r=window[i]);const s=new r(ht(o=>{e.onMutation&&e.onMutation(o)===!1||n.processMutations.bind(n)(o)}));return s.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),s}function lA({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};const i=typeof t.mousemove=="number"?t.mousemove:50,s=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let o=[],a;const c=Bo(ht(d=>{const p=Date.now()-a;e(o.map(f=>(f.timeOffset-=p,f)),d),o=[],a=null}),s),u=ht(Bo(ht(d=>{const p=ha(d),{clientX:f,clientY:h}=Ql(d)?d.changedTouches[0]:d;a||(a=Nc()),o.push({x:f,y:h,id:r.getId(p),timeOffset:Nc()-a}),c(typeof DragEvent<"u"&&d instanceof DragEvent?G.Drag:d instanceof MouseEvent?G.MouseMove:G.TouchMove)}),i,{trailing:!1})),l=[Ne("mousemove",u,n),Ne("touchmove",u,n),Ne("drag",u,n)];return ht(()=>{l.forEach(d=>d())})}function dA({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,sampling:o}){if(o.mouseInteraction===!1)return()=>{};const a=o.mouseInteraction===!0||o.mouseInteraction===void 0?{}:o.mouseInteraction,c=[];let u=null;const l=d=>p=>{const f=ha(p);if(tn(f,r,i,s,!0))return;let h=null,m=d;if("pointerType"in p){switch(p.pointerType){case"mouse":h=tr.Mouse;break;case"touch":h=tr.Touch;break;case"pen":h=tr.Pen;break}h===tr.Touch?Ae[d]===Ae.MouseDown?m="TouchStart":Ae[d]===Ae.MouseUp&&(m="TouchEnd"):tr.Pen}else Ql(p)&&(h=tr.Touch);h!==null?(u=h,(m.startsWith("Touch")&&h===tr.Touch||m.startsWith("Mouse")&&h===tr.Mouse)&&(h=null)):Ae[d]===Ae.Click&&(h=u,u=null);const g=Ql(p)?p.changedTouches[0]:p;if(!g)return;const S=n.getId(f),{clientX:b,clientY:I}=g;ht(e)({type:Ae[m],id:S,x:b,y:I,...h!==null&&{pointerType:h}})};return Object.keys(Ae).filter(d=>Number.isNaN(Number(d))&&!d.endsWith("_Departed")&&a[d]!==!1).forEach(d=>{let p=ks(d);const f=l(d);if(window.PointerEvent)switch(Ae[d]){case Ae.MouseDown:case Ae.MouseUp:p=p.replace("mouse","pointer");break;case Ae.TouchStart:case Ae.TouchEnd:return}c.push(Ne(p,f,t))}),ht(()=>{c.forEach(d=>d())})}function Ky({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,sampling:o}){const a=ht(Bo(ht(c=>{const u=ha(c);if(!u||tn(u,r,i,s,!0))return;const l=n.getId(u);if(u===t&&t.defaultView){const d=By(t.defaultView);e({id:l,x:d.left,y:d.top})}else e({id:l,x:u.scrollLeft,y:u.scrollTop})}),o.scroll||100));return Ne("scroll",a,t)}function fA({viewportResizeCb:e},{win:t}){let n=-1,r=-1;const i=ht(Bo(ht(()=>{const s=Uy(),o=zy();(n!==s||r!==o)&&(e({width:Number(o),height:Number(s)}),n=s,r=o)}),200));return Ne("resize",i,t)}const pA=["INPUT","TEXTAREA","SELECT"],mm=new WeakMap;function hA({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,ignoreClass:o,ignoreSelector:a,maskInputOptions:c,maskInputFn:u,sampling:l,userTriggeredOnInput:d,maskTextClass:p,unmaskTextClass:f,maskTextSelector:h,unmaskTextSelector:m}){function g(y){let k=ha(y);const C=y.isTrusted,v=k&&Kl(k.tagName);if(v==="OPTION"&&(k=k.parentElement),!k||!v||pA.indexOf(v)<0||tn(k,r,i,s,!0))return;const M=k;if(M.classList.contains(o)||a&&M.matches(a))return;const R=Of(k);let L=Pc(M,v,R),O=!1;const B=gu({maskInputOptions:c,tagName:v,type:R}),$=xs(k,p,h,f,m,B);(R==="radio"||R==="checkbox")&&(O=k.checked),L=$o({isMasked:$,element:k,value:L,maskInputFn:u}),S(k,d?{text:L,isChecked:O,userTriggered:C}:{text:L,isChecked:O});const P=k.name;R==="radio"&&P&&O&&t.querySelectorAll(`input[type="radio"][name="${P}"]`).forEach(A=>{if(A!==k){const U=$o({isMasked:$,element:A,value:Pc(A,v,R),maskInputFn:u});S(A,d?{text:U,isChecked:!O,userTriggered:!1}:{text:U,isChecked:!O})}})}function S(y,k){const C=mm.get(y);if(!C||C.text!==k.text||C.isChecked!==k.isChecked){mm.set(y,k);const v=n.getId(y);ht(e)({...k,id:v})}}const I=(l.input==="last"?["change"]:["input","change"]).map(y=>Ne(y,ht(g),t)),E=t.defaultView;if(!E)return()=>{I.forEach(y=>y())};const T=E.Object.getOwnPropertyDescriptor(E.HTMLInputElement.prototype,"value"),w=[[E.HTMLInputElement.prototype,"value"],[E.HTMLInputElement.prototype,"checked"],[E.HTMLSelectElement.prototype,"value"],[E.HTMLTextAreaElement.prototype,"value"],[E.HTMLSelectElement.prototype,"selectedIndex"],[E.HTMLOptionElement.prototype,"selected"]];return T&&T.set&&I.push(...w.map(y=>Fy(y[0],y[1],{set(){ht(g)({target:this,isTrusted:!1})}},!1,E))),ht(()=>{I.forEach(y=>y())})}function Lc(e){const t=[];function n(r,i){if(Ra("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||Ra("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||Ra("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||Ra("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const o=Array.from(r.parentRule.cssRules).indexOf(r);i.unshift(o)}else if(r.parentStyleSheet){const o=Array.from(r.parentStyleSheet.cssRules).indexOf(r);i.unshift(o)}return i}return n(e,t)}function Ir(e,t,n){let r,i;return e?(e.ownerNode?r=t.getId(e.ownerNode):i=n.getId(e),{styleId:i,id:r}):{}}function mA({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const i=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(i,{apply:ht((l,d,p)=>{const[f,h]=p,{id:m,styleId:g}=Ir(d,t,n.styleMirror);return(m&&m!==-1||g&&g!==-1)&&e({id:m,styleId:g,adds:[{rule:f,index:h}]}),l.apply(d,p)})});const s=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(s,{apply:ht((l,d,p)=>{const[f]=p,{id:h,styleId:m}=Ir(d,t,n.styleMirror);return(h&&h!==-1||m&&m!==-1)&&e({id:h,styleId:m,removes:[{index:f}]}),l.apply(d,p)})});let o;r.CSSStyleSheet.prototype.replace&&(o=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(o,{apply:ht((l,d,p)=>{const[f]=p,{id:h,styleId:m}=Ir(d,t,n.styleMirror);return(h&&h!==-1||m&&m!==-1)&&e({id:h,styleId:m,replace:f}),l.apply(d,p)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:ht((l,d,p)=>{const[f]=p,{id:h,styleId:m}=Ir(d,t,n.styleMirror);return(h&&h!==-1||m&&m!==-1)&&e({id:h,styleId:m,replaceSync:f}),l.apply(d,p)})}));const c={};Aa("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(Aa("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),Aa("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),Aa("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));const u={};return Object.entries(c).forEach(([l,d])=>{u[l]={insertRule:d.prototype.insertRule,deleteRule:d.prototype.deleteRule},d.prototype.insertRule=new Proxy(u[l].insertRule,{apply:ht((p,f,h)=>{const[m,g]=h,{id:S,styleId:b}=Ir(f.parentStyleSheet,t,n.styleMirror);return(S&&S!==-1||b&&b!==-1)&&e({id:S,styleId:b,adds:[{rule:m,index:[...Lc(f),g||0]}]}),p.apply(f,h)})}),d.prototype.deleteRule=new Proxy(u[l].deleteRule,{apply:ht((p,f,h)=>{const[m]=h,{id:g,styleId:S}=Ir(f.parentStyleSheet,t,n.styleMirror);return(g&&g!==-1||S&&S!==-1)&&e({id:g,styleId:S,removes:[{index:[...Lc(f),m]}]}),p.apply(f,h)})})}),ht(()=>{r.CSSStyleSheet.prototype.insertRule=i,r.CSSStyleSheet.prototype.deleteRule=s,o&&(r.CSSStyleSheet.prototype.replace=o),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach(([l,d])=>{d.prototype.insertRule=u[l].insertRule,d.prototype.deleteRule=u[l].deleteRule})})}function Jy({mirror:e,stylesheetManager:t},n){let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);const i=n.nodeName==="#document"?n.defaultView?.Document:n.ownerDocument?.defaultView?.ShadowRoot,s=i?.prototype?Object.getOwnPropertyDescriptor(i?.prototype,"adoptedStyleSheets"):void 0;return r===null||r===-1||!i||!s?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get(){return s.get?.call(this)},set(o){const a=s.set?.call(this,o);if(r!==null&&r!==-1)try{t.adoptStyleSheets(o,r)}catch{}return a}}),ht(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get:s.get,set:s.set})}))}function gA({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:i}){const s=i.CSSStyleDeclaration.prototype.setProperty;i.CSSStyleDeclaration.prototype.setProperty=new Proxy(s,{apply:ht((a,c,u)=>{const[l,d,p]=u;if(n.has(l))return s.apply(c,[l,d,p]);const{id:f,styleId:h}=Ir(c.parentRule?.parentStyleSheet,t,r.styleMirror);return(f&&f!==-1||h&&h!==-1)&&e({id:f,styleId:h,set:{property:l,value:d,priority:p},index:Lc(c.parentRule)}),a.apply(c,u)})});const o=i.CSSStyleDeclaration.prototype.removeProperty;return i.CSSStyleDeclaration.prototype.removeProperty=new Proxy(o,{apply:ht((a,c,u)=>{const[l]=u;if(n.has(l))return o.apply(c,[l]);const{id:d,styleId:p}=Ir(c.parentRule?.parentStyleSheet,t,r.styleMirror);return(d&&d!==-1||p&&p!==-1)&&e({id:d,styleId:p,remove:{property:l},index:Lc(c.parentRule)}),a.apply(c,u)})}),ht(()=>{i.CSSStyleDeclaration.prototype.setProperty=s,i.CSSStyleDeclaration.prototype.removeProperty=o})}function _A({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:i,sampling:s,doc:o}){const a=ht(u=>Bo(ht(l=>{const d=ha(l);if(!d||tn(d,t,n,r,!0))return;const{currentTime:p,volume:f,muted:h,playbackRate:m}=d;e({type:u,id:i.getId(d),currentTime:p,volume:f,muted:h,playbackRate:m})}),s.media||500)),c=[Ne("play",a(Zi.Play),o),Ne("pause",a(Zi.Pause),o),Ne("seeked",a(Zi.Seeked),o),Ne("volumechange",a(Zi.VolumeChange),o),Ne("ratechange",a(Zi.RateChange),o)];return ht(()=>{c.forEach(u=>u())})}function yA({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],i=new WeakMap,s=n.FontFace;n.FontFace=function(c,u,l){const d=new s(c,u,l);return i.set(d,{family:c,buffer:typeof u!="string",descriptors:l,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),d};const o=Df(t.fonts,"add",function(a){return function(c){return yu(ht(()=>{const u=i.get(c);u&&(e(u),i.delete(c))}),0),a.apply(this,[c])}});return r.push(()=>{n.FontFace=s}),r.push(o),ht(()=>{r.forEach(a=>a())})}function SA(e){const{doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,selectionCb:o}=e;let a=!0;const c=ht(()=>{const u=t.getSelection();if(!u||a&&u?.isCollapsed)return;a=u.isCollapsed||!1;const l=[],d=u.rangeCount||0;for(let p=0;p<d;p++){const f=u.getRangeAt(p),{startContainer:h,startOffset:m,endContainer:g,endOffset:S}=f;tn(h,r,i,s,!0)||tn(g,r,i,s,!0)||l.push({start:n.getId(h),startOffset:m,end:n.getId(g),endOffset:S})}o({ranges:l})});return c(),Ne("selectionchange",c)}function bA({doc:e,customElementCb:t}){const n=e.defaultView;return!n||!n.customElements?()=>{}:Df(n.customElements,"define",function(i){return function(s,o,a){try{t({define:{name:s}})}catch{}return i.apply(this,[s,o,a])}})}function EA(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=Xy(e,e.doc));const i=lA(e),s=dA(e),o=Ky(e),a=fA(e,{win:n}),c=hA(e),u=_A(e);let l=()=>{},d=()=>{},p=()=>{},f=()=>{};e.recordDOM&&(l=mA(e,{win:n}),d=Jy(e,e.doc),p=gA(e,{win:n}),e.collectFonts&&(f=yA(e)));const h=SA(e),m=bA(e),g=[];for(const S of e.plugins)g.push(S.observer(S.callback,n,S.options));return ht(()=>{as.forEach(S=>S.reset()),r?.disconnect(),i(),s(),o(),a(),c(),u(),l(),d(),p(),f(),h(),m(),g.forEach(S=>S())})}function Ra(e){return typeof window[e]<"u"}function Aa(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class ed{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,i){const s=r||this.getIdToRemoteIdMap(t),o=i||this.getRemoteIdToIdMap(t);let a=s.get(n);return a||(a=this.generateIdFn(),s.set(n,a),o.set(a,n)),a}getIds(t,n){const r=this.getIdToRemoteIdMap(t),i=this.getRemoteIdToIdMap(t);return n.map(s=>this.getId(t,s,r,i))}getRemoteId(t,n,r){const i=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;const s=i.get(n);return s||-1}getRemoteIds(t,n){const r=this.getRemoteIdToIdMap(t);return n.map(i=>this.getRemoteId(t,i,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}}class vA{constructor(){this.crossOriginIframeMirror=new ed(Pf),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class TA{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new ed(Pf),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new ed(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&t.contentWindow?.addEventListener("message",this.handleMessage.bind(this)),this.loadListener?.(t);const r=Lf(t);r&&r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,this.mirror.getId(r))}handleMessage(t){const n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;const i=this.crossOriginIframeMap.get(t.source);if(!i)return;const s=this.transformCrossOriginEvent(i,n.data.event);s&&this.wrappedEmit(s,n.data.isCheckout)}transformCrossOriginEvent(t,n){switch(n.type){case nt.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);const r=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,r),this.patchRootIdOnNode(n.data.node,r),{timestamp:n.timestamp,type:nt.IncrementalSnapshot,data:{source:G.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case nt.Meta:case nt.Load:case nt.DomContentLoaded:return!1;case nt.Plugin:return n;case nt.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case nt.IncrementalSnapshot:switch(n.data.source){case G.Mutation:return n.data.adds.forEach(r=>{this.replaceIds(r,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(r.node,t);const i=this.crossOriginIframeRootIdMap.get(t);i&&this.patchRootIdOnNode(r.node,i)}),n.data.removes.forEach(r=>{this.replaceIds(r,t,["parentId","id"])}),n.data.attributes.forEach(r=>{this.replaceIds(r,t,["id"])}),n.data.texts.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case G.Drag:case G.TouchMove:case G.MouseMove:return n.data.positions.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case G.ViewportResize:return!1;case G.MediaInteraction:case G.MouseInteraction:case G.Scroll:case G.CanvasMutation:case G.Input:return this.replaceIds(n.data,t,["id"]),n;case G.StyleSheetRule:case G.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case G.Font:return n;case G.Selection:return n.data.ranges.forEach(r=>{this.replaceIds(r,t,["start","end"])}),n;case G.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),n.data.styles?.forEach(r=>{this.replaceStyleIds(r,t,["styleId"])}),n}}return!1}replace(t,n,r,i){for(const s of i)!Array.isArray(n[s])&&typeof n[s]!="number"||(Array.isArray(n[s])?n[s]=t.getIds(r,n[s]):n[s]=t.getId(r,n[s]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==te.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class wA{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class IA{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!po(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);const r=Xy({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(Ky({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),yu(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(Jy({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){const n=Lf(t),r=iA(t);!n||!r||this.patchAttachShadow(r.Element,n)}patchAttachShadow(t,n){const r=this;this.restoreHandlers.push(Df(t.prototype,"attachShadow",function(i){return function(s){const o=i.call(this,s);return this.shadowRoot&&Vy(this)&&r.addShadowRoot(this.shadowRoot,n),o}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}var gm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",kA=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ma=0;Ma<gm.length;Ma++)kA[gm.charCodeAt(Ma)]=Ma;class _m{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class xA{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new ZR,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;const r={id:n,styleIds:[]},i=[];for(const s of t){let o;this.styleMirror.has(s)?o=this.styleMirror.getId(s):(o=this.styleMirror.add(s),i.push({styleId:o,rules:Array.from(s.rules||CSSRule,(a,c)=>({rule:Ay(a),index:c}))})),r.styleIds.push(o)}i.length>0&&(r.styles=i),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class CA{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(t,n){const r=this.nodeMap.get(t);return r&&Array.from(r).some(i=>i!==n)}add(t,n){this.active||(this.active=!0,nA(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}destroy(){}}let Ht,$c;try{if(Array.from([1],e=>e*2)[0]!==2){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=e.contentWindow?.Array.from||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}const xn=kR();function fr(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:i="rr-block",blockSelector:s=null,unblockSelector:o=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:l="rr-mask",unmaskTextClass:d=null,maskTextSelector:p=null,unmaskTextSelector:f=null,inlineStylesheet:h=!0,maskAllInputs:m,maskInputOptions:g,slimDOMOptions:S,maskAttributeFn:b,maskInputFn:I,maskTextFn:E,maxCanvasSize:T=null,packFn:w,sampling:y={},dataURLOptions:k={},mousemoveWait:C,recordDOM:v=!0,recordCanvas:M=!1,recordCrossOriginIframes:R=!1,recordAfter:L=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:O=!1,collectFonts:B=!1,inlineImages:$=!1,plugins:P,keepIframeSrcFn:A=()=>!1,ignoreCSSAttributes:U=new Set([]),errorHandler:_,onMutation:H,getCanvasManager:Z}=e;cA(_);const ut=R?window.parent===window:!0;let ct=!1;if(!ut)try{window.parent.document&&(ct=!1)}catch{ct=!0}if(ut&&!t)throw new Error("emit function is required");if(!ut&&!ct)return()=>{};C!==void 0&&y.mousemove===void 0&&(y.mousemove=C),xn.reset();const gt=m===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:g!==void 0?g:{},Nt=S===!0||S==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:S==="all",headMetaDescKeywords:S==="all"}:S||{};QR();let yt,Bt=0;const Yt=tt=>{for(const pt of P||[])pt.eventProcessor&&(tt=pt.eventProcessor(tt));return w&&!ct&&(tt=w(tt)),tt};Ht=(tt,pt)=>{const V=tt;if(V.timestamp=Nc(),as[0]?.isFrozen()&&V.type!==nt.FullSnapshot&&!(V.type===nt.IncrementalSnapshot&&V.data.source===G.Mutation)&&as.forEach(kt=>kt.unfreeze()),ut)t?.(Yt(V),pt);else if(ct){const kt={type:"rrweb",event:Yt(V),origin:window.location.origin,isCheckout:pt};window.parent.postMessage(kt,"*")}if(V.type===nt.FullSnapshot)yt=V,Bt=0;else if(V.type===nt.IncrementalSnapshot){if(V.data.source===G.Mutation&&V.data.isAttachIframe)return;Bt++;const kt=r&&Bt>=r,et=n&&yt&&V.timestamp-yt.timestamp>n;(kt||et)&&Xe(!0)}};const Ue=tt=>{Ht({type:nt.IncrementalSnapshot,data:{source:G.Mutation,...tt}})},oe=tt=>Ht({type:nt.IncrementalSnapshot,data:{source:G.Scroll,...tt}}),Se=tt=>Ht({type:nt.IncrementalSnapshot,data:{source:G.CanvasMutation,...tt}}),lt=tt=>Ht({type:nt.IncrementalSnapshot,data:{source:G.AdoptedStyleSheet,...tt}}),Et=new xA({mutationCb:Ue,adoptedStyleSheetCb:lt}),Ut=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new vA:new TA({mirror:xn,mutationCb:Ue,stylesheetManager:Et,recordCrossOriginIframes:R,wrappedEmit:Ht});for(const tt of P||[])tt.getMirror&&tt.getMirror({nodeMirror:xn,crossOriginIframeMirror:Ut.crossOriginIframeMirror,crossOriginIframeStyleMirror:Ut.crossOriginIframeStyleMirror});const pe=new CA,x=AA(Z,{mirror:xn,win:window,mutationCb:tt=>Ht({type:nt.IncrementalSnapshot,data:{source:G.CanvasMutation,...tt}}),recordCanvas:M,blockClass:i,blockSelector:s,unblockSelector:o,maxCanvasSize:T,sampling:y.canvas,dataURLOptions:k,errorHandler:_}),ae=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new wA:new IA({mutationCb:Ue,scrollCb:oe,bypassOptions:{onMutation:H,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:f,inlineStylesheet:h,maskInputOptions:gt,dataURLOptions:k,maskAttributeFn:b,maskTextFn:E,maskInputFn:I,recordCanvas:M,inlineImages:$,sampling:y,slimDOMOptions:Nt,iframeManager:Ut,stylesheetManager:Et,canvasManager:x,keepIframeSrcFn:A,processedNodeManager:pe,ignoreCSSAttributes:U},mirror:xn}),Xe=(tt=!1)=>{if(!v)return;Ht({type:nt.Meta,data:{href:window.location.href,width:zy(),height:Uy()}},tt),Et.reset(),ae.init(),as.forEach(V=>V.lock());const pt=KR(document,{mirror:xn,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:f,inlineStylesheet:h,maskAllInputs:gt,maskAttributeFn:b,maskInputFn:I,maskTextFn:E,slimDOM:Nt,dataURLOptions:k,recordCanvas:M,inlineImages:$,onSerialize:V=>{jy(V,xn)&&Ut.addIframe(V),qy(V,xn)&&Et.trackLinkElement(V),Zl(V)&&ae.addShadowRoot(V.shadowRoot,document)},onIframeLoad:(V,kt)=>{Ut.attachIframe(V,kt),V.contentWindow&&x.addWindow(V.contentWindow),ae.observeAttachShadow(V)},onStylesheetLoad:(V,kt)=>{Et.attachLinkElement(V,kt)},onBlockedImageLoad:(V,kt,{width:et,height:Mt})=>{Ue({adds:[],removes:[],texts:[],attributes:[{id:kt.id,attributes:{style:{width:`${et}px`,height:`${Mt}px`}}}]})},keepIframeSrcFn:A,ignoreCSSAttributes:U});if(!pt)return console.warn("Failed to snapshot the document");Ht({type:nt.FullSnapshot,data:{node:pt,initialOffset:By(window)}}),as.forEach(V=>V.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Et.adoptStyleSheets(document.adoptedStyleSheets,xn.getId(document))};$c=Xe;try{const tt=[],pt=kt=>ht(EA)({onMutation:H,mutationCb:Ue,mousemoveCb:(et,Mt)=>Ht({type:nt.IncrementalSnapshot,data:{source:Mt,positions:et}}),mouseInteractionCb:et=>Ht({type:nt.IncrementalSnapshot,data:{source:G.MouseInteraction,...et}}),scrollCb:oe,viewportResizeCb:et=>Ht({type:nt.IncrementalSnapshot,data:{source:G.ViewportResize,...et}}),inputCb:et=>Ht({type:nt.IncrementalSnapshot,data:{source:G.Input,...et}}),mediaInteractionCb:et=>Ht({type:nt.IncrementalSnapshot,data:{source:G.MediaInteraction,...et}}),styleSheetRuleCb:et=>Ht({type:nt.IncrementalSnapshot,data:{source:G.StyleSheetRule,...et}}),styleDeclarationCb:et=>Ht({type:nt.IncrementalSnapshot,data:{source:G.StyleDeclaration,...et}}),canvasMutationCb:Se,fontCb:et=>Ht({type:nt.IncrementalSnapshot,data:{source:G.Font,...et}}),selectionCb:et=>{Ht({type:nt.IncrementalSnapshot,data:{source:G.Selection,...et}})},customElementCb:et=>{Ht({type:nt.IncrementalSnapshot,data:{source:G.CustomElement,...et}})},blockClass:i,ignoreClass:a,ignoreSelector:c,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:f,maskInputOptions:gt,inlineStylesheet:h,sampling:y,recordDOM:v,recordCanvas:M,inlineImages:$,userTriggeredOnInput:O,collectFonts:B,doc:kt,maskAttributeFn:b,maskInputFn:I,maskTextFn:E,keepIframeSrcFn:A,blockSelector:s,unblockSelector:o,slimDOMOptions:Nt,dataURLOptions:k,mirror:xn,iframeManager:Ut,stylesheetManager:Et,shadowDomManager:ae,processedNodeManager:pe,canvasManager:x,ignoreCSSAttributes:U,plugins:P?.filter(et=>et.observer)?.map(et=>({observer:et.observer,options:et.options,callback:Mt=>Ht({type:nt.Plugin,data:{plugin:et.name,payload:Mt}})}))||[]},{});Ut.addLoadListener(kt=>{try{tt.push(pt(kt.contentDocument))}catch(et){console.warn(et)}});const V=()=>{Xe(),tt.push(pt(document))};return document.readyState==="interactive"||document.readyState==="complete"?V():(tt.push(Ne("DOMContentLoaded",()=>{Ht({type:nt.DomContentLoaded,data:{}}),L==="DOMContentLoaded"&&V()})),tt.push(Ne("load",()=>{Ht({type:nt.Load,data:{}}),L==="load"&&V()},window))),()=>{tt.forEach(kt=>kt()),pe.destroy(),$c=void 0,uA()}}catch(tt){console.warn(tt)}}function RA(e){if(!$c)throw new Error("please take full snapshot after start recording");$c(e)}fr.mirror=xn;fr.takeFullSnapshot=RA;function AA(e,t){try{return e?e(t):new _m}catch{return console.warn("Unable to initialize CanvasManager"),new _m}}var ym;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(ym||(ym={}));const MA=3,OA=5;function $f(e){return e>9999999999?e:e*1e3}function Ku(e){return e>9999999999?e/1e3:e}function ma(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:nt.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:nr(t,10,1e3)}}),t.category==="console")))}const PA="button,a";function Qy(e){return e.closest(PA)||e}function Zy(e){const t=tS(e);return!t||!(t instanceof Element)?t:Qy(t)}function tS(e){return DA(e)?e.target:e}function DA(e){return typeof e=="object"&&!!e&&"target"in e}let kr;function NA(e){return kr||(kr=[],LA()),kr.push(e),()=>{const t=kr?kr.indexOf(e):-1;t>-1&&kr.splice(t,1)}}function LA(){gx(Rt,"open",function(e){return function(...t){if(kr)try{kr.forEach(n=>n())}catch{}return e.apply(Rt,t)}})}const $A=new Set([G.Mutation,G.StyleSheetRule,G.StyleDeclaration,G.AdoptedStyleSheet,G.CanvasMutation,G.Selection,G.MediaInteraction]);function FA(e,t,n){e.handleClick(t,n)}class BA{constructor(t,n,r=ma){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scrollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const t=NA(()=>{this._lastMutation=Sm()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(zA(n,this._ignoreSelector)||!HA(t))return;const r={timestamp:Ku(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(i=>i.node===r.node&&Math.abs(i.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=Ku(t)}registerScroll(t=Date.now()){this._lastScroll=Ku(t)}registerClick(t){const n=Qy(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){const t=[],n=Sm();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(const r of t){const i=this._clicks.indexOf(r);i>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(i,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scrollTimeout,i=t.mutationAfter&&t.mutationAfter<=this._threshold,s=!r&&!i,{clickCount:o,clickBreadcrumb:a}=t;if(s){const c=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,u=c<this._timeout*1e3?"mutation":"timeout",l={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:Rt.location.href,route:n.getCurrentRoute(),timeAfterClickMs:c,endReason:u,clickCount:o||1}};this._addBreadcrumbEvent(n,l);return}if(o>1){const c={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:Rt.location.href,route:n.getCurrentRoute(),clickCount:o,metric:!0}};this._addBreadcrumbEvent(n,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=fa(()=>this._checkClicks(),1e3)}}const UA=["A","BUTTON","INPUT"];function zA(e,t){return!!(!UA.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function HA(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function Sm(){return Date.now()/1e3}function WA(e,t){try{if(!jA(t))return;const{source:n}=t.data;if($A.has(n)&&e.registerMutation(t.timestamp),n===G.Scroll&&e.registerScroll(t.timestamp),qA(t)){const{type:r,id:i}=t.data,s=fr.mirror.getNode(i);s instanceof HTMLElement&&r===Ae.Click&&e.registerClick(s)}}catch{}}function jA(e){return e.type===MA}function qA(e){return e.data.source===G.MouseInteraction}function Hn(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var Ff=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(Ff||{});const YA=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function VA(e){const t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(const n in e)if(YA.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}const GA=e=>t=>{if(!e.isEnabled())return;const n=XA(t);if(!n)return;const r=t.name==="click",i=r?t.event:void 0;r&&e.clickDetector&&i?.target&&!i.altKey&&!i.metaKey&&!i.ctrlKey&&!i.shiftKey&&FA(e.clickDetector,n,Zy(t.event)),ma(e,n)};function eS(e,t){const n=fr.mirror.getId(e),r=n&&fr.mirror.getNode(n),i=r&&fr.mirror.getMeta(r),s=i&&JA(i)?i:null;return{message:t,data:s?{nodeId:n,node:{id:n,tagName:s.tagName,textContent:Array.from(s.childNodes).map(o=>o.type===Ff.Text&&o.textContent).filter(Boolean).map(o=>o.trim()).join(""),attributes:VA(s.attributes)}}:{}}}function XA(e){const{target:t,message:n}=KA(e);return Hn({category:`ui.${e.name}`,...eS(t,n)})}function KA(e){const t=e.name==="click";let n,r=null;try{r=t?Zy(e.event):tS(e.event),n=kf(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function JA(e){return e.type===Ff.Element}function QA(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=ZA(t);n&&ma(e,n)}function ZA(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:i,key:s,target:o}=e;if(!o||tM(o)||!s)return null;const a=t||r||i,c=s.length===1;if(!a&&c)return null;const u=kf(o,{maxStringLength:200})||"<unknown>",l=eS(o,u);return Hn({category:"ui.keyDown",message:u,data:{...l.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:i,key:s}})}function tM(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}const eM={resource:oM,paint:iM,navigation:sM};function Ju(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function nM(e){return e.map(rM).filter(Boolean)}function rM(e){const t=eM[e.entryType];return t?t(e):null}function Cs(e){return((xx()||Rt.performance.timeOrigin)+e)/1e3}function iM(e){const{duration:t,entryType:n,name:r,startTime:i}=e,s=Cs(i);return{type:n,name:r,start:s,end:s+t,data:void 0}}function sM(e){const{entryType:t,name:n,decodedBodySize:r,duration:i,domComplete:s,encodedBodySize:o,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:l,loadEventEnd:d,redirectCount:p,startTime:f,transferSize:h,type:m}=e;return i===0?null:{type:`${t}.${m}`,start:Cs(f),end:Cs(s),name:n,data:{size:h,decodedBodySize:r,encodedBodySize:o,duration:i,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:l,loadEventEnd:d,domComplete:s,redirectCount:p}}}function oM(e){const{entryType:t,initiatorType:n,name:r,responseEnd:i,startTime:s,decodedBodySize:o,encodedBodySize:a,responseStatus:c,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:Cs(s),end:Cs(i),name:r,data:{size:u,statusCode:c,decodedBodySize:o,encodedBodySize:a}}}function aM(e){const t=e.entries[e.entries.length-1],n=t?.element?[t.element]:void 0;return Bf(e,"largest-contentful-paint",n)}function cM(e){return e.sources!==void 0}function uM(e){const t=[],n=[];for(const r of e.entries)if(cM(r)){const i=[];for(const s of r.sources)if(s.node){n.push(s.node);const o=fr.mirror.getId(s.node);o&&i.push(o)}t.push({value:r.value,nodeIds:i.length?i:void 0})}return Bf(e,"cumulative-layout-shift",n,t)}function lM(e){const t=e.entries[e.entries.length-1],n=t?.target?[t.target]:void 0;return Bf(e,"interaction-to-next-paint",n)}function Bf(e,t,n,r){const i=e.value,s=e.rating,o=Cs(i);return{type:"web-vital",name:t,start:o,end:o,data:{value:i,size:i,rating:s,nodeIds:n?n.map(a=>fr.mirror.getId(a)):void 0,attributions:r}}}function dM(e){function t(i){e.performanceEntries.includes(i)||e.performanceEntries.push(i)}function n({entries:i}){i.forEach(t)}const r=[];return["navigation","paint","resource"].forEach(i=>{r.push(Oi(i,n))}),r.push(Sf(Ju(aM,e)),yf(Ju(uM,e)),ny(Ju(lM,e))),()=>{r.forEach(i=>i())}}const q=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,fM='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort(function(t,n){return t.f-n.f}),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort(function(t,n){return p[n.s]-p[t.s]||t.f-n.f});s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,s=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),a=s.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(s,n),O(s,a-8,r.d()),O(s,a-4,e),s}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){j.prototype.flush.call(this)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(G)return G.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J((t,n)=>{this.deflate.push(t,n)}),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}}),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function pM(){const e=new Blob([fM]);return URL.createObjectURL(e)}const bm=["log","warn","error"],ic="[Replay] ";function Qu(e,t="info"){tR({category:"console",data:{logger:"replay"},level:t,message:`${ic}${e}`},{level:t})}function hM(){let e=!1,t=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:r=>{e=!!r.captureExceptions,t=!!r.traceInternals}};return q?(bm.forEach(r=>{n[r]=(...i)=>{dr[r](ic,...i),t&&Qu(i.join(""),eR(r))}}),n.exception=(r,...i)=>{i.length&&n.error&&n.error(...i),dr.error(ic,r),e?FC(r,{mechanism:{handled:!0,type:"auto.function.replay.debug"}}):t&&Qu(r,"error")},n.infoTick=(...r)=>{dr.log(ic,...r),t&&setTimeout(()=>Qu(r[0]),0)}):bm.forEach(r=>{n[r]=()=>{}}),n}const Y=hM();class Uf extends Error{constructor(){super(`Event buffer exceeded maximum size of ${Mf}.`)}}class nS{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>Mf)throw new Uf;this.events.push(t)}finish(){return new Promise(t=>{const n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map(n=>n.timestamp).sort()[0];return t?$f(t):null}}class mM{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){q&&Y.log("Destroying compression worker"),this._worker.terminate()}postMessage(t,n){const r=this._getAndIncrementId();return new Promise((i,s)=>{const o=({data:a})=>{const c=a;if(c.method===t&&c.id===r){if(this._worker.removeEventListener("message",o),!c.success){q&&Y.error("Error in compression worker: ",c.response),s(new Error("Error in compression worker"));return}i(c.response)}};this._worker.addEventListener("message",o),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}}class gM{constructor(t){this._worker=new mM(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const n=$f(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>Mf?Promise.reject(new Uf):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{q&&Y.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class _M{constructor(t){this._fallback=new nS,this._compression=new gM(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}set waitForCheckout(t){this._used.waitForCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){q&&Y.exception(t,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:n,waitForCheckout:r}=this._fallback,i=[];for(const s of t)i.push(this._compression.addEvent(s));this._compression.hasCheckout=n,this._compression.waitForCheckout=r,this._used=this._compression;try{await Promise.all(i),this._fallback.clear()}catch(s){q&&Y.exception(s,"Failed to add events when switching buffers.")}}}function yM({useCompression:e,workerUrl:t}){if(e&&window.Worker){const n=SM(t);if(n)return n}return q&&Y.log("Using simple buffer"),new nS}function SM(e){try{const t=e||bM();if(!t)return;q&&Y.log(`Using compression worker${e?` from ${e}`:""}`);const n=new Worker(t);return new _M(n)}catch(t){q&&Y.exception(t,"Failed to create compression worker")}}function bM(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?pM():""}function zf(){try{return"sessionStorage"in Rt&&!!Rt.sessionStorage}catch{return!1}}function EM(e){vM(),e.session=void 0}function vM(){if(zf())try{Rt.sessionStorage.removeItem(Rf)}catch{}}function rS(e){return e===void 0?!1:Math.random()<e}function Su(e){if(zf())try{Rt.sessionStorage.setItem(Rf,JSON.stringify(e))}catch{}}function iS(e){const t=Date.now(),n=e.id||Dr(),r=e.started||t,i=e.lastActivity||t,s=e.segmentId||0,o=e.sampled,a=e.previousSessionId,c=e.dirty||!1;return{id:n,started:r,lastActivity:i,segmentId:s,sampled:o,previousSessionId:a,dirty:c}}function TM(e,t){return rS(e)?"session":t?"buffer":!1}function Em({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const i=TM(e,t),s=iS({sampled:i,previousSessionId:r});return n&&Su(s),s}function wM(){if(!zf())return null;try{const e=Rt.sessionStorage.getItem(Rf);if(!e)return null;const t=JSON.parse(e);return q&&Y.infoTick("Loading existing session"),iS(t)}catch{return null}}function nd(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function sS(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return nd(e.started,t,r)||nd(e.lastActivity,n,r)}function oS(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!sS(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function Zu({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){const i=r.stickySession&&wM();return i?oS(i,{sessionIdleExpire:e,maxReplayDuration:t})?(q&&Y.infoTick("Session in sessionStorage is expired, creating new one..."),Em(r,{previousSessionId:i.id})):i:(q&&Y.infoTick("Creating new session"),Em(r,{previousSessionId:n}))}function IM(e){return e.type===nt.Custom}function Hf(e,t,n){return cS(e,t)?(aS(e,t,n),!0):!1}function kM(e,t,n){return cS(e,t)?aS(e,t,n):Promise.resolve(null)}async function aS(e,t,n){const{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;const i=e.recordingMode==="buffer";try{n&&i&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);const s=e.getOptions(),o=xM(t,s.beforeAddRecordingEvent);return o?await r.addEvent(o):void 0}catch(s){const o=s&&s instanceof Uf,a=o?"addEventSizeExceeded":"addEvent",c=Kn();if(c){const u=o?"buffer_overflow":"internal_sdk_error";c.recordDroppedEvent(u,"replay")}if(o&&i)return r.clear(),r.waitForCheckout=!0,null;e.handleException(s),await e.stop({reason:a})}}function cS(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=$f(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(q&&Y.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function xM(e,t){try{if(typeof t=="function"&&IM(e))return t(e)}catch(n){return q&&Y.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function Wf(e){return!e.type}function rd(e){return e.type==="transaction"}function CM(e){return e.type==="replay_event"}function vm(e){return e.type==="feedback"}function RM(e){return(t,n)=>{if(!e.isEnabled()||!Wf(t)&&!rd(t))return;const r=n.statusCode;if(!(!r||r<200||r>=300)){if(rd(t)){AM(e,t);return}MM(e,t)}}}function AM(e,t){const n=e.getContext();t.contexts?.trace?.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function MM(e,t){const n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||fa(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(i){e.handleException(i)}})}function OM(e){return t=>{!e.isEnabled()||!Wf(t)||PM(e,t)}}function PM(e,t){const n=t.exception?.values?.[0]?.value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const r=Hn({category:"replay.hydrate-error",data:{url:mx()}});ma(e,r)}}function DM(e){const t=Kn();t&&t.on("beforeAddBreadcrumb",n=>NM(e,n))}function NM(e,t){if(!e.isEnabled()||!uS(t))return;const n=LM(t);n&&ma(e,n)}function LM(e){return!uS(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?$M(e):Hn(e)}function $M(e){const t=e.data?.arguments;if(!Array.isArray(t)||t.length===0)return Hn(e);let n=!1;const r=t.map(i=>{if(!i)return i;if(typeof i=="string")return i.length>Ca?(n=!0,`${i.slice(0,Ca)}`):i;if(typeof i=="object")try{const s=nr(i,7);return JSON.stringify(s).length>Ca?(n=!0,`${JSON.stringify(s,null,2).slice(0,Ca)}`):s}catch{}return i});return Hn({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function uS(e){return!!e.category}function FM(e,t){return e.type||!e.exception?.values?.length?!1:!!t.originalException?.__rrweb__}function lS(){const e=pa().getPropagationContext().dsc;e&&delete e.replay_id;const t=xy();if(t){const n=Ry(t);delete n.replay_id}}function BM(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:nt.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function UM(e,t){return e.recordingMode!=="buffer"||t.message===Af||!t.exception||t.type?!1:rS(e.getOptions().errorSampleRate)}function zM(e){return Object.assign((t,n)=>{if(!e.isEnabled()||e.isPaused())return t;if(CM(t))return delete t.breadcrumbs,t;if(!Wf(t)&&!rd(t)&&!vm(t))return t;if(!e.checkAndHandleExpiredSession())return lS(),t;if(vm(t))return e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),BM(e,t),t;if(FM(t,n)&&!e.getOptions()._experiments.captureExceptions)return q&&Y.log("Ignoring error from rrweb internals",t),null;const i=UM(e,t);if((i||e.recordingMode==="session")&&(t.tags={...t.tags,replayId:e.getSessionId()}),i&&e.recordingMode==="buffer"&&e.session?.sampled==="buffer"){const o=e.session;o.dirty=!0,e.getOptions().stickySession&&Su(o)}return t},{id:"Replay"})}function bu(e,t){return t.map(({type:n,start:r,end:i,name:s,data:o})=>{const a=e.throttledAddEvent({type:nt.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:s,startTimestamp:r,endTimestamp:i,data:o}}});return typeof a=="string"?Promise.resolve(null):a})}function HM(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function WM(e){return t=>{if(!e.isEnabled())return;const n=HM(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(bu(e,[n]),!1)))}}function jM(e,t){return q&&e.getOptions()._experiments.traceInternals?!1:XC(t,Kn())}function dS(e,t){e.isEnabled()&&t!==null&&(jM(e,t.name)||e.addUpdate(()=>(bu(e,[t]),!0)))}function Eu(e){if(!e)return;const t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=dy(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function fS(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function Fc(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function pS(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:i,method:s,statusCode:o,request:a,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:i,data:{method:s,statusCode:o,request:a,response:c}}}function Uo(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Nr(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:i,warnings:s}=qM(n);return r.body=i,s?.length&&(r._meta={warnings:s}),r}function id(e,t){return Object.entries(e).reduce((n,[r,i])=>{const s=r.toLowerCase();return t.includes(s)&&e[r]&&(n[s]=i),n},{})}function qM(e){if(!e||typeof e!="string")return{body:e};const t=e.length>nm,n=YM(e);if(t){const r=e.slice(0,nm);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function YM(e){const t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function Bc(e,t){const n=VM(e);return bx(n,t)}function VM(e,t=Rt.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(Rt.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function GM(e,t,n){try{const r=await KM(e,t,n),i=pS("resource.fetch",r);dS(n.replay,i)}catch(r){q&&Y.exception(r,"Failed to capture fetch breadcrumb")}}function XM(e,t){const{input:n,response:r}=t,i=n?py(n):void 0,s=Eu(i),o=r?fS(r.headers.get("content-length")):void 0;s!==void 0&&(e.data.request_body_size=s),o!==void 0&&(e.data.response_body_size=o)}async function KM(e,t,n){const r=Date.now(),{startTimestamp:i=r,endTimestamp:s=r}=t,{url:o,method:a,status_code:c=0,request_body_size:u,response_body_size:l}=e.data,d=Bc(o,n.networkDetailAllowUrls)&&!Bc(o,n.networkDetailDenyUrls),p=d?JM(n,t.input,u):Uo(u),f=await QM(d,n,t.response,l);return{startTimestamp:i,endTimestamp:s,url:o,method:a,statusCode:c,request:p,response:f}}function JM({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const i=n?eO(n,t):{};if(!e)return Nr(i,r,void 0);const s=py(n),[o,a]=fy(s,Y),c=Nr(i,r,o);return a?Fc(c,a):c}async function QM(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,i){if(!e&&i!==void 0)return Uo(i);const s=r?hS(r.headers,n):{};if(!r||!t&&i!==void 0)return Nr(s,i,void 0);const[o,a]=await tO(r),c=ZM(o,{networkCaptureBodies:t,responseBodySize:i,captureDetails:e,headers:s});return a?Fc(c,a):c}function ZM(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:i}){try{const s=e?.length&&n===void 0?Eu(e):n;return r?t?Nr(i,s,e):Nr(i,s,void 0):Uo(s)}catch(s){return q&&Y.exception(s,"Failed to serialize response body"),Nr(i,n,void 0)}}async function tO(e){const t=nO(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await rO(t)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(q&&Y.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(q&&Y.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function hS(e,t){const n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function eO(e,t){return e.length===1&&typeof e[0]!="string"?Tm(e[0],t):e.length===2?Tm(e[1],t):{}}function Tm(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?hS(n,t):Array.isArray(n)?{}:id(n,t):{}}function nO(e){try{return e.clone()}catch(t){q&&Y.exception(t,"Failed to clone response body")}}function rO(e){return new Promise((t,n)=>{const r=fa(()=>n(new Error("Timeout while trying to read response body")),500);iO(e).then(i=>t(i),i=>n(i)).finally(()=>clearTimeout(r))})}async function iO(e){return await e.text()}async function sO(e,t,n){try{const r=aO(e,t,n),i=pS("resource.xhr",r);dS(n.replay,i)}catch(r){q&&Y.exception(r,"Failed to capture xhr breadcrumb")}}function oO(e,t){const{xhr:n,input:r}=t;if(!n)return;const i=Eu(r),s=n.getResponseHeader("content-length")?fS(n.getResponseHeader("content-length")):lO(n.response,n.responseType);i!==void 0&&(e.data.request_body_size=i),s!==void 0&&(e.data.response_body_size=s)}function aO(e,t,n){const r=Date.now(),{startTimestamp:i=r,endTimestamp:s=r,input:o,xhr:a}=t,{url:c,method:u,status_code:l=0,request_body_size:d,response_body_size:p}=e.data;if(!c)return null;if(!a||!Bc(c,n.networkDetailAllowUrls)||Bc(c,n.networkDetailDenyUrls)){const w=Uo(d),y=Uo(p);return{startTimestamp:i,endTimestamp:s,url:c,method:u,statusCode:l,request:w,response:y}}const f=a[ai],h=f?id(f.request_headers,n.networkRequestHeaders):{},m=id(hy(a),n.networkResponseHeaders),[g,S]=n.networkCaptureBodies?fy(o,Y):[void 0],[b,I]=n.networkCaptureBodies?cO(a):[void 0],E=Nr(h,d,g),T=Nr(m,p,b);return{startTimestamp:i,endTimestamp:s,url:c,method:u,statusCode:l,request:S?Fc(E,S):E,response:I?Fc(T,I):T}}function cO(e){const t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return uO(e.response,e.responseType)}catch(n){t.push(n)}return q&&Y.warn("Failed to get xhr response body",...t),[void 0]}function uO(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return q&&Y.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return q&&Y.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function lO(e,t){try{const n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return Eu(n)}catch{return}}function dO(e){const t=Kn();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:i,networkRequestHeaders:s,networkResponseHeaders:o}=e.getOptions(),a={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:i,networkRequestHeaders:s,networkResponseHeaders:o};t&&t.on("beforeAddBreadcrumb",(c,u)=>fO(a,c,u))}catch{}}function fO(e,t,n){if(t.data)try{pO(t)&&mO(n)&&(oO(t,n),sO(t,n,e)),hO(t)&&gO(n)&&(XM(t,n),GM(t,n,e))}catch(r){q&&Y.exception(r,"Error when enriching network breadcrumb")}}function pO(e){return e.category==="xhr"}function hO(e){return e.category==="fetch"}function mO(e){return e?.xhr}function gO(e){return e?.response}function _O(e){const t=Kn();cy(GA(e)),cu(WM(e)),DM(e),dO(e);const n=zM(e);UC(n),t&&(t.on("beforeSendEvent",OM(e)),t.on("afterSendEvent",RM(e)),t.on("createDsc",r=>{const i=e.getSessionId();i&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(r.replay_id=i)}),t.on("spanStart",r=>{e.lastActiveSpan=r}),t.on("spanEnd",r=>{e.lastActiveSpan=r}),t.on("beforeSendFeedback",async(r,i)=>{const s=e.getSessionId();i?.includeReplay&&e.isEnabled()&&s&&r.contexts?.feedback&&(r.contexts.feedback.source==="api"&&await e.sendBufferedReplayOrFlush(),r.contexts.feedback.replay_id=s)}),t.on("openFeedbackWidget",async()=>{await e.sendBufferedReplayOrFlush()}))}async function yO(e){try{return Promise.all(bu(e,[SO(Rt.performance.memory)]))}catch{return[]}}function SO(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,i=Date.now()/1e3;return{type:"memory",name:"memory",start:i,end:i,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function bO(e,t,n){return QC(e,t,{...n,setTimeoutImpl:fa})}const Oa=Be.navigator;function EO(){return/iPhone|iPad|iPod/i.test(Oa?.userAgent??"")||/Macintosh/i.test(Oa?.userAgent??"")&&Oa?.maxTouchPoints&&Oa?.maxTouchPoints>1?{sampling:{mousemove:!1}}:{}}function vO(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){q&&Y.warn("Received replay event after session expired.");return}const i=r||!t;t=!0,e.clickDetector&&WA(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&i&&e.setInitialState(),!Hf(e,n,i))return!0;if(!i)return!1;const s=e.session;if(wO(e,i),e.recordingMode==="buffer"&&s&&e.eventBuffer&&!s.dirty){const o=e.eventBuffer.getEarliestTimestamp();o&&(q&&Y.log(`Updating session start time to earliest event in buffer to ${new Date(o)}`),s.started=o,e.getOptions().stickySession&&Su(s))}return s?.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function TO(e){const t=e.getOptions();return{type:nt.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function wO(e,t){!t||!e.session||e.session.segmentId!==0||Hf(e,TO(e),!1)}function IO(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function kO(e,t,n,r){return hC(gC(e,mC(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function xO({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{const s=new TextEncoder().encode(r);n=new Uint8Array(s.length+e.length),n.set(s),n.set(e,s.length)}return n}async function CO({client:e,scope:t,replayId:n,event:r}){const i=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,s={event_id:n,integrations:i};e.emit("preprocessEvent",r,s);const o=await xC(e.getOptions(),r,s,t,e,mu());if(!o)return null;e.emit("postprocessEvent",o,s),o.platform=o.platform||"javascript";const a=e.getSdkMetadata(),{name:c,version:u,settings:l}=a?.sdk||{};return o.sdk={...o.sdk,name:c||"sentry.javascript.unknown",version:u||"0.0.0",settings:l},o}async function RO({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:i,session:s}){const o=xO({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:u,initialTimestamp:l}=r,d=Kn(),p=pa(),f=d?.getTransport(),h=d?.getDsn();if(!d||!f||!h||!s.sampled)return Promise.resolve({});const m={type:sR,replay_start_timestamp:l/1e3,timestamp:i/1e3,error_ids:c,trace_ids:u,urls:a,replay_id:t,segment_id:n,replay_type:s.sampled},g=await CO({scope:p,client:d,replayId:t,event:m});if(!g)return d.recordDroppedEvent("event_processor","replay"),q&&Y.log("An event processor returned `null`, will not send event."),Promise.resolve({});delete g.sdkProcessingMetadata;const S=kO(g,o,h,d.getOptions().tunnel);let b;try{b=await f.send(S)}catch(E){const T=new Error(Af);try{T.cause=E}catch{}throw T}if(typeof b.statusCode=="number"&&(b.statusCode<200||b.statusCode>=300))throw new mS(b.statusCode);const I=qC({},b);if(jC(I,"replay"))throw new jf(I);return b}class mS extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class jf extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}async function gS(e,t={count:0,interval:dR}){const{recordingData:n,onError:r}=e;if(n.length)try{return await RO(e),!0}catch(i){if(i instanceof mS||i instanceof jf)throw i;if(BC("Replays",{_retryCount:t.count}),r&&r(i),t.count>=fR){const s=new Error(`${Af} - max retries exceeded`);try{s.cause=i}catch{}throw s}return t.interval*=++t.count,new Promise((s,o)=>{fa(async()=>{try{await gS(e,t),s(!0)}catch(a){o(a)}},t.interval)})}}const _S="__THROTTLED",AO="__SKIPPED";function MO(e,t,n){const r=new Map,i=a=>{const c=a-n;r.forEach((u,l)=>{l<c&&r.delete(l)})},s=()=>[...r.values()].reduce((a,c)=>a+c,0);let o=!1;return(...a)=>{const c=Math.floor(Date.now()/1e3);if(i(c),s()>=t){const l=o;return o=!0,l?AO:_S}o=!1;const u=r.get(c)||0;return r.set(c,u+1),e(...a)}}class OO{constructor({options:t,recordingOptions:n}){this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:oR,sessionIdleExpire:aR},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=bO(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=MO((o,a)=>kM(this,o,a),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:i}=this.getOptions(),s=r?{threshold:Math.min(pR,r),timeout:r,scrollTimeout:hR,ignoreSelector:i?i.join(","):""}:void 0;if(s&&(this.clickDetector=new BA(this,s)),q){const o=t._experiments;Y.setConfig({captureExceptions:!!o.captureExceptions,traceInternals:!!o.traceInternals})}this._handleVisibilityChange=()=>{Rt.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{const o=Hn({category:"ui.blur"});this._doChangeToBackgroundTasks(o)},this._handleWindowFocus=()=>{const o=Hn({category:"ui.focus"});this._doChangeToForegroundTasks(o)},this._handleKeyboardEvent=o=>{QA(this,o)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(t){q&&Y.exception(t),this._options.onError&&this._options.onError(t)}initializeSampling(t){const{errorSampleRate:n,sessionSampleRate:r}=this._options,i=n<=0&&r<=0;if(this._requiresManualStart=i,!i){if(this._initializeSessionForSampling(t),!this.session){q&&Y.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",q&&Y.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){q&&Y.log("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){q&&Y.log("Buffering is in progress, call `flush()` to save the replay");return}q&&Y.infoTick("Starting replay in session mode"),this._updateUserActivity();const t=Zu({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this.recordingMode="session",this._initializeRecording()}startBuffering(){if(this._isEnabled){q&&Y.log("Buffering is in progress, call `flush()` to save the replay");return}q&&Y.infoTick("Starting replay in buffer mode");const t=Zu({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._canvas;this._stopRecording=fr({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:lR}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:vO(this),...EO(),onMutation:this._onMutationHandler.bind(this),...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this.handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this.handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1,this.recordingMode="buffer";try{q&&Y.log(`Stopping Replay${n?` triggered by ${n}`:""}`),lS(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer?.destroy(),this.eventBuffer=null,EM(this)}catch(r){this.handleException(r)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),q&&Y.log("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),q&&Y.log("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();q&&Y.log("Converting buffer to session"),await this.flushImmediate();const r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this.session.dirty=!1,this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const n=t();this.recordingMode==="buffer"||!this._isEnabled||n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(t){if(!(t&&this.session?.sampled===!1))return this.session?.id}checkAndHandleExpiredSession(){if(this._lastActivity&&nd(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const t=`${Rt.location.pathname}${Rt.location.hash}${Rt.location.search}`,n=`${Rt.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){const r=this._throttledAddEvent(t,n);if(r===_S){const i=Hn({category:"replay.throttled"});this.addUpdate(()=>!Hf(this,{type:OA,timestamp:i.timestamp||0,data:{tag:"breadcrumb",payload:i,metric:!0}}))}return r}getCurrentRoute(){const t=this.lastActiveSpan||xy(),n=t&&Cf(t),i=(n&&No(n).data||{})[wy];if(!(!n||!i||!["route","custom"].includes(i)))return No(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=yM({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){const n=this._options.errorSampleRate>0,r=Zu({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;const t=this.session;return oS(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{Rt.document.addEventListener("visibilitychange",this._handleVisibilityChange),Rt.addEventListener("blur",this._handleWindowBlur),Rt.addEventListener("focus",this._handleWindowFocus),Rt.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(_O(this),this._hasInitializedCoreListeners=!0)}catch(t){this.handleException(t)}this._performanceCleanupCallback=dM(this)}_removeListeners(){try{Rt.document.removeEventListener("visibilitychange",this._handleVisibilityChange),Rt.removeEventListener("blur",this._handleWindowBlur),Rt.removeEventListener("focus",this._handleWindowFocus),Rt.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this.handleException(t)}}_doChangeToBackgroundTasks(t){!this.session||sS(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){q&&Y.log("Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:nt.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=nM(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const n=this._context.initialTimestamp/1e3;t=t.filter(r=>r.start>=n)}return Promise.all(bu(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:n}=this;if(!t||!n||this._requiresManualStart||t.segmentId)return;const r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){const t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){q&&Y.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!!this.eventBuffer?.hasEvents&&(await yO(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const r=this._popEventContext(),i=this.session.segmentId++;this._maybeSaveSession();const s=await this.eventBuffer.finish();await gS({replayId:t,recordingData:s,segmentId:i,eventContext:r,session:this.session,timestamp:n,onError:o=>this.handleException(o)})}catch(n){this.handleException(n),this.stop({reason:"sendReplay"});const r=Kn();if(r){const i=n instanceof jf?"ratelimit_backoff":"send_error";r.recordDroppedEvent(i,"replay")}}}async _flush({force:t=!1}={}){if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){q&&Y.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;const n=this.session.started,i=Date.now()-n;this._debouncedFlush.cancel();const s=i<this._options.minReplayDuration,o=i>this._options.maxReplayDuration+5e3;if(s||o){q&&Y.log(`Session duration (${Math.floor(i/1e3)}s) is too ${s?"short":"long"}, not sending replay.`),s&&this._debouncedFlush();return}const a=this.eventBuffer;a&&this.session.segmentId===0&&!a.hasCheckout&&q&&Y.log("Flushing initial segment without checkout.");const c=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(u){this.handleException(u)}finally{this._flushLock=void 0,c&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&Su(this.session)}_onMutationHandler(t){const{ignoreMutations:n}=this._options._experiments;if(n?.length&&t.some(a=>{const c=IO(a.target),u=n.join(",");return c?.matches(u)}))return!1;const r=t.length,i=this._options.mutationLimit,s=this._options.mutationBreadcrumbLimit,o=i&&r>i;if(r>s||o){const a=Hn({category:"replay.mutations",data:{count:r,limit:o}});this._createCustomBreadcrumb(a)}return o?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}function Xs(e,t){return[...e,...t].join(",")}function PO({mask:e,unmask:t,block:n,unblock:r,ignore:i}){const s=["base","iframe[srcdoc]:not([src])"],o=Xs(e,[".sentry-mask","[data-sentry-mask]"]),a=Xs(t,[]);return{maskTextSelector:o,unmaskTextSelector:a,blockSelector:Xs(n,[".sentry-block","[data-sentry-block]",...s]),unblockSelector:Xs(r,[]),ignoreSelector:Xs(i,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function DO({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:i,value:s}){return!r||i.unmaskTextSelector&&e.matches(i.unmaskTextSelector)?s:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?s.replace(/[\S]/g,"*"):s}const wm='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',NO=["content-length","content-type","accept"];let Im=!1;const LO=(e=>new $O(e));class $O{constructor({flushMinDelay:t=cR,flushMaxDelay:n=uR,minReplayDuration:r=mR,maxReplayDuration:i=rm,stickySession:s=!0,useCompression:o=!0,workerUrl:a,_experiments:c={},maskAllText:u=!0,maskAllInputs:l=!0,blockAllMedia:d=!0,mutationBreadcrumbLimit:p=750,mutationLimit:f=1e4,slowClickTimeout:h=7e3,slowClickIgnoreSelectors:m=[],networkDetailAllowUrls:g=[],networkDetailDenyUrls:S=[],networkCaptureBodies:b=!0,networkRequestHeaders:I=[],networkResponseHeaders:E=[],mask:T=[],maskAttributes:w=["title","placeholder","aria-label"],unmask:y=[],block:k=[],unblock:C=[],ignore:v=[],maskFn:M,beforeAddRecordingEvent:R,beforeErrorSampling:L,onError:O}={}){this.name="Replay";const B=PO({mask:T,unmask:y,block:k,unblock:C,ignore:v});if(this._recordingOptions={maskAllInputs:l,maskAllText:u,maskInputOptions:{password:!0},maskTextFn:M,maskInputFn:M,maskAttributeFn:($,P,A)=>DO({maskAttributes:w,maskAllText:u,privacyOptions:B,key:$,value:P,el:A}),...B,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:$=>{try{$.__rrweb__=!0}catch{}},recordCrossOriginIframes:!!c.recordCrossOriginIframes},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,gR),maxReplayDuration:Math.min(i,rm),stickySession:s,useCompression:o,workerUrl:a,blockAllMedia:d,maskAllInputs:l,maskAllText:u,mutationBreadcrumbLimit:p,mutationLimit:f,slowClickTimeout:h,slowClickIgnoreSelectors:m,networkDetailAllowUrls:g,networkDetailDenyUrls:S,networkCaptureBodies:b,networkRequestHeaders:km(I),networkResponseHeaders:km(E),beforeAddRecordingEvent:R,beforeErrorSampling:L,onError:O,_experiments:c},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${wm}`:wm,this._recordingOptions.ignoreCSSAttributes=new Set(["background-image"])),this._isInitialized&&em())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Im}set _isInitialized(t){Im=t}afterAllSetup(t){!em()||this._replay||(this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(t){if(this._replay?.isEnabled())return this._replay.getSessionId(t)}getRecordingMode(){if(this._replay?.isEnabled())return this._replay.recordingMode}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){const n=FO(this._initialOptions,t);this._replay=new OO({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{const n=t.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}}function FO(e,t){const n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...e},i=Yh(n.replaysSessionSampleRate),s=Yh(n.replaysOnErrorSampleRate);return i==null&&s==null&&vf(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),i!=null&&(r.sessionSampleRate=i),s!=null&&(r.errorSampleRate=s),r}function km(e){return[...NO,...e.map(t=>t.toLowerCase())]}function BO(e){return e.split(",").some(t=>t.trim().startsWith("sentry-"))}function yS(e){try{return new URL(e,mt.location.origin).href}catch{return}}function UO(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function SS(e){try{return new Headers(e)}catch{return}}const xm=new WeakMap,tl=new Map,bS={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function zO(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:i,shouldCreateSpanForRequest:s,enableHTTPTimings:o,tracePropagationTargets:a,onRequestSpanStart:c,onRequestSpanEnd:u}={...bS,...t},l=typeof s=="function"?s:h=>!0,d=h=>HO(h,a),p={},f=e.getOptions().propagateTraceparent;n&&(e.addEventProcessor(h=>(h.type==="transaction"&&h.spans&&h.spans.forEach(m=>{if(m.op==="http.client"){const g=tl.get(m.span_id);g&&(m.timestamp=g/1e3,tl.delete(m.span_id))}}),h)),i&&KT(h=>{if(h.response){const m=xm.get(h.response);m&&h.endTimestamp&&tl.set(m,h.endTimestamp)}}),S_(h=>{const m=zT(h,l,d,p,{propagateTraceparent:f,onRequestSpanEnd:u});if(h.response&&h.fetchData.__span&&xm.set(h.response,h.fetchData.__span),m){const g=yS(h.fetchData.url),S=g?ds(g).host:void 0;m.setAttributes({"http.url":g,"server.address":S}),o&&Cm(m),c?.(m,{headers:h.headers})}})),r&&ly(h=>{const m=WO(h,l,d,p,f,u);m&&(o&&Cm(m),c?.(m,{headers:SS(h.xhr.__sentry_xhr_v3__?.request_headers)}))})}function Cm(e){const{url:t}=Dt(e).data;if(!t||typeof t!="string")return;const n=Oi("resource",({entries:r})=>{r.forEach(i=>{UO(i)&&i.name.endsWith(t)&&(e.setAttributes(ay(i)),setTimeout(n))})})}function HO(e,t){const n=ta();if(n){let r,i;try{r=new URL(e,n),i=new URL(n).origin}catch{return!1}const s=r.origin===i;return t?pi(r.toString(),t)||s&&pi(r.pathname,t):s}else{const r=!!e.match(/^\/(?!\/)/);return t?pi(e,t):r}}function WO(e,t,n,r,i,s){const o=e.xhr,a=o?.[ai];if(!o||o.__sentry_own_request__||!a)return;const{url:c,method:u}=a,l=On()&&t(c);if(e.endTimestamp&&l){const S=o.__sentry_xhr_span_id__;if(!S)return;const b=r[S];b&&a.status_code!==void 0&&(Og(b,a.status_code),b.end(),s?.(b,{headers:SS(hy(o)),error:e.error}),delete r[S]);return}const d=yS(c),p=ds(d||c),f=dT(c),h=!!zs(),m=l&&h?nu({name:`${u} ${f}`,attributes:{url:c,type:"xhr","http.method":u,"http.url":d,"server.address":p?.host,[xi]:"auto.http.browser",[Ao]:"http.client",...p?.search&&{"http.query":p?.search},...p?.hash&&{"http.fragment":p?.hash}}}):new Ci;o.__sentry_xhr_span_id__=m.spanContext().spanId,r[o.__sentry_xhr_span_id__]=m,n(c)&&jO(o,On()&&h?m:void 0,i);const g=It();return g&&g.emit("beforeOutgoingRequestSpan",m,e),m}function jO(e,t,n){const{"sentry-trace":r,baggage:i,traceparent:s}=m_({span:t,propagateTraceparent:n});r&&qO(e,r,i,s)}function qO(e,t,n,r){const i=e.__sentry_xhr_v3__?.request_headers;if(!(i?.["sentry-trace"]||!e.setRequestHeader))try{if(e.setRequestHeader("sentry-trace",t),r&&!i?.traceparent&&e.setRequestHeader("traceparent",r),n){const s=i?.baggage;(!s||!BO(s))&&e.setRequestHeader("baggage",n)}}catch{}}function YO(){mt.document?mt.document.addEventListener("visibilitychange",()=>{const e=zs();if(!e)return;const t=Mn(e);if(mt.document.hidden&&t){const n="cancelled",{op:r,status:i}=Dt(t);bn&&N.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),i||t.setStatus({code:le,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):bn&&N.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const VO=3600,ES="sentry_previous_trace",GO="sentry.previous_trace";function XO(e,{linkPreviousTrace:t,consistentTraceSampling:n}){const r=t==="session-storage";let i=r?QO():void 0;e.on("spanStart",o=>{if(Mn(o)!==o)return;const a=Jt().getPropagationContext();i=KO(i,o,a),r&&JO(i)});let s=!0;n&&e.on("beforeSampling",o=>{if(!i)return;const a=Jt(),c=a.getPropagationContext();if(s&&c.parentSpanId){s=!1;return}a.setPropagationContext({...c,dsc:{...c.dsc,sample_rate:String(i.sampleRate),sampled:String(sd(i.spanContext))},sampleRand:i.sampleRand}),o.parentSampled=sd(i.spanContext),o.parentSampleRate=i.sampleRate,o.spanAttributes={...o.spanAttributes,[Mg]:i.sampleRate}})}function KO(e,t,n){const r=Dt(t);function i(){try{return Number(n.dsc?.sample_rate)??Number(r.data?.[zd])}catch{return 0}}const s={spanContext:t.spanContext(),startTimestamp:r.start_timestamp,sampleRate:i(),sampleRand:n.sampleRand};if(!e)return s;const o=e.spanContext;return o.traceId===r.trace_id?e:(Date.now()/1e3-e.startTimestamp<=VO&&(bn&&N.log(`Adding previous_trace ${o} link to span ${{op:r.op,...t.spanContext()}}`),t.addLink({context:o,attributes:{[rE]:"previous_trace"}}),t.setAttribute(GO,`${o.traceId}-${o.spanId}-${sd(o)?1:0}`)),s)}function JO(e){try{mt.sessionStorage.setItem(ES,JSON.stringify(e))}catch(t){bn&&N.warn("Could not store previous trace in sessionStorage",t)}}function QO(){try{const e=mt.sessionStorage?.getItem(ES);return JSON.parse(e)}catch{return}}function sd(e){return e.traceFlags===1}const ZO="BrowserTracing",tP={...Ja,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,enableReportPageLoaded:!1,_experiments:{},...bS},eP=((e={})=>{const t={name:void 0,source:void 0},n=mt.document,{enableInp:r,enableElementTiming:i,enableLongTask:s,enableLongAnimationFrame:o,_experiments:{enableInteractions:a,enableStandaloneClsSpans:c,enableStandaloneLcpSpans:u},beforeStartSpan:l,idleTimeout:d,finalTimeout:p,childSpanTimeout:f,markBackgroundSpan:h,traceFetch:m,traceXHR:g,trackFetchStreamPerformance:S,shouldCreateSpanForRequest:b,enableHTTPTimings:I,ignoreResourceSpans:E,ignorePerformanceApiSpans:T,instrumentPageLoad:w,instrumentNavigation:y,detectRedirects:k,linkPreviousTrace:C,consistentTraceSampling:v,enableReportPageLoaded:M,onRequestSpanStart:R,onRequestSpanEnd:L}={...tP,...e};let O,B,$;function P(A,U,_=!0){const H=U.op==="pageload",Z=U.name,ut=l?l(U):U,ct=ut.attributes||{};if(Z!==ut.name&&(ct[ar]="custom",ut.attributes=ct),!_){const yt=Bi();nu({...ut,startTime:yt}).end(yt);return}t.name=ut.name,t.source=ct[ar];const gt=Jg(ut,{idleTimeout:d,finalTimeout:p,childSpanTimeout:f,disableAutoFinish:H,beforeSpanEnd:yt=>{O?.(),TI(yt,{recordClsOnPageloadSpan:!c,recordLcpOnPageloadSpan:!u,ignoreResourceSpans:E,ignorePerformanceApiSpans:T}),Am(A,void 0);const Bt=Jt(),Yt=Bt.getPropagationContext();Bt.setPropagationContext({...Yt,traceId:gt.spanContext().traceId,sampled:qr(gt),dsc:Ur(yt)}),H&&($=void 0)},trimIdleSpanEndTimestamp:!M});H&&M&&($=gt),Am(A,gt);function Nt(){n&&["interactive","complete"].includes(n.readyState)&&A.emit("idleSpanEnableAutoFinish",gt)}H&&!M&&n&&(n.addEventListener("readystatechange",()=>{Nt()}),Nt())}return{name:ZO,setup(A){if(OE(),O=gI({recordClsStandaloneSpans:c||!1,recordLcpStandaloneSpans:u||!1,client:A}),r&&GI(),i&&NI(),o&&bt.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?yI():s&&_I(),a&&SI(),k&&n){const _=()=>{B=an()};addEventListener("click",_,{capture:!0}),addEventListener("keydown",_,{capture:!0,passive:!0})}function U(){const _=zo(A);_&&!Dt(_).timestamp&&(bn&&N.log(`[Tracing] Finishing current active span with op: ${Dt(_).op}`),_.setAttribute(Mo,"cancelled"),_.end())}A.on("startNavigationSpan",(_,H)=>{if(It()!==A)return;if(H?.isRedirect){bn&&N.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),P(A,{op:"navigation.redirect",..._},!1);return}B=void 0,U(),Ui().setPropagationContext({traceId:mr(),sampleRand:Math.random(),propagationSpanId:On()?void 0:ur()});const Z=Jt();Z.setPropagationContext({traceId:mr(),sampleRand:Math.random(),propagationSpanId:On()?void 0:ur()}),Z.setSDKProcessingMetadata({normalizedRequest:void 0}),P(A,{op:"navigation",..._,parentSpan:null,forceTransaction:!0})}),A.on("startPageLoadSpan",(_,H={})=>{if(It()!==A)return;U();const Z=H.sentryTrace||Rm("sentry-trace"),ut=H.baggage||Rm("baggage"),ct=TE(Z,ut),gt=Jt();gt.setPropagationContext(ct),On()||(gt.getPropagationContext().propagationSpanId=ur()),gt.setSDKProcessingMetadata({normalizedRequest:Jd()}),P(A,{op:"pageload",..._})}),A.on("endPageloadSpan",()=>{M&&$&&($.setAttribute(Mo,"reportPageLoaded"),$.end())})},afterAllSetup(A){let U=ta();if(C!=="off"&&XO(A,{linkPreviousTrace:C,consistentTraceSampling:v}),mt.location){if(w){const _=Hb();nP(A,{name:mt.location.pathname,startTime:_?_/1e3:void 0,attributes:{[ar]:"url",[xi]:"auto.pageload.browser"}})}y&&cu(({to:_,from:H})=>{if(H===void 0&&U?.indexOf(_)!==-1){U=void 0;return}U=void 0;const Z=h_(_),ut=zo(A),ct=ut&&k&&sP(ut,B);rP(A,{name:Z?.pathname||mt.location.pathname,attributes:{[ar]:"url",[xi]:"auto.navigation.browser"}},{url:_,isRedirect:ct})})}h&&YO(),a&&iP(A,d,p,f,t),r&&JI(),zO(A,{traceFetch:m,traceXHR:g,trackFetchStreamPerformance:S,tracePropagationTargets:A.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:b,enableHTTPTimings:I,onRequestSpanStart:R,onRequestSpanEnd:L})}}});function nP(e,t,n){e.emit("startPageLoadSpan",t,n),Jt().setTransactionName(t.name);const r=zo(e);return r&&e.emit("afterStartPageLoadSpan",r),r}function rP(e,t,n){const{url:r,isRedirect:i}=n||{};e.emit("beforeStartNavigationSpan",t,{isRedirect:i}),e.emit("startNavigationSpan",t,{isRedirect:i});const s=Jt();return s.setTransactionName(t.name),r&&!i&&s.setSDKProcessingMetadata({normalizedRequest:{...Jd(),url:r}}),zo(e)}function Rm(e){return mt.document?.querySelector(`meta[name=${e}]`)?.getAttribute("content")||void 0}function iP(e,t,n,r,i){const s=mt.document;let o;const a=()=>{const c="ui.action.click",u=zo(e);if(u){const l=Dt(u).op;if(["navigation","pageload"].includes(l)){bn&&N.warn(`[Tracing] Did not create ${c} span because a pageload or navigation span is in progress.`);return}}if(o&&(o.setAttribute(Mo,"interactionInterrupted"),o.end(),o=void 0),!i.name){bn&&N.warn(`[Tracing] Did not create ${c} transaction because _latestRouteName is missing.`);return}o=Jg({name:i.name,op:c,attributes:{[ar]:i.source||"url"}},{idleTimeout:t,finalTimeout:n,childSpanTimeout:r})};s&&addEventListener("click",a,{capture:!0})}const vS="_sentry_idleSpan";function zo(e){return e[vS]}function Am(e,t){Dn(e,vS,t)}const Mm=1.5;function sP(e,t){const n=Dt(e),r=Bi(),i=n.start_timestamp;return!(r-i>Mm||t&&r-t<=Mm)}function rr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TS(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var cn={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Rs={duration:.5,overwrite:!1,delay:0},qf,ye,Pt,gn=1e8,wt=1/gn,od=Math.PI*2,oP=od/4,aP=0,wS=Math.sqrt,cP=Math.cos,uP=Math.sin,fe=function(t){return typeof t=="string"},jt=function(t){return typeof t=="function"},_r=function(t){return typeof t=="number"},Yf=function(t){return typeof t>"u"},Gn=function(t){return typeof t=="object"},We=function(t){return t!==!1},Vf=function(){return typeof window<"u"},Pa=function(t){return jt(t)||fe(t)},IS=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},xe=Array.isArray,ad=/(?:-?\.?\d|\.)+/gi,kS=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,cs=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,el=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,xS=/[+-]=-?[.\d]+/,CS=/[^,'"\[\]\s]+/gi,lP=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,$t,Bn,cd,Gf,un={},Uc={},RS,AS=function(t){return(Uc=As(t,un))&&Ge},Xf=function(t,n){return console.warn("Invalid property",t,"set to",n,"Missing plugin? gsap.registerPlugin()")},Ho=function(t,n){return!n&&console.warn(t)},MS=function(t,n){return t&&(un[t]=n)&&Uc&&(Uc[t]=n)||un},Wo=function(){return 0},dP={suppressEvents:!0,isStart:!0,kill:!1},sc={suppressEvents:!0,kill:!1},fP={suppressEvents:!0},Kf={},Lr=[],ud={},OS,en={},nl={},Om=30,oc=[],Jf="",Qf=function(t){var n=t[0],r,i;if(Gn(n)||jt(n)||(t=[t]),!(r=(n._gsap||{}).harness)){for(i=oc.length;i--&&!oc[i].targetTest(n););r=oc[i]}for(i=t.length;i--;)t[i]&&(t[i]._gsap||(t[i]._gsap=new n0(t[i],r)))||t.splice(i,1);return t},yi=function(t){return t._gsap||Qf(_n(t))[0]._gsap},PS=function(t,n,r){return(r=t[n])&&jt(r)?t[n]():Yf(r)&&t.getAttribute&&t.getAttribute(n)||r},je=function(t,n){return(t=t.split(",")).forEach(n)||t},Xt=function(t){return Math.round(t*1e5)/1e5||0},ne=function(t){return Math.round(t*1e7)/1e7||0},hs=function(t,n){var r=n.charAt(0),i=parseFloat(n.substr(2));return t=parseFloat(t),r==="+"?t+i:r==="-"?t-i:r==="*"?t*i:t/i},pP=function(t,n){for(var r=n.length,i=0;t.indexOf(n[i])<0&&++i<r;);return i<r},zc=function(){var t=Lr.length,n=Lr.slice(0),r,i;for(ud={},Lr.length=0,r=0;r<t;r++)i=n[r],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},Zf=function(t){return!!(t._initted||t._startAt||t.add)},DS=function(t,n,r,i){Lr.length&&!ye&&zc(),t.render(n,r,!!(ye&&n<0&&Zf(t))),Lr.length&&!ye&&zc()},NS=function(t){var n=parseFloat(t);return(n||n===0)&&(t+"").match(CS).length<2?n:fe(t)?t.trim():t},LS=function(t){return t},ln=function(t,n){for(var r in n)r in t||(t[r]=n[r]);return t},hP=function(t){return function(n,r){for(var i in r)i in n||i==="duration"&&t||i==="ease"||(n[i]=r[i])}},As=function(t,n){for(var r in n)t[r]=n[r];return t},Pm=function e(t,n){for(var r in n)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(t[r]=Gn(n[r])?e(t[r]||(t[r]={}),n[r]):n[r]);return t},Hc=function(t,n){var r={},i;for(i in t)i in n||(r[i]=t[i]);return r},mo=function(t){var n=t.parent||$t,r=t.keyframes?hP(xe(t.keyframes)):ln;if(We(t.inherit))for(;n;)r(t,n.vars.defaults),n=n.parent||n._dp;return t},mP=function(t,n){for(var r=t.length,i=r===n.length;i&&r--&&t[r]===n[r];);return r<0},$S=function(t,n,r,i,s){var o=t[i],a;if(s)for(a=n[s];o&&o[s]>a;)o=o._prev;return o?(n._next=o._next,o._next=n):(n._next=t[r],t[r]=n),n._next?n._next._prev=n:t[i]=n,n._prev=o,n.parent=n._dp=t,n},vu=function(t,n,r,i){r===void 0&&(r="_first"),i===void 0&&(i="_last");var s=n._prev,o=n._next;s?s._next=o:t[r]===n&&(t[r]=o),o?o._prev=s:t[i]===n&&(t[i]=s),n._next=n._prev=n.parent=null},Hr=function(t,n){t.parent&&(!n||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},Si=function(t,n){if(t&&(!n||n._end>t._dur||n._start<0))for(var r=t;r;)r._dirty=1,r=r.parent;return t},gP=function(t){for(var n=t.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return t},ld=function(t,n,r,i){return t._startAt&&(ye?t._startAt.revert(sc):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(n,!0,i))},_P=function e(t){return!t||t._ts&&e(t.parent)},Dm=function(t){return t._repeat?Ms(t._tTime,t=t.duration()+t._rDelay)*t:0},Ms=function(t,n){var r=Math.floor(t=ne(t/n));return t&&r===t?r-1:r},Wc=function(t,n){return(t-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},Tu=function(t){return t._end=ne(t._start+(t._tDur/Math.abs(t._ts||t._rts||wt)||0))},wu=function(t,n){var r=t._dp;return r&&r.smoothChildTiming&&t._ts&&(t._start=ne(r._time-(t._ts>0?n/t._ts:((t._dirty?t.totalDuration():t._tDur)-n)/-t._ts)),Tu(t),r._dirty||Si(r,t)),t},FS=function(t,n){var r;if((n._time||!n._dur&&n._initted||n._start<t._time&&(n._dur||!n.add))&&(r=Wc(t.rawTime(),n),(!n._dur||ga(0,n.totalDuration(),r)-n._tTime>wt)&&n.render(r,!0)),Si(t,n)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(r=t;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;t._zTime=-wt}},zn=function(t,n,r,i){return n.parent&&Hr(n),n._start=ne((_r(r)?r:r||t!==$t?pn(t,r,n):t._time)+n._delay),n._end=ne(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),$S(t,n,"_first","_last",t._sort?"_start":0),dd(n)||(t._recent=n),i||FS(t,n),t._ts<0&&wu(t,t._tTime),t},BS=function(t,n){return(un.ScrollTrigger||Xf("scrollTrigger",n))&&un.ScrollTrigger.create(n,t)},US=function(t,n,r,i,s){if(ep(t,n,s),!t._initted)return 1;if(!r&&t._pt&&!ye&&(t._dur&&t.vars.lazy!==!1||!t._dur&&t.vars.lazy)&&OS!==rn.frame)return Lr.push(t),t._lazy=[s,i],1},yP=function e(t){var n=t.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||e(n))},dd=function(t){var n=t.data;return n==="isFromStart"||n==="isStart"},SP=function(t,n,r,i){var s=t.ratio,o=n<0||!n&&(!t._start&&yP(t)&&!(!t._initted&&dd(t))||(t._ts<0||t._dp._ts<0)&&!dd(t))?0:1,a=t._rDelay,c=0,u,l,d;if(a&&t._repeat&&(c=ga(0,t._tDur,n),l=Ms(c,a),t._yoyo&&l&1&&(o=1-o),l!==Ms(t._tTime,a)&&(s=1-o,t.vars.repeatRefresh&&t._initted&&t.invalidate())),o!==s||ye||i||t._zTime===wt||!n&&t._zTime){if(!t._initted&&US(t,n,i,r,c))return;for(d=t._zTime,t._zTime=n||(r?wt:0),r||(r=n&&!d),t.ratio=o,t._from&&(o=1-o),t._time=0,t._tTime=c,u=t._pt;u;)u.r(o,u.d),u=u._next;n<0&&ld(t,n,r,!0),t._onUpdate&&!r&&on(t,"onUpdate"),c&&t._repeat&&!r&&t.parent&&on(t,"onRepeat"),(n>=t._tDur||n<0)&&t.ratio===o&&(o&&Hr(t,1),!r&&!ye&&(on(t,o?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=n)},bP=function(t,n,r){var i;if(r>n)for(i=t._first;i&&i._start<=r;){if(i.data==="isPause"&&i._start>n)return i;i=i._next}else for(i=t._last;i&&i._start>=r;){if(i.data==="isPause"&&i._start<n)return i;i=i._prev}},Os=function(t,n,r,i){var s=t._repeat,o=ne(n)||0,a=t._tTime/t._tDur;return a&&!i&&(t._time*=o/t._dur),t._dur=o,t._tDur=s?s<0?1e10:ne(o*(s+1)+t._rDelay*s):o,a>0&&!i&&wu(t,t._tTime=t._tDur*a),t.parent&&Tu(t),r||Si(t.parent,t),t},Nm=function(t){return t instanceof Le?Si(t):Os(t,t._dur)},EP={_start:0,endTime:Wo,totalDuration:Wo},pn=function e(t,n,r){var i=t.labels,s=t._recent||EP,o=t.duration()>=gn?s.endTime(!1):t._dur,a,c,u;return fe(n)&&(isNaN(n)||n in i)?(c=n.charAt(0),u=n.substr(-1)==="%",a=n.indexOf("="),c==="<"||c===">"?(a>=0&&(n=n.replace(/=/,"")),(c==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(n.substr(1))||0)*(u?(a<0?s:r).totalDuration()/100:1)):a<0?(n in i||(i[n]=o),i[n]):(c=parseFloat(n.charAt(a-1)+n.substr(a+1)),u&&r&&(c=c/100*(xe(r)?r[0]:r).totalDuration()),a>1?e(t,n.substr(0,a-1),r)+c:o+c)):n==null?o:+n},go=function(t,n,r){var i=_r(n[1]),s=(i?2:1)+(t<2?0:1),o=n[s],a,c;if(i&&(o.duration=n[1]),o.parent=r,t){for(a=o,c=r;c&&!("immediateRender"in a);)a=c.vars.defaults||{},c=We(c.vars.inherit)&&c.parent;o.immediateRender=We(a.immediateRender),t<2?o.runBackwards=1:o.startAt=n[s-1]}return new ee(n[0],o,n[s+1])},Vr=function(t,n){return t||t===0?n(t):n},ga=function(t,n,r){return r<t?t:r>n?n:r},Ie=function(t,n){return!fe(t)||!(n=lP.exec(t))?"":n[1]},vP=function(t,n,r){return Vr(r,function(i){return ga(t,n,i)})},fd=[].slice,zS=function(t,n){return t&&Gn(t)&&"length"in t&&(!n&&!t.length||t.length-1 in t&&Gn(t[0]))&&!t.nodeType&&t!==Bn},TP=function(t,n,r){return r===void 0&&(r=[]),t.forEach(function(i){var s;return fe(i)&&!n||zS(i,1)?(s=r).push.apply(s,_n(i)):r.push(i)})||r},_n=function(t,n,r){return Pt&&!n&&Pt.selector?Pt.selector(t):fe(t)&&!r&&(cd||!Ps())?fd.call((n||Gf).querySelectorAll(t),0):xe(t)?TP(t,r):zS(t)?fd.call(t,0):t?[t]:[]},pd=function(t){return t=_n(t)[0]||Ho("Invalid scope")||{},function(n){var r=t.current||t.nativeElement||t;return _n(n,r.querySelectorAll?r:r===t?Ho("Invalid scope")||Gf.createElement("div"):t)}},HS=function(t){return t.sort(function(){return .5-Math.random()})},WS=function(t){if(jt(t))return t;var n=Gn(t)?t:{each:t},r=bi(n.ease),i=n.from||0,s=parseFloat(n.base)||0,o={},a=i>0&&i<1,c=isNaN(i)||a,u=n.axis,l=i,d=i;return fe(i)?l=d={center:.5,edges:.5,end:1}[i]||0:!a&&c&&(l=i[0],d=i[1]),function(p,f,h){var m=(h||n).length,g=o[m],S,b,I,E,T,w,y,k,C;if(!g){if(C=n.grid==="auto"?0:(n.grid||[1,gn])[1],!C){for(y=-gn;y<(y=h[C++].getBoundingClientRect().left)&&C<m;);C<m&&C--}for(g=o[m]=[],S=c?Math.min(C,m)*l-.5:i%C,b=C===gn?0:c?m*d/C-.5:i/C|0,y=0,k=gn,w=0;w<m;w++)I=w%C-S,E=b-(w/C|0),g[w]=T=u?Math.abs(u==="y"?E:I):wS(I*I+E*E),T>y&&(y=T),T<k&&(k=T);i==="random"&&HS(g),g.max=y-k,g.min=k,g.v=m=(parseFloat(n.amount)||parseFloat(n.each)*(C>m?m-1:u?u==="y"?m/C:C:Math.max(C,m/C))||0)*(i==="edges"?-1:1),g.b=m<0?s-m:s,g.u=Ie(n.amount||n.each)||0,r=r&&m<0?ZS(r):r}return m=(g[p]-g.min)/g.max||0,ne(g.b+(r?r(m):m)*g.v)+g.u}},hd=function(t){var n=Math.pow(10,((t+"").split(".")[1]||"").length);return function(r){var i=ne(Math.round(parseFloat(r)/t)*t*n);return(i-i%1)/n+(_r(r)?0:Ie(r))}},jS=function(t,n){var r=xe(t),i,s;return!r&&Gn(t)&&(i=r=t.radius||gn,t.values?(t=_n(t.values),(s=!_r(t[0]))&&(i*=i)):t=hd(t.increment)),Vr(n,r?jt(t)?function(o){return s=t(o),Math.abs(s-o)<=i?s:o}:function(o){for(var a=parseFloat(s?o.x:o),c=parseFloat(s?o.y:0),u=gn,l=0,d=t.length,p,f;d--;)s?(p=t[d].x-a,f=t[d].y-c,p=p*p+f*f):p=Math.abs(t[d]-a),p<u&&(u=p,l=d);return l=!i||u<=i?t[l]:o,s||l===o||_r(o)?l:l+Ie(o)}:hd(t))},qS=function(t,n,r,i){return Vr(xe(t)?!n:r===!0?!!(r=0):!i,function(){return xe(t)?t[~~(Math.random()*t.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((t-r/2+Math.random()*(n-t+r*.99))/r)*r*i)/i})},wP=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(i){return n.reduce(function(s,o){return o(s)},i)}},IP=function(t,n){return function(r){return t(parseFloat(r))+(n||Ie(r))}},kP=function(t,n,r){return VS(t,n,0,1,r)},YS=function(t,n,r){return Vr(r,function(i){return t[~~n(i)]})},xP=function e(t,n,r){var i=n-t;return xe(t)?YS(t,e(0,t.length),n):Vr(r,function(s){return(i+(s-t)%i)%i+t})},CP=function e(t,n,r){var i=n-t,s=i*2;return xe(t)?YS(t,e(0,t.length-1),n):Vr(r,function(o){return o=(s+(o-t)%s)%s||0,t+(o>i?s-o:o)})},jo=function(t){for(var n=0,r="",i,s,o,a;~(i=t.indexOf("random(",n));)o=t.indexOf(")",i),a=t.charAt(i+7)==="[",s=t.substr(i+7,o-i-7).match(a?CS:ad),r+=t.substr(n,i-n)+qS(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),n=o+1;return r+t.substr(n,t.length-n)},VS=function(t,n,r,i,s){var o=n-t,a=i-r;return Vr(s,function(c){return r+((c-t)/o*a||0)})},RP=function e(t,n,r,i){var s=isNaN(t+n)?0:function(f){return(1-f)*t+f*n};if(!s){var o=fe(t),a={},c,u,l,d,p;if(r===!0&&(i=1)&&(r=null),o)t={p:t},n={p:n};else if(xe(t)&&!xe(n)){for(l=[],d=t.length,p=d-2,u=1;u<d;u++)l.push(e(t[u-1],t[u]));d--,s=function(h){h*=d;var m=Math.min(p,~~h);return l[m](h-m)},r=n}else i||(t=As(xe(t)?[]:{},t));if(!l){for(c in n)tp.call(a,t,c,"get",n[c]);s=function(h){return ip(h,a)||(o?t.p:t)}}}return Vr(r,s)},Lm=function(t,n,r){var i=t.labels,s=gn,o,a,c;for(o in i)a=i[o]-n,a<0==!!r&&a&&s>(a=Math.abs(a))&&(c=o,s=a);return c},on=function(t,n,r){var i=t.vars,s=i[n],o=Pt,a=t._ctx,c,u,l;if(s)return c=i[n+"Params"],u=i.callbackScope||t,r&&Lr.length&&zc(),a&&(Pt=a),l=c?s.apply(u,c):s.call(u),Pt=o,l},to=function(t){return Hr(t),t.scrollTrigger&&t.scrollTrigger.kill(!!ye),t.progress()<1&&on(t,"onInterrupt"),t},us,GS=[],XS=function(t){if(t)if(t=!t.name&&t.default||t,Vf()||t.headless){var n=t.name,r=jt(t),i=n&&!r&&t.init?function(){this._props=[]}:t,s={init:Wo,render:ip,add:tp,kill:qP,modifier:jP,rawVars:0},o={targetTest:0,get:0,getSetter:rp,aliases:{},register:0};if(Ps(),t!==i){if(en[n])return;ln(i,ln(Hc(t,s),o)),As(i.prototype,As(s,Hc(t,o))),en[i.prop=n]=i,t.targetTest&&(oc.push(i),Kf[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}MS(n,i),t.register&&t.register(Ge,i,qe)}else GS.push(t)},Tt=255,eo={aqua:[0,Tt,Tt],lime:[0,Tt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Tt],navy:[0,0,128],white:[Tt,Tt,Tt],olive:[128,128,0],yellow:[Tt,Tt,0],orange:[Tt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Tt,0,0],pink:[Tt,192,203],cyan:[0,Tt,Tt],transparent:[Tt,Tt,Tt,0]},rl=function(t,n,r){return t+=t<0?1:t>1?-1:0,(t*6<1?n+(r-n)*t*6:t<.5?r:t*3<2?n+(r-n)*(2/3-t)*6:n)*Tt+.5|0},KS=function(t,n,r){var i=t?_r(t)?[t>>16,t>>8&Tt,t&Tt]:0:eo.black,s,o,a,c,u,l,d,p,f,h;if(!i){if(t.substr(-1)===","&&(t=t.substr(0,t.length-1)),eo[t])i=eo[t];else if(t.charAt(0)==="#"){if(t.length<6&&(s=t.charAt(1),o=t.charAt(2),a=t.charAt(3),t="#"+s+s+o+o+a+a+(t.length===5?t.charAt(4)+t.charAt(4):"")),t.length===9)return i=parseInt(t.substr(1,6),16),[i>>16,i>>8&Tt,i&Tt,parseInt(t.substr(7),16)/255];t=parseInt(t.substr(1),16),i=[t>>16,t>>8&Tt,t&Tt]}else if(t.substr(0,3)==="hsl"){if(i=h=t.match(ad),!n)c=+i[0]%360/360,u=+i[1]/100,l=+i[2]/100,o=l<=.5?l*(u+1):l+u-l*u,s=l*2-o,i.length>3&&(i[3]*=1),i[0]=rl(c+1/3,s,o),i[1]=rl(c,s,o),i[2]=rl(c-1/3,s,o);else if(~t.indexOf("="))return i=t.match(kS),r&&i.length<4&&(i[3]=1),i}else i=t.match(ad)||eo.transparent;i=i.map(Number)}return n&&!h&&(s=i[0]/Tt,o=i[1]/Tt,a=i[2]/Tt,d=Math.max(s,o,a),p=Math.min(s,o,a),l=(d+p)/2,d===p?c=u=0:(f=d-p,u=l>.5?f/(2-d-p):f/(d+p),c=d===s?(o-a)/f+(o<a?6:0):d===o?(a-s)/f+2:(s-o)/f+4,c*=60),i[0]=~~(c+.5),i[1]=~~(u*100+.5),i[2]=~~(l*100+.5)),r&&i.length<4&&(i[3]=1),i},JS=function(t){var n=[],r=[],i=-1;return t.split($r).forEach(function(s){var o=s.match(cs)||[];n.push.apply(n,o),r.push(i+=o.length+1)}),n.c=r,n},$m=function(t,n,r){var i="",s=(t+i).match($r),o=n?"hsla(":"rgba(",a=0,c,u,l,d;if(!s)return t;if(s=s.map(function(p){return(p=KS(p,n,1))&&o+(n?p[0]+","+p[1]+"%,"+p[2]+"%,"+p[3]:p.join(","))+")"}),r&&(l=JS(t),c=r.c,c.join(i)!==l.c.join(i)))for(u=t.replace($r,"1").split(cs),d=u.length-1;a<d;a++)i+=u[a]+(~c.indexOf(a)?s.shift()||o+"0,0,0,0)":(l.length?l:s.length?s:r).shift());if(!u)for(u=t.split($r),d=u.length-1;a<d;a++)i+=u[a]+s[a];return i+u[d]},$r=(function(){var e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",t;for(t in eo)e+="|"+t+"\\b";return new RegExp(e+")","gi")})(),AP=/hsl[a]?\(/,QS=function(t){var n=t.join(" "),r;if($r.lastIndex=0,$r.test(n))return r=AP.test(n),t[1]=$m(t[1],r),t[0]=$m(t[0],r,JS(t[1])),!0},qo,rn=(function(){var e=Date.now,t=500,n=33,r=e(),i=r,s=1e3/240,o=s,a=[],c,u,l,d,p,f,h=function m(g){var S=e()-i,b=g===!0,I,E,T,w;if((S>t||S<0)&&(r+=S-n),i+=S,T=i-r,I=T-o,(I>0||b)&&(w=++d.frame,p=T-d.time*1e3,d.time=T=T/1e3,o+=I+(I>=s?4:s-I),E=1),b||(c=u(m)),E)for(f=0;f<a.length;f++)a[f](T,p,w,g)};return d={time:0,frame:0,tick:function(){h(!0)},deltaRatio:function(g){return p/(1e3/(g||60))},wake:function(){RS&&(!cd&&Vf()&&(Bn=cd=window,Gf=Bn.document||{},un.gsap=Ge,(Bn.gsapVersions||(Bn.gsapVersions=[])).push(Ge.version),AS(Uc||Bn.GreenSockGlobals||!Bn.gsap&&Bn||{}),GS.forEach(XS)),l=typeof requestAnimationFrame<"u"&&requestAnimationFrame,c&&d.sleep(),u=l||function(g){return setTimeout(g,o-d.time*1e3+1|0)},qo=1,h(2))},sleep:function(){(l?cancelAnimationFrame:clearTimeout)(c),qo=0,u=Wo},lagSmoothing:function(g,S){t=g||1/0,n=Math.min(S||33,t)},fps:function(g){s=1e3/(g||240),o=d.time*1e3+s},add:function(g,S,b){var I=S?function(E,T,w,y){g(E,T,w,y),d.remove(I)}:g;return d.remove(g),a[b?"unshift":"push"](I),Ps(),I},remove:function(g,S){~(S=a.indexOf(g))&&a.splice(S,1)&&f>=S&&f--},_listeners:a},d})(),Ps=function(){return!qo&&rn.wake()},ft={},MP=/^[\d.\-M][\d.\-,\s]/,OP=/["']/g,PP=function(t){for(var n={},r=t.substr(1,t.length-3).split(":"),i=r[0],s=1,o=r.length,a,c,u;s<o;s++)c=r[s],a=s!==o-1?c.lastIndexOf(","):c.length,u=c.substr(0,a),n[i]=isNaN(u)?u.replace(OP,"").trim():+u,i=c.substr(a+1).trim();return n},DP=function(t){var n=t.indexOf("(")+1,r=t.indexOf(")"),i=t.indexOf("(",n);return t.substring(n,~i&&i<r?t.indexOf(")",r+1):r)},NP=function(t){var n=(t+"").split("("),r=ft[n[0]];return r&&n.length>1&&r.config?r.config.apply(null,~t.indexOf("{")?[PP(n[1])]:DP(t).split(",").map(NS)):ft._CE&&MP.test(t)?ft._CE("",t):r},ZS=function(t){return function(n){return 1-t(1-n)}},t0=function e(t,n){for(var r=t._first,i;r;)r instanceof Le?e(r,n):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==n&&(r.timeline?e(r.timeline,n):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=n)),r=r._next},bi=function(t,n){return t&&(jt(t)?t:ft[t]||NP(t))||n},Wi=function(t,n,r,i){r===void 0&&(r=function(c){return 1-n(1-c)}),i===void 0&&(i=function(c){return c<.5?n(c*2)/2:1-n((1-c)*2)/2});var s={easeIn:n,easeOut:r,easeInOut:i},o;return je(t,function(a){ft[a]=un[a]=s,ft[o=a.toLowerCase()]=r;for(var c in s)ft[o+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=ft[a+"."+c]=s[c]}),s},e0=function(t){return function(n){return n<.5?(1-t(1-n*2))/2:.5+t((n-.5)*2)/2}},il=function e(t,n,r){var i=n>=1?n:1,s=(r||(t?.3:.45))/(n<1?n:1),o=s/od*(Math.asin(1/i)||0),a=function(l){return l===1?1:i*Math.pow(2,-10*l)*uP((l-o)*s)+1},c=t==="out"?a:t==="in"?function(u){return 1-a(1-u)}:e0(a);return s=od/s,c.config=function(u,l){return e(t,u,l)},c},sl=function e(t,n){n===void 0&&(n=1.70158);var r=function(o){return o?--o*o*((n+1)*o+n)+1:0},i=t==="out"?r:t==="in"?function(s){return 1-r(1-s)}:e0(r);return i.config=function(s){return e(t,s)},i};je("Linear,Quad,Cubic,Quart,Quint,Strong",function(e,t){var n=t<5?t+1:t;Wi(e+",Power"+(n-1),t?function(r){return Math.pow(r,n)}:function(r){return r},function(r){return 1-Math.pow(1-r,n)},function(r){return r<.5?Math.pow(r*2,n)/2:1-Math.pow((1-r)*2,n)/2})});ft.Linear.easeNone=ft.none=ft.Linear.easeIn;Wi("Elastic",il("in"),il("out"),il());(function(e,t){var n=1/t,r=2*n,i=2.5*n,s=function(a){return a<n?e*a*a:a<r?e*Math.pow(a-1.5/t,2)+.75:a<i?e*(a-=2.25/t)*a+.9375:e*Math.pow(a-2.625/t,2)+.984375};Wi("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);Wi("Expo",function(e){return Math.pow(2,10*(e-1))*e+e*e*e*e*e*e*(1-e)});Wi("Circ",function(e){return-(wS(1-e*e)-1)});Wi("Sine",function(e){return e===1?1:-cP(e*oP)+1});Wi("Back",sl("in"),sl("out"),sl());ft.SteppedEase=ft.steps=un.SteppedEase={config:function(t,n){t===void 0&&(t=1);var r=1/t,i=t+(n?0:1),s=n?1:0,o=1-wt;return function(a){return((i*ga(0,o,a)|0)+s)*r}}};Rs.ease=ft["quad.out"];je("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(e){return Jf+=e+","+e+"Params,"});var n0=function(t,n){this.id=aP++,t._gsap=this,this.target=t,this.harness=n,this.get=n?n.get:PS,this.set=n?n.getSetter:rp},Yo=(function(){function e(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,Os(this,+n.duration,1,1),this.data=n.data,Pt&&(this._ctx=Pt,Pt.data.push(this)),qo||rn.wake()}var t=e.prototype;return t.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},t.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},t.totalDuration=function(r){return arguments.length?(this._dirty=0,Os(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(r,i){if(Ps(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(wu(this,r),!s._dp||s.parent||FS(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&zn(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===wt||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),DS(this,r,i)),this},t.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+Dm(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},t.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},t.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+Dm(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(r,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*s,i):this._repeat?Ms(this._tTime,s)+1:1},t.timeScale=function(r,i){if(!arguments.length)return this._rts===-wt?0:this._rts;if(this._rts===r)return this;var s=this.parent&&this._ts?Wc(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-wt?0:this._rts,this.totalTime(ga(-Math.abs(this._delay),this.totalDuration(),s),i!==!1),Tu(this),gP(this)},t.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Ps(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==wt&&(this._tTime-=wt)))),this):this._ps},t.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&zn(i,this,r-this._delay),this}return this._start},t.endTime=function(r){return this._start+(We(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Wc(i.rawTime(r),this):this._tTime:this._tTime},t.revert=function(r){r===void 0&&(r=fP);var i=ye;return ye=r,Zf(this)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),ye=i,this},t.globalTime=function(r){for(var i=this,s=arguments.length?r:i.rawTime();i;)s=i._start+s/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(r):s},t.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,Nm(this)):this._repeat===-2?1/0:this._repeat},t.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,Nm(this),i?this.time(i):this}return this._rDelay},t.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},t.seek=function(r,i){return this.totalTime(pn(this,r),We(i))},t.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,We(i)),this._dur||(this._zTime=-wt),this},t.play=function(r,i){return r!=null&&this.seek(r,i),this.reversed(!1).paused(!1)},t.reverse=function(r,i){return r!=null&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},t.pause=function(r,i){return r!=null&&this.seek(r,i),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-wt:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-wt,this},t.isActive=function(){var r=this.parent||this._dp,i=this._start,s;return!!(!r||this._ts&&this._initted&&r.isActive()&&(s=r.rawTime(!0))>=i&&s<this.endTime(!0)-wt)},t.eventCallback=function(r,i,s){var o=this.vars;return arguments.length>1?(i?(o[r]=i,s&&(o[r+"Params"]=s),r==="onUpdate"&&(this._onUpdate=i)):delete o[r],this):o[r]},t.then=function(r){var i=this;return new Promise(function(s){var o=jt(r)?r:LS,a=function(){var u=i.then;i.then=null,jt(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=u),s(o),i.then=u};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?a():i._prom=a})},t.kill=function(){to(this)},e})();ln(Yo.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-wt,_prom:0,_ps:!1,_rts:1});var Le=(function(e){TS(t,e);function t(r,i){var s;return r===void 0&&(r={}),s=e.call(this,r)||this,s.labels={},s.smoothChildTiming=!!r.smoothChildTiming,s.autoRemoveChildren=!!r.autoRemoveChildren,s._sort=We(r.sortChildren),$t&&zn(r.parent||$t,rr(s),i),r.reversed&&s.reverse(),r.paused&&s.paused(!0),r.scrollTrigger&&BS(rr(s),r.scrollTrigger),s}var n=t.prototype;return n.to=function(i,s,o){return go(0,arguments,this),this},n.from=function(i,s,o){return go(1,arguments,this),this},n.fromTo=function(i,s,o,a){return go(2,arguments,this),this},n.set=function(i,s,o){return s.duration=0,s.parent=this,mo(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new ee(i,s,pn(this,o),1),this},n.call=function(i,s,o){return zn(this,ee.delayedCall(0,i,s),o)},n.staggerTo=function(i,s,o,a,c,u,l){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=u,o.onCompleteParams=l,o.parent=this,new ee(i,o,pn(this,c)),this},n.staggerFrom=function(i,s,o,a,c,u,l){return o.runBackwards=1,mo(o).immediateRender=We(o.immediateRender),this.staggerTo(i,s,o,a,c,u,l)},n.staggerFromTo=function(i,s,o,a,c,u,l,d){return a.startAt=o,mo(a).immediateRender=We(a.immediateRender),this.staggerTo(i,s,a,c,u,l,d)},n.render=function(i,s,o){var a=this._time,c=this._dirty?this.totalDuration():this._tDur,u=this._dur,l=i<=0?0:ne(i),d=this._zTime<0!=i<0&&(this._initted||!u),p,f,h,m,g,S,b,I,E,T,w,y;if(this!==$t&&l>c&&i>=0&&(l=c),l!==this._tTime||o||d){if(a!==this._time&&u&&(l+=this._time-a,i+=this._time-a),p=l,E=this._start,I=this._ts,S=!I,d&&(u||(a=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(w=this._yoyo,g=u+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(g*100+i,s,o);if(p=ne(l%g),l===c?(m=this._repeat,p=u):(T=ne(l/g),m=~~T,m&&m===T&&(p=u,m--),p>u&&(p=u)),T=Ms(this._tTime,g),!a&&this._tTime&&T!==m&&this._tTime-T*g-this._dur<=0&&(T=m),w&&m&1&&(p=u-p,y=1),m!==T&&!this._lock){var k=w&&T&1,C=k===(w&&m&1);if(m<T&&(k=!k),a=k?0:l%u?u:l,this._lock=1,this.render(a||(y?0:ne(m*g)),s,!u)._lock=0,this._tTime=l,!s&&this.parent&&on(this,"onRepeat"),this.vars.repeatRefresh&&!y&&(this.invalidate()._lock=1),a&&a!==this._time||S!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,c=this._tDur,C&&(this._lock=2,a=k?u:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!y&&this.invalidate()),this._lock=0,!this._ts&&!S)return this;t0(this,y)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(b=bP(this,ne(a),ne(p)),b&&(l-=p-(p=b._start))),this._tTime=l,this._time=p,this._act=!I,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&l&&!s&&!T&&(on(this,"onStart"),this._tTime!==l))return this;if(p>=a&&i>=0)for(f=this._first;f;){if(h=f._next,(f._act||p>=f._start)&&f._ts&&b!==f){if(f.parent!==this)return this.render(i,s,o);if(f.render(f._ts>0?(p-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(p-f._start)*f._ts,s,o),p!==this._time||!this._ts&&!S){b=0,h&&(l+=this._zTime=-wt);break}}f=h}else{f=this._last;for(var v=i<0?i:p;f;){if(h=f._prev,(f._act||v<=f._end)&&f._ts&&b!==f){if(f.parent!==this)return this.render(i,s,o);if(f.render(f._ts>0?(v-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(v-f._start)*f._ts,s,o||ye&&Zf(f)),p!==this._time||!this._ts&&!S){b=0,h&&(l+=this._zTime=v?-wt:wt);break}}f=h}}if(b&&!s&&(this.pause(),b.render(p>=a?0:-wt)._zTime=p>=a?1:-1,this._ts))return this._start=E,Tu(this),this.render(i,s,o);this._onUpdate&&!s&&on(this,"onUpdate",!0),(l===c&&this._tTime>=this.totalDuration()||!l&&a)&&(E===this._start||Math.abs(I)!==Math.abs(this._ts))&&(this._lock||((i||!u)&&(l===c&&this._ts>0||!l&&this._ts<0)&&Hr(this,1),!s&&!(i<0&&!a)&&(l||a||!c)&&(on(this,l===c&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(l<c&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(i,s){var o=this;if(_r(s)||(s=pn(this,s,i)),!(i instanceof Yo)){if(xe(i))return i.forEach(function(a){return o.add(a,s)}),this;if(fe(i))return this.addLabel(i,s);if(jt(i))i=ee.delayedCall(0,i);else return this}return this!==i?zn(this,i,s):this},n.getChildren=function(i,s,o,a){i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-gn);for(var c=[],u=this._first;u;)u._start>=a&&(u instanceof ee?s&&c.push(u):(o&&c.push(u),i&&c.push.apply(c,u.getChildren(!0,s,o)))),u=u._next;return c},n.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},n.remove=function(i){return fe(i)?this.removeLabel(i):jt(i)?this.killTweensOf(i):(i.parent===this&&vu(this,i),i===this._recent&&(this._recent=this._last),Si(this))},n.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=ne(rn.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),e.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},n.addLabel=function(i,s){return this.labels[i]=pn(this,s),this},n.removeLabel=function(i){return delete this.labels[i],this},n.addPause=function(i,s,o){var a=ee.delayedCall(0,s||Wo,o);return a.data="isPause",this._hasPause=1,zn(this,a,pn(this,i))},n.removePause=function(i){var s=this._first;for(i=pn(this,i);s;)s._start===i&&s.data==="isPause"&&Hr(s),s=s._next},n.killTweensOf=function(i,s,o){for(var a=this.getTweensOf(i,o),c=a.length;c--;)xr!==a[c]&&a[c].kill(i,s);return this},n.getTweensOf=function(i,s){for(var o=[],a=_n(i),c=this._first,u=_r(s),l;c;)c instanceof ee?pP(c._targets,a)&&(u?(!xr||c._initted&&c._ts)&&c.globalTime(0)<=s&&c.globalTime(c.totalDuration())>s:!s||c.isActive())&&o.push(c):(l=c.getTweensOf(a,s)).length&&o.push.apply(o,l),c=c._next;return o},n.tweenTo=function(i,s){s=s||{};var o=this,a=pn(o,i),c=s,u=c.startAt,l=c.onStart,d=c.onStartParams,p=c.immediateRender,f,h=ee.to(o,ln({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(u&&"time"in u?u.time:o._time))/o.timeScale())||wt,onStart:function(){if(o.pause(),!f){var g=s.duration||Math.abs((a-(u&&"time"in u?u.time:o._time))/o.timeScale());h._dur!==g&&Os(h,g,0,1).render(h._time,!0,!0),f=1}l&&l.apply(h,d||[])}},s));return p?h.render(0):h},n.tweenFromTo=function(i,s,o){return this.tweenTo(s,ln({startAt:{time:pn(this,i)}},o))},n.recent=function(){return this._recent},n.nextLabel=function(i){return i===void 0&&(i=this._time),Lm(this,pn(this,i))},n.previousLabel=function(i){return i===void 0&&(i=this._time),Lm(this,pn(this,i),1)},n.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+wt)},n.shiftChildren=function(i,s,o){o===void 0&&(o=0);for(var a=this._first,c=this.labels,u;a;)a._start>=o&&(a._start+=i,a._end+=i),a=a._next;if(s)for(u in c)c[u]>=o&&(c[u]+=i);return Si(this)},n.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return e.prototype.invalidate.call(this,i)},n.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),Si(this)},n.totalDuration=function(i){var s=0,o=this,a=o._last,c=gn,u,l,d;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(d=o.parent;a;)u=a._prev,a._dirty&&a.totalDuration(),l=a._start,l>c&&o._sort&&a._ts&&!o._lock?(o._lock=1,zn(o,a,l-a._delay,1)._lock=0):c=l,l<0&&a._ts&&(s-=l,(!d&&!o._dp||d&&d.smoothChildTiming)&&(o._start+=l/o._ts,o._time-=l,o._tTime-=l),o.shiftChildren(-l,!1,-1/0),c=0),a._end>s&&a._ts&&(s=a._end),a=u;Os(o,o===$t&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},t.updateRoot=function(i){if($t._ts&&(DS($t,Wc(i,$t)),OS=rn.frame),rn.frame>=Om){Om+=cn.autoSleep||120;var s=$t._first;if((!s||!s._ts)&&cn.autoSleep&&rn._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||rn.sleep()}}},t})(Yo);ln(Le.prototype,{_lock:0,_hasPause:0,_forcing:0});var LP=function(t,n,r,i,s,o,a){var c=new qe(this._pt,t,n,0,1,c0,null,s),u=0,l=0,d,p,f,h,m,g,S,b;for(c.b=r,c.e=i,r+="",i+="",(S=~i.indexOf("random("))&&(i=jo(i)),o&&(b=[r,i],o(b,t,n),r=b[0],i=b[1]),p=r.match(el)||[];d=el.exec(i);)h=d[0],m=i.substring(u,d.index),f?f=(f+1)%5:m.substr(-5)==="rgba("&&(f=1),h!==p[l++]&&(g=parseFloat(p[l-1])||0,c._pt={_next:c._pt,p:m||l===1?m:",",s:g,c:h.charAt(1)==="="?hs(g,h)-g:parseFloat(h)-g,m:f&&f<4?Math.round:0},u=el.lastIndex);return c.c=u<i.length?i.substring(u,i.length):"",c.fp=a,(xS.test(i)||S)&&(c.e=0),this._pt=c,c},tp=function(t,n,r,i,s,o,a,c,u,l){jt(i)&&(i=i(s||0,t,o));var d=t[n],p=r!=="get"?r:jt(d)?u?t[n.indexOf("set")||!jt(t["get"+n.substr(3)])?n:"get"+n.substr(3)](u):t[n]():d,f=jt(d)?u?zP:o0:np,h;if(fe(i)&&(~i.indexOf("random(")&&(i=jo(i)),i.charAt(1)==="="&&(h=hs(p,i)+(Ie(p)||0),(h||h===0)&&(i=h))),!l||p!==i||md)return!isNaN(p*i)&&i!==""?(h=new qe(this._pt,t,n,+p||0,i-(p||0),typeof d=="boolean"?WP:a0,0,f),u&&(h.fp=u),a&&h.modifier(a,this,t),this._pt=h):(!d&&!(n in t)&&Xf(n,i),LP.call(this,t,n,p,i,f,c||cn.stringFilter,u))},$P=function(t,n,r,i,s){if(jt(t)&&(t=_o(t,s,n,r,i)),!Gn(t)||t.style&&t.nodeType||xe(t)||IS(t))return fe(t)?_o(t,s,n,r,i):t;var o={},a;for(a in t)o[a]=_o(t[a],s,n,r,i);return o},r0=function(t,n,r,i,s,o){var a,c,u,l;if(en[t]&&(a=new en[t]).init(s,a.rawVars?n[t]:$P(n[t],i,s,o,r),r,i,o)!==!1&&(r._pt=c=new qe(r._pt,s,t,0,1,a.render,a,0,a.priority),r!==us))for(u=r._ptLookup[r._targets.indexOf(s)],l=a._props.length;l--;)u[a._props[l]]=c;return a},xr,md,ep=function e(t,n,r){var i=t.vars,s=i.ease,o=i.startAt,a=i.immediateRender,c=i.lazy,u=i.onUpdate,l=i.runBackwards,d=i.yoyoEase,p=i.keyframes,f=i.autoRevert,h=t._dur,m=t._startAt,g=t._targets,S=t.parent,b=S&&S.data==="nested"?S.vars.targets:g,I=t._overwrite==="auto"&&!qf,E=t.timeline,T,w,y,k,C,v,M,R,L,O,B,$,P;if(E&&(!p||!s)&&(s="none"),t._ease=bi(s,Rs.ease),t._yEase=d?ZS(bi(d===!0?s:d,Rs.ease)):0,d&&t._yoyo&&!t._repeat&&(d=t._yEase,t._yEase=t._ease,t._ease=d),t._from=!E&&!!i.runBackwards,!E||p&&!i.stagger){if(R=g[0]?yi(g[0]).harness:0,$=R&&i[R.prop],T=Hc(i,Kf),m&&(m._zTime<0&&m.progress(1),n<0&&l&&a&&!f?m.render(-1,!0):m.revert(l&&h?sc:dP),m._lazy=0),o){if(Hr(t._startAt=ee.set(g,ln({data:"isStart",overwrite:!1,parent:S,immediateRender:!0,lazy:!m&&We(c),startAt:null,delay:0,onUpdate:u&&function(){return on(t,"onUpdate")},stagger:0},o))),t._startAt._dp=0,t._startAt._sat=t,n<0&&(ye||!a&&!f)&&t._startAt.revert(sc),a&&h&&n<=0&&r<=0){n&&(t._zTime=n);return}}else if(l&&h&&!m){if(n&&(a=!1),y=ln({overwrite:!1,data:"isFromStart",lazy:a&&!m&&We(c),immediateRender:a,stagger:0,parent:S},T),$&&(y[R.prop]=$),Hr(t._startAt=ee.set(g,y)),t._startAt._dp=0,t._startAt._sat=t,n<0&&(ye?t._startAt.revert(sc):t._startAt.render(-1,!0)),t._zTime=n,!a)e(t._startAt,wt,wt);else if(!n)return}for(t._pt=t._ptCache=0,c=h&&We(c)||c&&!h,w=0;w<g.length;w++){if(C=g[w],M=C._gsap||Qf(g)[w]._gsap,t._ptLookup[w]=O={},ud[M.id]&&Lr.length&&zc(),B=b===g?w:b.indexOf(C),R&&(L=new R).init(C,$||T,t,B,b)!==!1&&(t._pt=k=new qe(t._pt,C,L.name,0,1,L.render,L,0,L.priority),L._props.forEach(function(A){O[A]=k}),L.priority&&(v=1)),!R||$)for(y in T)en[y]&&(L=r0(y,T,t,B,C,b))?L.priority&&(v=1):O[y]=k=tp.call(t,C,y,"get",T[y],B,b,0,i.stringFilter);t._op&&t._op[w]&&t.kill(C,t._op[w]),I&&t._pt&&(xr=t,$t.killTweensOf(C,O,t.globalTime(n)),P=!t.parent,xr=0),t._pt&&c&&(ud[M.id]=1)}v&&u0(t),t._onInit&&t._onInit(t)}t._onUpdate=u,t._initted=(!t._op||t._pt)&&!P,p&&n<=0&&E.render(gn,!0,!0)},FP=function(t,n,r,i,s,o,a,c){var u=(t._pt&&t._ptCache||(t._ptCache={}))[n],l,d,p,f;if(!u)for(u=t._ptCache[n]=[],p=t._ptLookup,f=t._targets.length;f--;){if(l=p[f][n],l&&l.d&&l.d._pt)for(l=l.d._pt;l&&l.p!==n&&l.fp!==n;)l=l._next;if(!l)return md=1,t.vars[n]="+=0",ep(t,a),md=0,c?Ho(n+" not eligible for reset"):1;u.push(l)}for(f=u.length;f--;)d=u[f],l=d._pt||d,l.s=(i||i===0)&&!s?i:l.s+(i||0)+o*l.c,l.c=r-l.s,d.e&&(d.e=Xt(r)+Ie(d.e)),d.b&&(d.b=l.s+Ie(d.b))},BP=function(t,n){var r=t[0]?yi(t[0]).harness:0,i=r&&r.aliases,s,o,a,c;if(!i)return n;s=As({},n);for(o in i)if(o in s)for(c=i[o].split(","),a=c.length;a--;)s[c[a]]=s[o];return s},UP=function(t,n,r,i){var s=n.ease||i||"power1.inOut",o,a;if(xe(n))a=r[t]||(r[t]=[]),n.forEach(function(c,u){return a.push({t:u/(n.length-1)*100,v:c,e:s})});else for(o in n)a=r[o]||(r[o]=[]),o==="ease"||a.push({t:parseFloat(t),v:n[o],e:s})},_o=function(t,n,r,i,s){return jt(t)?t.call(n,r,i,s):fe(t)&&~t.indexOf("random(")?jo(t):t},i0=Jf+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",s0={};je(i0+",id,stagger,delay,duration,paused,scrollTrigger",function(e){return s0[e]=1});var ee=(function(e){TS(t,e);function t(r,i,s,o){var a;typeof i=="number"&&(s.duration=i,i=s,s=null),a=e.call(this,o?i:mo(i))||this;var c=a.vars,u=c.duration,l=c.delay,d=c.immediateRender,p=c.stagger,f=c.overwrite,h=c.keyframes,m=c.defaults,g=c.scrollTrigger,S=c.yoyoEase,b=i.parent||$t,I=(xe(r)||IS(r)?_r(r[0]):"length"in i)?[r]:_n(r),E,T,w,y,k,C,v,M;if(a._targets=I.length?Qf(I):Ho("GSAP target "+r+" not found. https://gsap.com",!cn.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=f,h||p||Pa(u)||Pa(l)){if(i=a.vars,E=a.timeline=new Le({data:"nested",defaults:m||{},targets:b&&b.data==="nested"?b.vars.targets:I}),E.kill(),E.parent=E._dp=rr(a),E._start=0,p||Pa(u)||Pa(l)){if(y=I.length,v=p&&WS(p),Gn(p))for(k in p)~i0.indexOf(k)&&(M||(M={}),M[k]=p[k]);for(T=0;T<y;T++)w=Hc(i,s0),w.stagger=0,S&&(w.yoyoEase=S),M&&As(w,M),C=I[T],w.duration=+_o(u,rr(a),T,C,I),w.delay=(+_o(l,rr(a),T,C,I)||0)-a._delay,!p&&y===1&&w.delay&&(a._delay=l=w.delay,a._start+=l,w.delay=0),E.to(C,w,v?v(T,C,I):0),E._ease=ft.none;E.duration()?u=l=0:a.timeline=0}else if(h){mo(ln(E.vars.defaults,{ease:"none"})),E._ease=bi(h.ease||i.ease||"none");var R=0,L,O,B;if(xe(h))h.forEach(function($){return E.to(I,$,">")}),E.duration();else{w={};for(k in h)k==="ease"||k==="easeEach"||UP(k,h[k],w,h.easeEach);for(k in w)for(L=w[k].sort(function($,P){return $.t-P.t}),R=0,T=0;T<L.length;T++)O=L[T],B={ease:O.e,duration:(O.t-(T?L[T-1].t:0))/100*u},B[k]=O.v,E.to(I,B,R),R+=B.duration;E.duration()<u&&E.to({},{duration:u-E.duration()})}}u||a.duration(u=E.duration())}else a.timeline=0;return f===!0&&!qf&&(xr=rr(a),$t.killTweensOf(I),xr=0),zn(b,rr(a),s),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(d||!u&&!h&&a._start===ne(b._time)&&We(d)&&_P(rr(a))&&b.data!=="nested")&&(a._tTime=-wt,a.render(Math.max(0,-l)||0)),g&&BS(rr(a),g),a}var n=t.prototype;return n.render=function(i,s,o){var a=this._time,c=this._tDur,u=this._dur,l=i<0,d=i>c-wt&&!l?c:i<wt?0:i,p,f,h,m,g,S,b,I,E;if(!u)SP(this,i,s,o);else if(d!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==l||this._lazy){if(p=d,I=this.timeline,this._repeat){if(m=u+this._rDelay,this._repeat<-1&&l)return this.totalTime(m*100+i,s,o);if(p=ne(d%m),d===c?(h=this._repeat,p=u):(g=ne(d/m),h=~~g,h&&h===g?(p=u,h--):p>u&&(p=u)),S=this._yoyo&&h&1,S&&(E=this._yEase,p=u-p),g=Ms(this._tTime,m),p===a&&!o&&this._initted&&h===g)return this._tTime=d,this;h!==g&&(I&&this._yEase&&t0(I,S),this.vars.repeatRefresh&&!S&&!this._lock&&p!==m&&this._initted&&(this._lock=o=1,this.render(ne(m*h),!0).invalidate()._lock=0))}if(!this._initted){if(US(this,l?i:p,o,s,d))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&h!==g))return this;if(u!==this._dur)return this.render(i,s,o)}if(this._tTime=d,this._time=p,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=b=(E||this._ease)(p/u),this._from&&(this.ratio=b=1-b),!a&&d&&!s&&!g&&(on(this,"onStart"),this._tTime!==d))return this;for(f=this._pt;f;)f.r(b,f.d),f=f._next;I&&I.render(i<0?i:I._dur*I._ease(p/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(l&&ld(this,i,s,o),on(this,"onUpdate")),this._repeat&&h!==g&&this.vars.onRepeat&&!s&&this.parent&&on(this,"onRepeat"),(d===this._tDur||!d)&&this._tTime===d&&(l&&!this._onUpdate&&ld(this,i,!0,!0),(i||!u)&&(d===this._tDur&&this._ts>0||!d&&this._ts<0)&&Hr(this,1),!s&&!(l&&!a)&&(d||a||S)&&(on(this,d===c?"onComplete":"onReverseComplete",!0),this._prom&&!(d<c&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),e.prototype.invalidate.call(this,i)},n.resetTo=function(i,s,o,a,c){qo||rn.wake(),this._ts||this.play();var u=Math.min(this._dur,(this._dp._time-this._start)*this._ts),l;return this._initted||ep(this,u),l=this._ease(u/this._dur),FP(this,i,s,o,a,l,u,c)?this.resetTo(i,s,o,a,1):(wu(this,0),this.parent||$S(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?to(this):this.scrollTrigger&&this.scrollTrigger.kill(!!ye),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,xr&&xr.vars.overwrite!==!0)._first||to(this),this.parent&&o!==this.timeline.totalDuration()&&Os(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,c=i?_n(i):a,u=this._ptLookup,l=this._pt,d,p,f,h,m,g,S;if((!s||s==="all")&&mP(a,c))return s==="all"&&(this._pt=0),to(this);for(d=this._op=this._op||[],s!=="all"&&(fe(s)&&(m={},je(s,function(b){return m[b]=1}),s=m),s=BP(a,s)),S=a.length;S--;)if(~c.indexOf(a[S])){p=u[S],s==="all"?(d[S]=s,h=p,f={}):(f=d[S]=d[S]||{},h=s);for(m in h)g=p&&p[m],g&&((!("kill"in g.d)||g.d.kill(m)===!0)&&vu(this,g,"_pt"),delete p[m]),f!=="all"&&(f[m]=1)}return this._initted&&!this._pt&&l&&to(this),this},t.to=function(i,s){return new t(i,s,arguments[2])},t.from=function(i,s){return go(1,arguments)},t.delayedCall=function(i,s,o,a){return new t(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},t.fromTo=function(i,s,o){return go(2,arguments)},t.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new t(i,s)},t.killTweensOf=function(i,s,o){return $t.killTweensOf(i,s,o)},t})(Yo);ln(ee.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});je("staggerTo,staggerFrom,staggerFromTo",function(e){ee[e]=function(){var t=new Le,n=fd.call(arguments,0);return n.splice(e==="staggerFromTo"?5:4,0,0),t[e].apply(t,n)}});var np=function(t,n,r){return t[n]=r},o0=function(t,n,r){return t[n](r)},zP=function(t,n,r,i){return t[n](i.fp,r)},HP=function(t,n,r){return t.setAttribute(n,r)},rp=function(t,n){return jt(t[n])?o0:Yf(t[n])&&t.setAttribute?HP:np},a0=function(t,n){return n.set(n.t,n.p,Math.round((n.s+n.c*t)*1e6)/1e6,n)},WP=function(t,n){return n.set(n.t,n.p,!!(n.s+n.c*t),n)},c0=function(t,n){var r=n._pt,i="";if(!t&&n.b)i=n.b;else if(t===1&&n.e)i=n.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*t):Math.round((r.s+r.c*t)*1e4)/1e4)+i,r=r._next;i+=n.c}n.set(n.t,n.p,i,n)},ip=function(t,n){for(var r=n._pt;r;)r.r(t,r.d),r=r._next},jP=function(t,n,r,i){for(var s=this._pt,o;s;)o=s._next,s.p===i&&s.modifier(t,n,r),s=o},qP=function(t){for(var n=this._pt,r,i;n;)i=n._next,n.p===t&&!n.op||n.op===t?vu(this,n,"_pt"):n.dep||(r=1),n=i;return!r},YP=function(t,n,r,i){i.mSet(t,n,i.m.call(i.tween,r,i.mt),i)},u0=function(t){for(var n=t._pt,r,i,s,o;n;){for(r=n._next,i=s;i&&i.pr>n.pr;)i=i._next;(n._prev=i?i._prev:o)?n._prev._next=n:s=n,(n._next=i)?i._prev=n:o=n,n=r}t._pt=s},qe=(function(){function e(n,r,i,s,o,a,c,u,l){this.t=r,this.s=s,this.c=o,this.p=i,this.r=a||a0,this.d=c||this,this.set=u||np,this.pr=l||0,this._next=n,n&&(n._prev=this)}var t=e.prototype;return t.modifier=function(r,i,s){this.mSet=this.mSet||this.set,this.set=YP,this.m=r,this.mt=s,this.tween=i},e})();je(Jf+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(e){return Kf[e]=1});un.TweenMax=un.TweenLite=ee;un.TimelineLite=un.TimelineMax=Le;$t=new Le({sortChildren:!1,defaults:Rs,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});cn.stringFilter=QS;var Ei=[],ac={},VP=[],Fm=0,GP=0,ol=function(t){return(ac[t]||VP).map(function(n){return n()})},gd=function(){var t=Date.now(),n=[];t-Fm>2&&(ol("matchMediaInit"),Ei.forEach(function(r){var i=r.queries,s=r.conditions,o,a,c,u;for(a in i)o=Bn.matchMedia(i[a]).matches,o&&(c=1),o!==s[a]&&(s[a]=o,u=1);u&&(r.revert(),c&&n.push(r))}),ol("matchMediaRevert"),n.forEach(function(r){return r.onMatch(r,function(i){return r.add(null,i)})}),Fm=t,ol("matchMedia"))},l0=(function(){function e(n,r){this.selector=r&&pd(r),this.data=[],this._r=[],this.isReverted=!1,this.id=GP++,n&&this.add(n)}var t=e.prototype;return t.add=function(r,i,s){jt(r)&&(s=i,i=r,r=jt);var o=this,a=function(){var u=Pt,l=o.selector,d;return u&&u!==o&&u.data.push(o),s&&(o.selector=pd(s)),Pt=o,d=i.apply(o,arguments),jt(d)&&o._r.push(d),Pt=u,o.selector=l,o.isReverted=!1,d};return o.last=a,r===jt?a(o,function(c){return o.add(null,c)}):r?o[r]=a:a},t.ignore=function(r){var i=Pt;Pt=null,r(this),Pt=i},t.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof e?r.push.apply(r,i.getTweens()):i instanceof ee&&!(i.parent&&i.parent.data==="nested")&&r.push(i)}),r},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(r,i){var s=this;if(r?(function(){for(var a=s.getTweens(),c=s.data.length,u;c--;)u=s.data[c],u.data==="isFlip"&&(u.revert(),u.getChildren(!0,!0,!1).forEach(function(l){return a.splice(a.indexOf(l),1)}));for(a.map(function(l){return{g:l._dur||l._delay||l._sat&&!l._sat.vars.immediateRender?l.globalTime(0):-1/0,t:l}}).sort(function(l,d){return d.g-l.g||-1/0}).forEach(function(l){return l.t.revert(r)}),c=s.data.length;c--;)u=s.data[c],u instanceof Le?u.data!=="nested"&&(u.scrollTrigger&&u.scrollTrigger.revert(),u.kill()):!(u instanceof ee)&&u.revert&&u.revert(r);s._r.forEach(function(l){return l(r,s)}),s.isReverted=!0})():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),i)for(var o=Ei.length;o--;)Ei[o].id===this.id&&Ei.splice(o,1)},t.revert=function(r){this.kill(r||{})},e})(),XP=(function(){function e(n){this.contexts=[],this.scope=n,Pt&&Pt.data.push(this)}var t=e.prototype;return t.add=function(r,i,s){Gn(r)||(r={matches:r});var o=new l0(0,s||this.scope),a=o.conditions={},c,u,l;Pt&&!o.selector&&(o.selector=Pt.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=r;for(u in r)u==="all"?l=1:(c=Bn.matchMedia(r[u]),c&&(Ei.indexOf(o)<0&&Ei.push(o),(a[u]=c.matches)&&(l=1),c.addListener?c.addListener(gd):c.addEventListener("change",gd)));return l&&i(o,function(d){return o.add(null,d)}),this},t.revert=function(r){this.kill(r||{})},t.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},e})(),jc={registerPlugin:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach(function(i){return XS(i)})},timeline:function(t){return new Le(t)},getTweensOf:function(t,n){return $t.getTweensOf(t,n)},getProperty:function(t,n,r,i){fe(t)&&(t=_n(t)[0]);var s=yi(t||{}).get,o=r?LS:NS;return r==="native"&&(r=""),t&&(n?o((en[n]&&en[n].get||s)(t,n,r,i)):function(a,c,u){return o((en[a]&&en[a].get||s)(t,a,c,u))})},quickSetter:function(t,n,r){if(t=_n(t),t.length>1){var i=t.map(function(l){return Ge.quickSetter(l,n,r)}),s=i.length;return function(l){for(var d=s;d--;)i[d](l)}}t=t[0]||{};var o=en[n],a=yi(t),c=a.harness&&(a.harness.aliases||{})[n]||n,u=o?function(l){var d=new o;us._pt=0,d.init(t,r?l+r:l,us,0,[t]),d.render(1,d),us._pt&&ip(1,us)}:a.set(t,c);return o?u:function(l){return u(t,c,r?l+r:l,a,1)}},quickTo:function(t,n,r){var i,s=Ge.to(t,ln((i={},i[n]="+=0.1",i.paused=!0,i.stagger=0,i),r||{})),o=function(c,u,l){return s.resetTo(n,c,u,l)};return o.tween=s,o},isTweening:function(t){return $t.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=bi(t.ease,Rs.ease)),Pm(Rs,t||{})},config:function(t){return Pm(cn,t||{})},registerEffect:function(t){var n=t.name,r=t.effect,i=t.plugins,s=t.defaults,o=t.extendTimeline;(i||"").split(",").forEach(function(a){return a&&!en[a]&&!un[a]&&Ho(n+" effect requires "+a+" plugin.")}),nl[n]=function(a,c,u){return r(_n(a),ln(c||{},s),u)},o&&(Le.prototype[n]=function(a,c,u){return this.add(nl[n](a,Gn(c)?c:(u=c)&&{},this),u)})},registerEase:function(t,n){ft[t]=bi(n)},parseEase:function(t,n){return arguments.length?bi(t,n):ft},getById:function(t){return $t.getById(t)},exportRoot:function(t,n){t===void 0&&(t={});var r=new Le(t),i,s;for(r.smoothChildTiming=We(t.smoothChildTiming),$t.remove(r),r._dp=0,r._time=r._tTime=$t._time,i=$t._first;i;)s=i._next,(n||!(!i._dur&&i instanceof ee&&i.vars.onComplete===i._targets[0]))&&zn(r,i,i._start-i._delay),i=s;return zn($t,r,0),r},context:function(t,n){return t?new l0(t,n):Pt},matchMedia:function(t){return new XP(t)},matchMediaRefresh:function(){return Ei.forEach(function(t){var n=t.conditions,r,i;for(i in n)n[i]&&(n[i]=!1,r=1);r&&t.revert()})||gd()},addEventListener:function(t,n){var r=ac[t]||(ac[t]=[]);~r.indexOf(n)||r.push(n)},removeEventListener:function(t,n){var r=ac[t],i=r&&r.indexOf(n);i>=0&&r.splice(i,1)},utils:{wrap:xP,wrapYoyo:CP,distribute:WS,random:qS,snap:jS,normalize:kP,getUnit:Ie,clamp:vP,splitColor:KS,toArray:_n,selector:pd,mapRange:VS,pipe:wP,unitize:IP,interpolate:RP,shuffle:HS},install:AS,effects:nl,ticker:rn,updateRoot:Le.updateRoot,plugins:en,globalTimeline:$t,core:{PropTween:qe,globals:MS,Tween:ee,Timeline:Le,Animation:Yo,getCache:yi,_removeLinkedListItem:vu,reverting:function(){return ye},context:function(t){return t&&Pt&&(Pt.data.push(t),t._ctx=Pt),Pt},suppressOverwrites:function(t){return qf=t}}};je("to,from,fromTo,delayedCall,set,killTweensOf",function(e){return jc[e]=ee[e]});rn.add(Le.updateRoot);us=jc.to({},{duration:0});var KP=function(t,n){for(var r=t._pt;r&&r.p!==n&&r.op!==n&&r.fp!==n;)r=r._next;return r},JP=function(t,n){var r=t._targets,i,s,o;for(i in n)for(s=r.length;s--;)o=t._ptLookup[s][i],o&&(o=o.d)&&(o._pt&&(o=KP(o,i)),o&&o.modifier&&o.modifier(n[i],t,r[s],i))},al=function(t,n){return{name:t,headless:1,rawVars:1,init:function(i,s,o){o._onInit=function(a){var c,u;if(fe(s)&&(c={},je(s,function(l){return c[l]=1}),s=c),n){c={};for(u in s)c[u]=n(s[u]);s=c}JP(a,s)}}}},Ge=jc.registerPlugin({name:"attr",init:function(t,n,r,i,s){var o,a,c;this.tween=r;for(o in n)c=t.getAttribute(o)||"",a=this.add(t,"setAttribute",(c||0)+"",n[o],i,s,0,0,o),a.op=o,a.b=c,this._props.push(o)},render:function(t,n){for(var r=n._pt;r;)ye?r.set(r.t,r.p,r.b,r):r.r(t,r.d),r=r._next}},{name:"endArray",headless:1,init:function(t,n){for(var r=n.length;r--;)this.add(t,r,t[r]||0,n[r],0,0,0,0,0,1)}},al("roundProps",hd),al("modifiers"),al("snap",jS))||jc;ee.version=Le.version=Ge.version="3.13.0";RS=1;Vf()&&Ps();ft.Power0;ft.Power1;ft.Power2;ft.Power3;ft.Power4;ft.Linear;ft.Quad;ft.Cubic;ft.Quart;ft.Quint;ft.Strong;ft.Elastic;ft.Back;ft.SteppedEase;ft.Bounce;ft.Sine;ft.Expo;ft.Circ;var Bm,Cr,ms,sp,ui,Um,op,QP=function(){return typeof window<"u"},yr={},ri=180/Math.PI,gs=Math.PI/180,Xi=Math.atan2,zm=1e8,ap=/([A-Z])/g,ZP=/(left|right|width|margin|padding|x)/i,tD=/[\s,\(]\S/,Wn={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},_d=function(t,n){return n.set(n.t,n.p,Math.round((n.s+n.c*t)*1e4)/1e4+n.u,n)},eD=function(t,n){return n.set(n.t,n.p,t===1?n.e:Math.round((n.s+n.c*t)*1e4)/1e4+n.u,n)},nD=function(t,n){return n.set(n.t,n.p,t?Math.round((n.s+n.c*t)*1e4)/1e4+n.u:n.b,n)},rD=function(t,n){var r=n.s+n.c*t;n.set(n.t,n.p,~~(r+(r<0?-.5:.5))+n.u,n)},d0=function(t,n){return n.set(n.t,n.p,t?n.e:n.b,n)},f0=function(t,n){return n.set(n.t,n.p,t!==1?n.b:n.e,n)},iD=function(t,n,r){return t.style[n]=r},sD=function(t,n,r){return t.style.setProperty(n,r)},oD=function(t,n,r){return t._gsap[n]=r},aD=function(t,n,r){return t._gsap.scaleX=t._gsap.scaleY=r},cD=function(t,n,r,i,s){var o=t._gsap;o.scaleX=o.scaleY=r,o.renderTransform(s,o)},uD=function(t,n,r,i,s){var o=t._gsap;o[n]=r,o.renderTransform(s,o)},Ft="transform",Ye=Ft+"Origin",lD=function e(t,n){var r=this,i=this.target,s=i.style,o=i._gsap;if(t in yr&&s){if(this.tfm=this.tfm||{},t!=="transform")t=Wn[t]||t,~t.indexOf(",")?t.split(",").forEach(function(a){return r.tfm[a]=ir(i,a)}):this.tfm[t]=o.x?o[t]:ir(i,t),t===Ye&&(this.tfm.zOrigin=o.zOrigin);else return Wn.transform.split(",").forEach(function(a){return e.call(r,a,n)});if(this.props.indexOf(Ft)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(Ye,n,"")),t=Ft}(s||n)&&this.props.push(t,n,s[t])},p0=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},dD=function(){var t=this.props,n=this.target,r=n.style,i=n._gsap,s,o;for(s=0;s<t.length;s+=3)t[s+1]?t[s+1]===2?n[t[s]](t[s+2]):n[t[s]]=t[s+2]:t[s+2]?r[t[s]]=t[s+2]:r.removeProperty(t[s].substr(0,2)==="--"?t[s]:t[s].replace(ap,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),s=op(),(!s||!s.isStart)&&!r[Ft]&&(p0(r),i.zOrigin&&r[Ye]&&(r[Ye]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},h0=function(t,n){var r={target:t,props:[],revert:dD,save:lD};return t._gsap||Ge.core.getCache(t),n&&t.style&&t.nodeType&&n.split(",").forEach(function(i){return r.save(i)}),r},m0,yd=function(t,n){var r=Cr.createElementNS?Cr.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Cr.createElement(t);return r&&r.style?r:Cr.createElement(t)},yn=function e(t,n,r){var i=getComputedStyle(t);return i[n]||i.getPropertyValue(n.replace(ap,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&e(t,Ds(n)||n,1)||""},Hm="O,Moz,ms,Ms,Webkit".split(","),Ds=function(t,n,r){var i=n||ui,s=i.style,o=5;if(t in s&&!r)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);o--&&!(Hm[o]+t in s););return o<0?null:(o===3?"ms":o>=0?Hm[o]:"")+t},Sd=function(){QP()&&window.document&&(Bm=window,Cr=Bm.document,ms=Cr.documentElement,ui=yd("div")||{style:{}},yd("div"),Ft=Ds(Ft),Ye=Ft+"Origin",ui.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",m0=!!Ds("perspective"),op=Ge.core.reverting,sp=1)},Wm=function(t){var n=t.ownerSVGElement,r=yd("svg",n&&n.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=t.cloneNode(!0),s;i.style.display="block",r.appendChild(i),ms.appendChild(r);try{s=i.getBBox()}catch{}return r.removeChild(i),ms.removeChild(r),s},jm=function(t,n){for(var r=n.length;r--;)if(t.hasAttribute(n[r]))return t.getAttribute(n[r])},g0=function(t){var n,r;try{n=t.getBBox()}catch{n=Wm(t),r=1}return n&&(n.width||n.height)||r||(n=Wm(t)),n&&!n.width&&!n.x&&!n.y?{x:+jm(t,["x","cx","x1"])||0,y:+jm(t,["y","cy","y1"])||0,width:0,height:0}:n},_0=function(t){return!!(t.getCTM&&(!t.parentNode||t.ownerSVGElement)&&g0(t))},Pi=function(t,n){if(n){var r=t.style,i;n in yr&&n!==Ye&&(n=Ft),r.removeProperty?(i=n.substr(0,2),(i==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),r.removeProperty(i==="--"?n:n.replace(ap,"-$1").toLowerCase())):r.removeAttribute(n)}},Rr=function(t,n,r,i,s,o){var a=new qe(t._pt,n,r,0,1,o?f0:d0);return t._pt=a,a.b=i,a.e=s,t._props.push(r),a},qm={deg:1,rad:1,turn:1},fD={grid:1,flex:1},Wr=function e(t,n,r,i){var s=parseFloat(r)||0,o=(r+"").trim().substr((s+"").length)||"px",a=ui.style,c=ZP.test(n),u=t.tagName.toLowerCase()==="svg",l=(u?"client":"offset")+(c?"Width":"Height"),d=100,p=i==="px",f=i==="%",h,m,g,S;if(i===o||!s||qm[i]||qm[o])return s;if(o!=="px"&&!p&&(s=e(t,n,r,"px")),S=t.getCTM&&_0(t),(f||o==="%")&&(yr[n]||~n.indexOf("adius")))return h=S?t.getBBox()[c?"width":"height"]:t[l],Xt(f?s/h*d:s/100*h);if(a[c?"width":"height"]=d+(p?o:i),m=i!=="rem"&&~n.indexOf("adius")||i==="em"&&t.appendChild&&!u?t:t.parentNode,S&&(m=(t.ownerSVGElement||{}).parentNode),(!m||m===Cr||!m.appendChild)&&(m=Cr.body),g=m._gsap,g&&f&&g.width&&c&&g.time===rn.time&&!g.uncache)return Xt(s/g.width*d);if(f&&(n==="height"||n==="width")){var b=t.style[n];t.style[n]=d+i,h=t[l],b?t.style[n]=b:Pi(t,n)}else(f||o==="%")&&!fD[yn(m,"display")]&&(a.position=yn(t,"position")),m===t&&(a.position="static"),m.appendChild(ui),h=ui[l],m.removeChild(ui),a.position="absolute";return c&&f&&(g=yi(m),g.time=rn.time,g.width=m[l]),Xt(p?h*s/d:h&&s?d/h*s:0)},ir=function(t,n,r,i){var s;return sp||Sd(),n in Wn&&n!=="transform"&&(n=Wn[n],~n.indexOf(",")&&(n=n.split(",")[0])),yr[n]&&n!=="transform"?(s=Go(t,i),s=n!=="transformOrigin"?s[n]:s.svg?s.origin:Yc(yn(t,Ye))+" "+s.zOrigin+"px"):(s=t.style[n],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=qc[n]&&qc[n](t,n,r)||yn(t,n)||PS(t,n)||(n==="opacity"?1:0))),r&&!~(s+"").trim().indexOf(" ")?Wr(t,n,s,r)+r:s},pD=function(t,n,r,i){if(!r||r==="none"){var s=Ds(n,t,1),o=s&&yn(t,s,1);o&&o!==r?(n=s,r=o):n==="borderColor"&&(r=yn(t,"borderTopColor"))}var a=new qe(this._pt,t.style,n,0,1,c0),c=0,u=0,l,d,p,f,h,m,g,S,b,I,E,T;if(a.b=r,a.e=i,r+="",i+="",i.substring(0,6)==="var(--"&&(i=yn(t,i.substring(4,i.indexOf(")")))),i==="auto"&&(m=t.style[n],t.style[n]=i,i=yn(t,n)||i,m?t.style[n]=m:Pi(t,n)),l=[r,i],QS(l),r=l[0],i=l[1],p=r.match(cs)||[],T=i.match(cs)||[],T.length){for(;d=cs.exec(i);)g=d[0],b=i.substring(c,d.index),h?h=(h+1)%5:(b.substr(-5)==="rgba("||b.substr(-5)==="hsla(")&&(h=1),g!==(m=p[u++]||"")&&(f=parseFloat(m)||0,E=m.substr((f+"").length),g.charAt(1)==="="&&(g=hs(f,g)+E),S=parseFloat(g),I=g.substr((S+"").length),c=cs.lastIndex-I.length,I||(I=I||cn.units[n]||E,c===i.length&&(i+=I,a.e+=I)),E!==I&&(f=Wr(t,n,m,I)||0),a._pt={_next:a._pt,p:b||u===1?b:",",s:f,c:S-f,m:h&&h<4||n==="zIndex"?Math.round:0});a.c=c<i.length?i.substring(c,i.length):""}else a.r=n==="display"&&i==="none"?f0:d0;return xS.test(i)&&(a.e=0),this._pt=a,a},Ym={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},hD=function(t){var n=t.split(" "),r=n[0],i=n[1]||"50%";return(r==="top"||r==="bottom"||i==="left"||i==="right")&&(t=r,r=i,i=t),n[0]=Ym[r]||r,n[1]=Ym[i]||i,n.join(" ")},mD=function(t,n){if(n.tween&&n.tween._time===n.tween._dur){var r=n.t,i=r.style,s=n.u,o=r._gsap,a,c,u;if(s==="all"||s===!0)i.cssText="",c=1;else for(s=s.split(","),u=s.length;--u>-1;)a=s[u],yr[a]&&(c=1,a=a==="transformOrigin"?Ye:Ft),Pi(r,a);c&&(Pi(r,Ft),o&&(o.svg&&r.removeAttribute("transform"),i.scale=i.rotate=i.translate="none",Go(r,1),o.uncache=1,p0(i)))}},qc={clearProps:function(t,n,r,i,s){if(s.data!=="isFromStart"){var o=t._pt=new qe(t._pt,n,r,0,0,mD);return o.u=i,o.pr=-10,o.tween=s,t._props.push(r),1}}},Vo=[1,0,0,1,0,0],y0={},S0=function(t){return t==="matrix(1, 0, 0, 1, 0, 0)"||t==="none"||!t},Vm=function(t){var n=yn(t,Ft);return S0(n)?Vo:n.substr(7).match(kS).map(Xt)},cp=function(t,n){var r=t._gsap||yi(t),i=t.style,s=Vm(t),o,a,c,u;return r.svg&&t.getAttribute("transform")?(c=t.transform.baseVal.consolidate().matrix,s=[c.a,c.b,c.c,c.d,c.e,c.f],s.join(",")==="1,0,0,1,0,0"?Vo:s):(s===Vo&&!t.offsetParent&&t!==ms&&!r.svg&&(c=i.display,i.display="block",o=t.parentNode,(!o||!t.offsetParent&&!t.getBoundingClientRect().width)&&(u=1,a=t.nextElementSibling,ms.appendChild(t)),s=Vm(t),c?i.display=c:Pi(t,"display"),u&&(a?o.insertBefore(t,a):o?o.appendChild(t):ms.removeChild(t))),n&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},bd=function(t,n,r,i,s,o){var a=t._gsap,c=s||cp(t,!0),u=a.xOrigin||0,l=a.yOrigin||0,d=a.xOffset||0,p=a.yOffset||0,f=c[0],h=c[1],m=c[2],g=c[3],S=c[4],b=c[5],I=n.split(" "),E=parseFloat(I[0])||0,T=parseFloat(I[1])||0,w,y,k,C;r?c!==Vo&&(y=f*g-h*m)&&(k=E*(g/y)+T*(-m/y)+(m*b-g*S)/y,C=E*(-h/y)+T*(f/y)-(f*b-h*S)/y,E=k,T=C):(w=g0(t),E=w.x+(~I[0].indexOf("%")?E/100*w.width:E),T=w.y+(~(I[1]||I[0]).indexOf("%")?T/100*w.height:T)),i||i!==!1&&a.smooth?(S=E-u,b=T-l,a.xOffset=d+(S*f+b*m)-S,a.yOffset=p+(S*h+b*g)-b):a.xOffset=a.yOffset=0,a.xOrigin=E,a.yOrigin=T,a.smooth=!!i,a.origin=n,a.originIsAbsolute=!!r,t.style[Ye]="0px 0px",o&&(Rr(o,a,"xOrigin",u,E),Rr(o,a,"yOrigin",l,T),Rr(o,a,"xOffset",d,a.xOffset),Rr(o,a,"yOffset",p,a.yOffset)),t.setAttribute("data-svg-origin",E+" "+T)},Go=function(t,n){var r=t._gsap||new n0(t);if("x"in r&&!n&&!r.uncache)return r;var i=t.style,s=r.scaleX<0,o="px",a="deg",c=getComputedStyle(t),u=yn(t,Ye)||"0",l,d,p,f,h,m,g,S,b,I,E,T,w,y,k,C,v,M,R,L,O,B,$,P,A,U,_,H,Z,ut,ct,gt;return l=d=p=m=g=S=b=I=E=0,f=h=1,r.svg=!!(t.getCTM&&_0(t)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(i[Ft]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[Ft]!=="none"?c[Ft]:"")),i.scale=i.rotate=i.translate="none"),y=cp(t,r.svg),r.svg&&(r.uncache?(A=t.getBBox(),u=r.xOrigin-A.x+"px "+(r.yOrigin-A.y)+"px",P=""):P=!n&&t.getAttribute("data-svg-origin"),bd(t,P||u,!!P||r.originIsAbsolute,r.smooth!==!1,y)),T=r.xOrigin||0,w=r.yOrigin||0,y!==Vo&&(M=y[0],R=y[1],L=y[2],O=y[3],l=B=y[4],d=$=y[5],y.length===6?(f=Math.sqrt(M*M+R*R),h=Math.sqrt(O*O+L*L),m=M||R?Xi(R,M)*ri:0,b=L||O?Xi(L,O)*ri+m:0,b&&(h*=Math.abs(Math.cos(b*gs))),r.svg&&(l-=T-(T*M+w*L),d-=w-(T*R+w*O))):(gt=y[6],ut=y[7],_=y[8],H=y[9],Z=y[10],ct=y[11],l=y[12],d=y[13],p=y[14],k=Xi(gt,Z),g=k*ri,k&&(C=Math.cos(-k),v=Math.sin(-k),P=B*C+_*v,A=$*C+H*v,U=gt*C+Z*v,_=B*-v+_*C,H=$*-v+H*C,Z=gt*-v+Z*C,ct=ut*-v+ct*C,B=P,$=A,gt=U),k=Xi(-L,Z),S=k*ri,k&&(C=Math.cos(-k),v=Math.sin(-k),P=M*C-_*v,A=R*C-H*v,U=L*C-Z*v,ct=O*v+ct*C,M=P,R=A,L=U),k=Xi(R,M),m=k*ri,k&&(C=Math.cos(k),v=Math.sin(k),P=M*C+R*v,A=B*C+$*v,R=R*C-M*v,$=$*C-B*v,M=P,B=A),g&&Math.abs(g)+Math.abs(m)>359.9&&(g=m=0,S=180-S),f=Xt(Math.sqrt(M*M+R*R+L*L)),h=Xt(Math.sqrt($*$+gt*gt)),k=Xi(B,$),b=Math.abs(k)>2e-4?k*ri:0,E=ct?1/(ct<0?-ct:ct):0),r.svg&&(P=t.getAttribute("transform"),r.forceCSS=t.setAttribute("transform","")||!S0(yn(t,Ft)),P&&t.setAttribute("transform",P))),Math.abs(b)>90&&Math.abs(b)<270&&(s?(f*=-1,b+=m<=0?180:-180,m+=m<=0?180:-180):(h*=-1,b+=b<=0?180:-180)),n=n||r.uncache,r.x=l-((r.xPercent=l&&(!n&&r.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-l)?-50:0)))?t.offsetWidth*r.xPercent/100:0)+o,r.y=d-((r.yPercent=d&&(!n&&r.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-d)?-50:0)))?t.offsetHeight*r.yPercent/100:0)+o,r.z=p+o,r.scaleX=Xt(f),r.scaleY=Xt(h),r.rotation=Xt(m)+a,r.rotationX=Xt(g)+a,r.rotationY=Xt(S)+a,r.skewX=b+a,r.skewY=I+a,r.transformPerspective=E+o,(r.zOrigin=parseFloat(u.split(" ")[2])||!n&&r.zOrigin||0)&&(i[Ye]=Yc(u)),r.xOffset=r.yOffset=0,r.force3D=cn.force3D,r.renderTransform=r.svg?_D:m0?b0:gD,r.uncache=0,r},Yc=function(t){return(t=t.split(" "))[0]+" "+t[1]},cl=function(t,n,r){var i=Ie(n);return Xt(parseFloat(n)+parseFloat(Wr(t,"x",r+"px",i)))+i},gD=function(t,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,b0(t,n)},ti="0deg",Ks="0px",ei=") ",b0=function(t,n){var r=n||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,c=r.z,u=r.rotation,l=r.rotationY,d=r.rotationX,p=r.skewX,f=r.skewY,h=r.scaleX,m=r.scaleY,g=r.transformPerspective,S=r.force3D,b=r.target,I=r.zOrigin,E="",T=S==="auto"&&t&&t!==1||S===!0;if(I&&(d!==ti||l!==ti)){var w=parseFloat(l)*gs,y=Math.sin(w),k=Math.cos(w),C;w=parseFloat(d)*gs,C=Math.cos(w),o=cl(b,o,y*C*-I),a=cl(b,a,-Math.sin(w)*-I),c=cl(b,c,k*C*-I+I)}g!==Ks&&(E+="perspective("+g+ei),(i||s)&&(E+="translate("+i+"%, "+s+"%) "),(T||o!==Ks||a!==Ks||c!==Ks)&&(E+=c!==Ks||T?"translate3d("+o+", "+a+", "+c+") ":"translate("+o+", "+a+ei),u!==ti&&(E+="rotate("+u+ei),l!==ti&&(E+="rotateY("+l+ei),d!==ti&&(E+="rotateX("+d+ei),(p!==ti||f!==ti)&&(E+="skew("+p+", "+f+ei),(h!==1||m!==1)&&(E+="scale("+h+", "+m+ei),b.style[Ft]=E||"translate(0, 0)"},_D=function(t,n){var r=n||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,c=r.rotation,u=r.skewX,l=r.skewY,d=r.scaleX,p=r.scaleY,f=r.target,h=r.xOrigin,m=r.yOrigin,g=r.xOffset,S=r.yOffset,b=r.forceCSS,I=parseFloat(o),E=parseFloat(a),T,w,y,k,C;c=parseFloat(c),u=parseFloat(u),l=parseFloat(l),l&&(l=parseFloat(l),u+=l,c+=l),c||u?(c*=gs,u*=gs,T=Math.cos(c)*d,w=Math.sin(c)*d,y=Math.sin(c-u)*-p,k=Math.cos(c-u)*p,u&&(l*=gs,C=Math.tan(u-l),C=Math.sqrt(1+C*C),y*=C,k*=C,l&&(C=Math.tan(l),C=Math.sqrt(1+C*C),T*=C,w*=C)),T=Xt(T),w=Xt(w),y=Xt(y),k=Xt(k)):(T=d,k=p,w=y=0),(I&&!~(o+"").indexOf("px")||E&&!~(a+"").indexOf("px"))&&(I=Wr(f,"x",o,"px"),E=Wr(f,"y",a,"px")),(h||m||g||S)&&(I=Xt(I+h-(h*T+m*y)+g),E=Xt(E+m-(h*w+m*k)+S)),(i||s)&&(C=f.getBBox(),I=Xt(I+i/100*C.width),E=Xt(E+s/100*C.height)),C="matrix("+T+","+w+","+y+","+k+","+I+","+E+")",f.setAttribute("transform",C),b&&(f.style[Ft]=C)},yD=function(t,n,r,i,s){var o=360,a=fe(s),c=parseFloat(s)*(a&&~s.indexOf("rad")?ri:1),u=c-i,l=i+u+"deg",d,p;return a&&(d=s.split("_")[1],d==="short"&&(u%=o,u!==u%(o/2)&&(u+=u<0?o:-o)),d==="cw"&&u<0?u=(u+o*zm)%o-~~(u/o)*o:d==="ccw"&&u>0&&(u=(u-o*zm)%o-~~(u/o)*o)),t._pt=p=new qe(t._pt,n,r,i,u,eD),p.e=l,p.u="deg",t._props.push(r),p},Gm=function(t,n){for(var r in n)t[r]=n[r];return t},SD=function(t,n,r){var i=Gm({},r._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=r.style,a,c,u,l,d,p,f,h;i.svg?(u=r.getAttribute("transform"),r.setAttribute("transform",""),o[Ft]=n,a=Go(r,1),Pi(r,Ft),r.setAttribute("transform",u)):(u=getComputedStyle(r)[Ft],o[Ft]=n,a=Go(r,1),o[Ft]=u);for(c in yr)u=i[c],l=a[c],u!==l&&s.indexOf(c)<0&&(f=Ie(u),h=Ie(l),d=f!==h?Wr(r,c,u,h):parseFloat(u),p=parseFloat(l),t._pt=new qe(t._pt,a,c,d,p-d,_d),t._pt.u=h||0,t._props.push(c));Gm(a,i)};je("padding,margin,Width,Radius",function(e,t){var n="Top",r="Right",i="Bottom",s="Left",o=(t<3?[n,r,i,s]:[n+s,n+r,i+r,i+s]).map(function(a){return t<2?e+a:"border"+a+e});qc[t>1?"border"+e:e]=function(a,c,u,l,d){var p,f;if(arguments.length<4)return p=o.map(function(h){return ir(a,h,u)}),f=p.join(" "),f.split(p[0]).length===5?p[0]:f;p=(l+"").split(" "),f={},o.forEach(function(h,m){return f[h]=p[m]=p[m]||p[(m-1)/2|0]}),a.init(c,f,d)}});var E0={name:"css",register:Sd,targetTest:function(t){return t.style&&t.nodeType},init:function(t,n,r,i,s){var o=this._props,a=t.style,c=r.vars.startAt,u,l,d,p,f,h,m,g,S,b,I,E,T,w,y,k;sp||Sd(),this.styles=this.styles||h0(t),k=this.styles.props,this.tween=r;for(m in n)if(m!=="autoRound"&&(l=n[m],!(en[m]&&r0(m,n,r,i,t,s)))){if(f=typeof l,h=qc[m],f==="function"&&(l=l.call(r,i,t,s),f=typeof l),f==="string"&&~l.indexOf("random(")&&(l=jo(l)),h)h(this,t,m,l,r)&&(y=1);else if(m.substr(0,2)==="--")u=(getComputedStyle(t).getPropertyValue(m)+"").trim(),l+="",$r.lastIndex=0,$r.test(u)||(g=Ie(u),S=Ie(l)),S?g!==S&&(u=Wr(t,m,u,S)+S):g&&(l+=g),this.add(a,"setProperty",u,l,i,s,0,0,m),o.push(m),k.push(m,0,a[m]);else if(f!=="undefined"){if(c&&m in c?(u=typeof c[m]=="function"?c[m].call(r,i,t,s):c[m],fe(u)&&~u.indexOf("random(")&&(u=jo(u)),Ie(u+"")||u==="auto"||(u+=cn.units[m]||Ie(ir(t,m))||""),(u+"").charAt(1)==="="&&(u=ir(t,m))):u=ir(t,m),p=parseFloat(u),b=f==="string"&&l.charAt(1)==="="&&l.substr(0,2),b&&(l=l.substr(2)),d=parseFloat(l),m in Wn&&(m==="autoAlpha"&&(p===1&&ir(t,"visibility")==="hidden"&&d&&(p=0),k.push("visibility",0,a.visibility),Rr(this,a,"visibility",p?"inherit":"hidden",d?"inherit":"hidden",!d)),m!=="scale"&&m!=="transform"&&(m=Wn[m],~m.indexOf(",")&&(m=m.split(",")[0]))),I=m in yr,I){if(this.styles.save(m),f==="string"&&l.substring(0,6)==="var(--"&&(l=yn(t,l.substring(4,l.indexOf(")"))),d=parseFloat(l)),E||(T=t._gsap,T.renderTransform&&!n.parseTransform||Go(t,n.parseTransform),w=n.smoothOrigin!==!1&&T.smooth,E=this._pt=new qe(this._pt,a,Ft,0,1,T.renderTransform,T,0,-1),E.dep=1),m==="scale")this._pt=new qe(this._pt,T,"scaleY",T.scaleY,(b?hs(T.scaleY,b+d):d)-T.scaleY||0,_d),this._pt.u=0,o.push("scaleY",m),m+="X";else if(m==="transformOrigin"){k.push(Ye,0,a[Ye]),l=hD(l),T.svg?bd(t,l,0,w,0,this):(S=parseFloat(l.split(" ")[2])||0,S!==T.zOrigin&&Rr(this,T,"zOrigin",T.zOrigin,S),Rr(this,a,m,Yc(u),Yc(l)));continue}else if(m==="svgOrigin"){bd(t,l,1,w,0,this);continue}else if(m in y0){yD(this,T,m,p,b?hs(p,b+l):l);continue}else if(m==="smoothOrigin"){Rr(this,T,"smooth",T.smooth,l);continue}else if(m==="force3D"){T[m]=l;continue}else if(m==="transform"){SD(this,l,t);continue}}else m in a||(m=Ds(m)||m);if(I||(d||d===0)&&(p||p===0)&&!tD.test(l)&&m in a)g=(u+"").substr((p+"").length),d||(d=0),S=Ie(l)||(m in cn.units?cn.units[m]:g),g!==S&&(p=Wr(t,m,u,S)),this._pt=new qe(this._pt,I?T:a,m,p,(b?hs(p,b+d):d)-p,!I&&(S==="px"||m==="zIndex")&&n.autoRound!==!1?rD:_d),this._pt.u=S||0,g!==S&&S!=="%"&&(this._pt.b=u,this._pt.r=nD);else if(m in a)pD.call(this,t,m,u,b?b+l:l);else if(m in t)this.add(t,m,u||t[m],b?b+l:l,i,s);else if(m!=="parseTransform"){Xf(m,l);continue}I||(m in a?k.push(m,0,a[m]):typeof t[m]=="function"?k.push(m,2,t[m]()):k.push(m,1,u||t[m])),o.push(m)}}y&&u0(this)},render:function(t,n){if(n.tween._time||!op())for(var r=n._pt;r;)r.r(t,r.d),r=r._next;else n.styles.revert()},get:ir,aliases:Wn,getSetter:function(t,n,r){var i=Wn[n];return i&&i.indexOf(",")<0&&(n=i),n in yr&&n!==Ye&&(t._gsap.x||ir(t,"x"))?r&&Um===r?n==="scale"?aD:oD:(Um=r||{})&&(n==="scale"?cD:uD):t.style&&!Yf(t.style[n])?iD:~n.indexOf("-")?sD:rp(t,n)},core:{_removeProperty:Pi,_getMatrix:cp}};Ge.utils.checkPrefix=Ds;Ge.core.getStyleSaver=h0;(function(e,t,n,r){var i=je(e+","+t+","+n,function(s){yr[s]=1});je(t,function(s){cn.units[s]="deg",y0[s]=1}),Wn[i[13]]=e+","+t,je(r,function(s){var o=s.split(":");Wn[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");je("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(e){cn.units[e]="px"});Ge.registerPlugin(E0);var Di=Ge.registerPlugin(E0)||Ge;Di.core.Tween;function bD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ED(e,t,n){return t&&bD(e.prototype,t),e}var ge,cc,sn,Ar,Mr,_s,v0,ii,yo,T0,cr,Cn,w0,I0=function(){return ge||typeof window<"u"&&(ge=window.gsap)&&ge.registerPlugin&&ge},k0=1,ls=[],st=[],qn=[],So=Date.now,Ed=function(t,n){return n},vD=function(){var t=yo.core,n=t.bridge||{},r=t._scrollers,i=t._proxies;r.push.apply(r,st),i.push.apply(i,qn),st=r,qn=i,Ed=function(o,a){return n[o](a)}},Fr=function(t,n){return~qn.indexOf(t)&&qn[qn.indexOf(t)+1][n]},bo=function(t){return!!~T0.indexOf(t)},Re=function(t,n,r,i,s){return t.addEventListener(n,r,{passive:i!==!1,capture:!!s})},Ce=function(t,n,r,i){return t.removeEventListener(n,r,!!i)},Da="scrollLeft",Na="scrollTop",vd=function(){return cr&&cr.isPressed||st.cache++},Vc=function(t,n){var r=function i(s){if(s||s===0){k0&&(sn.history.scrollRestoration="manual");var o=cr&&cr.isPressed;s=i.v=Math.round(s)||(cr&&cr.iOS?1:0),t(s),i.cacheID=st.cache,o&&Ed("ss",s)}else(n||st.cache!==i.cacheID||Ed("ref"))&&(i.cacheID=st.cache,i.v=t());return i.v+i.offset};return r.offset=0,t&&r},$e={s:Da,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:Vc(function(e){return arguments.length?sn.scrollTo(e,se.sc()):sn.pageXOffset||Ar[Da]||Mr[Da]||_s[Da]||0})},se={s:Na,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:$e,sc:Vc(function(e){return arguments.length?sn.scrollTo($e.sc(),e):sn.pageYOffset||Ar[Na]||Mr[Na]||_s[Na]||0})},He=function(t,n){return(n&&n._ctx&&n._ctx.selector||ge.utils.toArray)(t)[0]||(typeof t=="string"&&ge.config().nullTargetWarn!==!1?console.warn("Element not found:",t):null)},TD=function(t,n){for(var r=n.length;r--;)if(n[r]===t||n[r].contains(t))return!0;return!1},jr=function(t,n){var r=n.s,i=n.sc;bo(t)&&(t=Ar.scrollingElement||Mr);var s=st.indexOf(t),o=i===se.sc?1:2;!~s&&(s=st.push(t)-1),st[s+o]||Re(t,"scroll",vd);var a=st[s+o],c=a||(st[s+o]=Vc(Fr(t,r),!0)||(bo(t)?i:Vc(function(u){return arguments.length?t[r]=u:t[r]})));return c.target=t,a||(c.smooth=ge.getProperty(t,"scrollBehavior")==="smooth"),c},Td=function(t,n,r){var i=t,s=t,o=So(),a=o,c=n||50,u=Math.max(500,c*3),l=function(h,m){var g=So();m||g-o>c?(s=i,i=h,a=o,o=g):r?i+=h:i=s+(h-s)/(g-a)*(o-a)},d=function(){s=i=r?0:i,a=o=0},p=function(h){var m=a,g=s,S=So();return(h||h===0)&&h!==i&&l(h),o===a||S-a>u?0:(i+(r?g:-g))/((r?S:o)-m)*1e3};return{update:l,reset:d,getVelocity:p}},Js=function(t,n){return n&&!t._gsapAllow&&t.preventDefault(),t.changedTouches?t.changedTouches[0]:t},Xm=function(t){var n=Math.max.apply(Math,t),r=Math.min.apply(Math,t);return Math.abs(n)>=Math.abs(r)?n:r},x0=function(){yo=ge.core.globals().ScrollTrigger,yo&&yo.core&&vD()},C0=function(t){return ge=t||I0(),!cc&&ge&&typeof document<"u"&&document.body&&(sn=window,Ar=document,Mr=Ar.documentElement,_s=Ar.body,T0=[sn,Ar,Mr,_s],ge.utils.clamp,w0=ge.core.context||function(){},ii="onpointerenter"in _s?"pointer":"mouse",v0=Kt.isTouch=sn.matchMedia&&sn.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in sn||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Cn=Kt.eventTypes=("ontouchstart"in Mr?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in Mr?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return k0=0},500),x0(),cc=1),cc};$e.op=se;st.cache=0;var Kt=(function(){function e(n){this.init(n)}var t=e.prototype;return t.init=function(r){cc||C0(ge)||console.warn("Please gsap.registerPlugin(Observer)"),yo||x0();var i=r.tolerance,s=r.dragMinimum,o=r.type,a=r.target,c=r.lineHeight,u=r.debounce,l=r.preventDefault,d=r.onStop,p=r.onStopDelay,f=r.ignore,h=r.wheelSpeed,m=r.event,g=r.onDragStart,S=r.onDragEnd,b=r.onDrag,I=r.onPress,E=r.onRelease,T=r.onRight,w=r.onLeft,y=r.onUp,k=r.onDown,C=r.onChangeX,v=r.onChangeY,M=r.onChange,R=r.onToggleX,L=r.onToggleY,O=r.onHover,B=r.onHoverEnd,$=r.onMove,P=r.ignoreCheck,A=r.isNormalizer,U=r.onGestureStart,_=r.onGestureEnd,H=r.onWheel,Z=r.onEnable,ut=r.onDisable,ct=r.onClick,gt=r.scrollSpeed,Nt=r.capture,yt=r.allowClicks,Bt=r.lockAxis,Yt=r.onLockAxis;this.target=a=He(a)||Mr,this.vars=r,f&&(f=ge.utils.toArray(f)),i=i||1e-9,s=s||0,h=h||1,gt=gt||1,o=o||"wheel,touch,pointer",u=u!==!1,c||(c=parseFloat(sn.getComputedStyle(_s).lineHeight)||22);var Ue,oe,Se,lt,Et,Ut,pe,x=this,ae=0,Xe=0,tt=r.passive||!l&&r.passive!==!1,pt=jr(a,$e),V=jr(a,se),kt=pt(),et=V(),Mt=~o.indexOf("touch")&&!~o.indexOf("pointer")&&Cn[0]==="pointerdown",Sr=bo(a),Vt=a.ownerDocument||Ar,vn=[0,0,0],dn=[0,0,0],Jn=0,qs=function(){return Jn=So()},Qt=function(j,_t){return(x.event=j)&&f&&TD(j.target,f)||_t&&Mt&&j.pointerType!=="touch"||P&&P(j,_t)},_a=function(){x._vx.reset(),x._vy.reset(),oe.pause(),d&&d(x)},Qn=function(){var j=x.deltaX=Xm(vn),_t=x.deltaY=Xm(dn),D=Math.abs(j)>=i,X=Math.abs(_t)>=i;M&&(D||X)&&M(x,j,_t,vn,dn),D&&(T&&x.deltaX>0&&T(x),w&&x.deltaX<0&&w(x),C&&C(x),R&&x.deltaX<0!=ae<0&&R(x),ae=x.deltaX,vn[0]=vn[1]=vn[2]=0),X&&(k&&x.deltaY>0&&k(x),y&&x.deltaY<0&&y(x),v&&v(x),L&&x.deltaY<0!=Xe<0&&L(x),Xe=x.deltaY,dn[0]=dn[1]=dn[2]=0),(lt||Se)&&($&&$(x),Se&&(g&&Se===1&&g(x),b&&b(x),Se=0),lt=!1),Ut&&!(Ut=!1)&&Yt&&Yt(x),Et&&(H(x),Et=!1),Ue=0},ji=function(j,_t,D){vn[D]+=j,dn[D]+=_t,x._vx.update(j),x._vy.update(_t),u?Ue||(Ue=requestAnimationFrame(Qn)):Qn()},qi=function(j,_t){Bt&&!pe&&(x.axis=pe=Math.abs(j)>Math.abs(_t)?"x":"y",Ut=!0),pe!=="y"&&(vn[2]+=j,x._vx.update(j,!0)),pe!=="x"&&(dn[2]+=_t,x._vy.update(_t,!0)),u?Ue||(Ue=requestAnimationFrame(Qn)):Qn()},br=function(j){if(!Qt(j,1)){j=Js(j,l);var _t=j.clientX,D=j.clientY,X=_t-x.x,W=D-x.y,K=x.isDragging;x.x=_t,x.y=D,(K||(X||W)&&(Math.abs(x.startX-_t)>=s||Math.abs(x.startY-D)>=s))&&(Se=K?2:1,K||(x.isDragging=!0),qi(X,W))}},Gr=x.onPress=function(Q){Qt(Q,1)||Q&&Q.button||(x.axis=pe=null,oe.pause(),x.isPressed=!0,Q=Js(Q),ae=Xe=0,x.startX=x.x=Q.clientX,x.startY=x.y=Q.clientY,x._vx.reset(),x._vy.reset(),Re(A?a:Vt,Cn[1],br,tt,!0),x.deltaX=x.deltaY=0,I&&I(x))},at=x.onRelease=function(Q){if(!Qt(Q,1)){Ce(A?a:Vt,Cn[1],br,!0);var j=!isNaN(x.y-x.startY),_t=x.isDragging,D=_t&&(Math.abs(x.x-x.startX)>3||Math.abs(x.y-x.startY)>3),X=Js(Q);!D&&j&&(x._vx.reset(),x._vy.reset(),l&&yt&&ge.delayedCall(.08,function(){if(So()-Jn>300&&!Q.defaultPrevented){if(Q.target.click)Q.target.click();else if(Vt.createEvent){var W=Vt.createEvent("MouseEvents");W.initMouseEvent("click",!0,!0,sn,1,X.screenX,X.screenY,X.clientX,X.clientY,!1,!1,!1,!1,0,null),Q.target.dispatchEvent(W)}}})),x.isDragging=x.isGesturing=x.isPressed=!1,d&&_t&&!A&&oe.restart(!0),Se&&Qn(),S&&_t&&S(x),E&&E(x,D)}},Xr=function(j){return j.touches&&j.touches.length>1&&(x.isGesturing=!0)&&U(j,x.isDragging)},Tn=function(){return(x.isGesturing=!1)||_(x)},wn=function(j){if(!Qt(j)){var _t=pt(),D=V();ji((_t-kt)*gt,(D-et)*gt,1),kt=_t,et=D,d&&oe.restart(!0)}},In=function(j){if(!Qt(j)){j=Js(j,l),H&&(Et=!0);var _t=(j.deltaMode===1?c:j.deltaMode===2?sn.innerHeight:1)*h;ji(j.deltaX*_t,j.deltaY*_t,0),d&&!A&&oe.restart(!0)}},Kr=function(j){if(!Qt(j)){var _t=j.clientX,D=j.clientY,X=_t-x.x,W=D-x.y;x.x=_t,x.y=D,lt=!0,d&&oe.restart(!0),(X||W)&&qi(X,W)}},Yi=function(j){x.event=j,O(x)},Zn=function(j){x.event=j,B(x)},Ys=function(j){return Qt(j)||Js(j,l)&&ct(x)};oe=x._dc=ge.delayedCall(p||.25,_a).pause(),x.deltaX=x.deltaY=0,x._vx=Td(0,50,!0),x._vy=Td(0,50,!0),x.scrollX=pt,x.scrollY=V,x.isDragging=x.isGesturing=x.isPressed=!1,w0(this),x.enable=function(Q){return x.isEnabled||(Re(Sr?Vt:a,"scroll",vd),o.indexOf("scroll")>=0&&Re(Sr?Vt:a,"scroll",wn,tt,Nt),o.indexOf("wheel")>=0&&Re(a,"wheel",In,tt,Nt),(o.indexOf("touch")>=0&&v0||o.indexOf("pointer")>=0)&&(Re(a,Cn[0],Gr,tt,Nt),Re(Vt,Cn[2],at),Re(Vt,Cn[3],at),yt&&Re(a,"click",qs,!0,!0),ct&&Re(a,"click",Ys),U&&Re(Vt,"gesturestart",Xr),_&&Re(Vt,"gestureend",Tn),O&&Re(a,ii+"enter",Yi),B&&Re(a,ii+"leave",Zn),$&&Re(a,ii+"move",Kr)),x.isEnabled=!0,x.isDragging=x.isGesturing=x.isPressed=lt=Se=!1,x._vx.reset(),x._vy.reset(),kt=pt(),et=V(),Q&&Q.type&&Gr(Q),Z&&Z(x)),x},x.disable=function(){x.isEnabled&&(ls.filter(function(Q){return Q!==x&&bo(Q.target)}).length||Ce(Sr?Vt:a,"scroll",vd),x.isPressed&&(x._vx.reset(),x._vy.reset(),Ce(A?a:Vt,Cn[1],br,!0)),Ce(Sr?Vt:a,"scroll",wn,Nt),Ce(a,"wheel",In,Nt),Ce(a,Cn[0],Gr,Nt),Ce(Vt,Cn[2],at),Ce(Vt,Cn[3],at),Ce(a,"click",qs,!0),Ce(a,"click",Ys),Ce(Vt,"gesturestart",Xr),Ce(Vt,"gestureend",Tn),Ce(a,ii+"enter",Yi),Ce(a,ii+"leave",Zn),Ce(a,ii+"move",Kr),x.isEnabled=x.isPressed=x.isDragging=!1,ut&&ut(x))},x.kill=x.revert=function(){x.disable();var Q=ls.indexOf(x);Q>=0&&ls.splice(Q,1),cr===x&&(cr=0)},ls.push(x),A&&bo(a)&&(cr=x),x.enable(m)},ED(e,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),e})();Kt.version="3.13.0";Kt.create=function(e){return new Kt(e)};Kt.register=C0;Kt.getAll=function(){return ls.slice()};Kt.getById=function(e){return ls.filter(function(t){return t.vars.id===e})[0]};I0()&&ge.registerPlugin(Kt);var F,ts,it,Ct,nn,St,up,Gc,Xo,Eo,no,La,Te,Iu,wd,Oe,Km,Jm,es,R0,ul,A0,Me,Id,M0,O0,wr,kd,lp,ys,dp,Xc,xd,ll,$a=1,we=Date.now,dl=we(),Sn=0,ro=0,Qm=function(t,n,r){var i=Ze(t)&&(t.substr(0,6)==="clamp("||t.indexOf("max")>-1);return r["_"+n+"Clamp"]=i,i?t.substr(6,t.length-7):t},Zm=function(t,n){return n&&(!Ze(t)||t.substr(0,6)!=="clamp(")?"clamp("+t+")":t},wD=function e(){return ro&&requestAnimationFrame(e)},tg=function(){return Iu=1},eg=function(){return Iu=0},Un=function(t){return t},io=function(t){return Math.round(t*1e5)/1e5||0},P0=function(){return typeof window<"u"},D0=function(){return F||P0()&&(F=window.gsap)&&F.registerPlugin&&F},Ni=function(t){return!!~up.indexOf(t)},N0=function(t){return(t==="Height"?dp:it["inner"+t])||nn["client"+t]||St["client"+t]},L0=function(t){return Fr(t,"getBoundingClientRect")||(Ni(t)?function(){return pc.width=it.innerWidth,pc.height=dp,pc}:function(){return sr(t)})},ID=function(t,n,r){var i=r.d,s=r.d2,o=r.a;return(o=Fr(t,"getBoundingClientRect"))?function(){return o()[i]}:function(){return(n?N0(s):t["client"+s])||0}},kD=function(t,n){return!n||~qn.indexOf(t)?L0(t):function(){return pc}},jn=function(t,n){var r=n.s,i=n.d2,s=n.d,o=n.a;return Math.max(0,(r="scroll"+i)&&(o=Fr(t,r))?o()-L0(t)()[s]:Ni(t)?(nn[r]||St[r])-N0(i):t[r]-t["offset"+i])},Fa=function(t,n){for(var r=0;r<es.length;r+=3)(!n||~n.indexOf(es[r+1]))&&t(es[r],es[r+1],es[r+2])},Ze=function(t){return typeof t=="string"},ke=function(t){return typeof t=="function"},so=function(t){return typeof t=="number"},si=function(t){return typeof t=="object"},Qs=function(t,n,r){return t&&t.progress(n?0:1)&&r&&t.pause()},fl=function(t,n){if(t.enabled){var r=t._ctx?t._ctx.add(function(){return n(t)}):n(t);r&&r.totalTime&&(t.callbackAnimation=r)}},Ki=Math.abs,$0="left",F0="top",fp="right",pp="bottom",vi="width",Ti="height",vo="Right",To="Left",wo="Top",Io="Bottom",Zt="padding",hn="margin",Ns="Width",hp="Height",ie="px",mn=function(t){return it.getComputedStyle(t)},xD=function(t){var n=mn(t).position;t.style.position=n==="absolute"||n==="fixed"?n:"relative"},ng=function(t,n){for(var r in n)r in t||(t[r]=n[r]);return t},sr=function(t,n){var r=n&&mn(t)[wd]!=="matrix(1, 0, 0, 1, 0, 0)"&&F.to(t,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),i=t.getBoundingClientRect();return r&&r.progress(0).kill(),i},Kc=function(t,n){var r=n.d2;return t["offset"+r]||t["client"+r]||0},B0=function(t){var n=[],r=t.labels,i=t.duration(),s;for(s in r)n.push(r[s]/i);return n},CD=function(t){return function(n){return F.utils.snap(B0(t),n)}},mp=function(t){var n=F.utils.snap(t),r=Array.isArray(t)&&t.slice(0).sort(function(i,s){return i-s});return r?function(i,s,o){o===void 0&&(o=.001);var a;if(!s)return n(i);if(s>0){for(i-=o,a=0;a<r.length;a++)if(r[a]>=i)return r[a];return r[a-1]}else for(a=r.length,i+=o;a--;)if(r[a]<=i)return r[a];return r[0]}:function(i,s,o){o===void 0&&(o=.001);var a=n(i);return!s||Math.abs(a-i)<o||a-i<0==s<0?a:n(s<0?i-t:i+t)}},RD=function(t){return function(n,r){return mp(B0(t))(n,r.direction)}},Ba=function(t,n,r,i){return r.split(",").forEach(function(s){return t(n,s,i)})},de=function(t,n,r,i,s){return t.addEventListener(n,r,{passive:!i,capture:!!s})},ue=function(t,n,r,i){return t.removeEventListener(n,r,!!i)},Ua=function(t,n,r){r=r&&r.wheelHandler,r&&(t(n,"wheel",r),t(n,"touchmove",r))},rg={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},za={toggleActions:"play",anticipatePin:0},Jc={top:0,left:0,center:.5,bottom:1,right:1},uc=function(t,n){if(Ze(t)){var r=t.indexOf("="),i=~r?+(t.charAt(r-1)+1)*parseFloat(t.substr(r+1)):0;~r&&(t.indexOf("%")>r&&(i*=n/100),t=t.substr(0,r-1)),t=i+(t in Jc?Jc[t]*n:~t.indexOf("%")?parseFloat(t)*n/100:parseFloat(t)||0)}return t},Ha=function(t,n,r,i,s,o,a,c){var u=s.startColor,l=s.endColor,d=s.fontSize,p=s.indent,f=s.fontWeight,h=Ct.createElement("div"),m=Ni(r)||Fr(r,"pinType")==="fixed",g=t.indexOf("scroller")!==-1,S=m?St:r,b=t.indexOf("start")!==-1,I=b?u:l,E="border-color:"+I+";font-size:"+d+";color:"+I+";font-weight:"+f+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return E+="position:"+((g||c)&&m?"fixed;":"absolute;"),(g||c||!m)&&(E+=(i===se?fp:pp)+":"+(o+parseFloat(p))+"px;"),a&&(E+="box-sizing:border-box;text-align:left;width:"+a.offsetWidth+"px;"),h._isStart=b,h.setAttribute("class","gsap-marker-"+t+(n?" marker-"+n:"")),h.style.cssText=E,h.innerText=n||n===0?t+"-"+n:t,S.children[0]?S.insertBefore(h,S.children[0]):S.appendChild(h),h._offset=h["offset"+i.op.d2],lc(h,0,i,b),h},lc=function(t,n,r,i){var s={display:"block"},o=r[i?"os2":"p2"],a=r[i?"p2":"os2"];t._isFlipped=i,s[r.a+"Percent"]=i?-100:0,s[r.a]=i?"1px":0,s["border"+o+Ns]=1,s["border"+a+Ns]=0,s[r.p]=n+"px",F.set(t,s)},rt=[],Cd={},Ko,ig=function(){return we()-Sn>34&&(Ko||(Ko=requestAnimationFrame(pr)))},Ji=function(){(!Me||!Me.isPressed||Me.startX>St.clientWidth)&&(st.cache++,Me?Ko||(Ko=requestAnimationFrame(pr)):pr(),Sn||$i("scrollStart"),Sn=we())},pl=function(){O0=it.innerWidth,M0=it.innerHeight},oo=function(t){st.cache++,(t===!0||!Te&&!A0&&!Ct.fullscreenElement&&!Ct.webkitFullscreenElement&&(!Id||O0!==it.innerWidth||Math.abs(it.innerHeight-M0)>it.innerHeight*.25))&&Gc.restart(!0)},Li={},AD=[],U0=function e(){return ue(ot,"scrollEnd",e)||li(!0)},$i=function(t){return Li[t]&&Li[t].map(function(n){return n()})||AD},Qe=[],z0=function(t){for(var n=0;n<Qe.length;n+=5)(!t||Qe[n+4]&&Qe[n+4].query===t)&&(Qe[n].style.cssText=Qe[n+1],Qe[n].getBBox&&Qe[n].setAttribute("transform",Qe[n+2]||""),Qe[n+3].uncache=1)},gp=function(t,n){var r;for(Oe=0;Oe<rt.length;Oe++)r=rt[Oe],r&&(!n||r._ctx===n)&&(t?r.kill(1):r.revert(!0,!0));Xc=!0,n&&z0(n),n||$i("revert")},H0=function(t,n){st.cache++,(n||!Pe)&&st.forEach(function(r){return ke(r)&&r.cacheID++&&(r.rec=0)}),Ze(t)&&(it.history.scrollRestoration=lp=t)},Pe,wi=0,sg,MD=function(){if(sg!==wi){var t=sg=wi;requestAnimationFrame(function(){return t===wi&&li(!0)})}},W0=function(){St.appendChild(ys),dp=!Me&&ys.offsetHeight||it.innerHeight,St.removeChild(ys)},og=function(t){return Xo(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(n){return n.style.display=t?"none":"block"})},li=function(t,n){if(nn=Ct.documentElement,St=Ct.body,up=[it,Ct,nn,St],Sn&&!t&&!Xc){de(ot,"scrollEnd",U0);return}W0(),Pe=ot.isRefreshing=!0,st.forEach(function(i){return ke(i)&&++i.cacheID&&(i.rec=i())});var r=$i("refreshInit");R0&&ot.sort(),n||gp(),st.forEach(function(i){ke(i)&&(i.smooth&&(i.target.style.scrollBehavior="auto"),i(0))}),rt.slice(0).forEach(function(i){return i.refresh()}),Xc=!1,rt.forEach(function(i){if(i._subPinOffset&&i.pin){var s=i.vars.horizontal?"offsetWidth":"offsetHeight",o=i.pin[s];i.revert(!0,1),i.adjustPinSpacing(i.pin[s]-o),i.refresh()}}),xd=1,og(!0),rt.forEach(function(i){var s=jn(i.scroller,i._dir),o=i.vars.end==="max"||i._endClamp&&i.end>s,a=i._startClamp&&i.start>=s;(o||a)&&i.setPositions(a?s-1:i.start,o?Math.max(a?s:i.start+1,s):i.end,!0)}),og(!1),xd=0,r.forEach(function(i){return i&&i.render&&i.render(-1)}),st.forEach(function(i){ke(i)&&(i.smooth&&requestAnimationFrame(function(){return i.target.style.scrollBehavior="smooth"}),i.rec&&i(i.rec))}),H0(lp,1),Gc.pause(),wi++,Pe=2,pr(2),rt.forEach(function(i){return ke(i.vars.onRefresh)&&i.vars.onRefresh(i)}),Pe=ot.isRefreshing=!1,$i("refresh")},Rd=0,dc=1,ko,pr=function(t){if(t===2||!Pe&&!Xc){ot.isUpdating=!0,ko&&ko.update(0);var n=rt.length,r=we(),i=r-dl>=50,s=n&&rt[0].scroll();if(dc=Rd>s?-1:1,Pe||(Rd=s),i&&(Sn&&!Iu&&r-Sn>200&&(Sn=0,$i("scrollEnd")),no=dl,dl=r),dc<0){for(Oe=n;Oe-- >0;)rt[Oe]&&rt[Oe].update(0,i);dc=1}else for(Oe=0;Oe<n;Oe++)rt[Oe]&&rt[Oe].update(0,i);ot.isUpdating=!1}Ko=0},Ad=[$0,F0,pp,fp,hn+Io,hn+vo,hn+wo,hn+To,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],fc=Ad.concat([vi,Ti,"boxSizing","max"+Ns,"max"+hp,"position",hn,Zt,Zt+wo,Zt+vo,Zt+Io,Zt+To]),OD=function(t,n,r){Ss(r);var i=t._gsap;if(i.spacerIsNative)Ss(i.spacerState);else if(t._gsap.swappedIn){var s=n.parentNode;s&&(s.insertBefore(t,n),s.removeChild(n))}t._gsap.swappedIn=!1},hl=function(t,n,r,i){if(!t._gsap.swappedIn){for(var s=Ad.length,o=n.style,a=t.style,c;s--;)c=Ad[s],o[c]=r[c];o.position=r.position==="absolute"?"absolute":"relative",r.display==="inline"&&(o.display="inline-block"),a[pp]=a[fp]="auto",o.flexBasis=r.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[vi]=Kc(t,$e)+ie,o[Ti]=Kc(t,se)+ie,o[Zt]=a[hn]=a[F0]=a[$0]="0",Ss(i),a[vi]=a["max"+Ns]=r[vi],a[Ti]=a["max"+hp]=r[Ti],a[Zt]=r[Zt],t.parentNode!==n&&(t.parentNode.insertBefore(n,t),n.appendChild(t)),t._gsap.swappedIn=!0}},PD=/([A-Z])/g,Ss=function(t){if(t){var n=t.t.style,r=t.length,i=0,s,o;for((t.t._gsap||F.core.getCache(t.t)).uncache=1;i<r;i+=2)o=t[i+1],s=t[i],o?n[s]=o:n[s]&&n.removeProperty(s.replace(PD,"-$1").toLowerCase())}},Wa=function(t){for(var n=fc.length,r=t.style,i=[],s=0;s<n;s++)i.push(fc[s],r[fc[s]]);return i.t=t,i},DD=function(t,n,r){for(var i=[],s=t.length,o=r?8:0,a;o<s;o+=2)a=t[o],i.push(a,a in n?n[a]:t[o+1]);return i.t=t.t,i},pc={left:0,top:0},ag=function(t,n,r,i,s,o,a,c,u,l,d,p,f,h){ke(t)&&(t=t(c)),Ze(t)&&t.substr(0,3)==="max"&&(t=p+(t.charAt(4)==="="?uc("0"+t.substr(3),r):0));var m=f?f.time():0,g,S,b;if(f&&f.seek(0),isNaN(t)||(t=+t),so(t))f&&(t=F.utils.mapRange(f.scrollTrigger.start,f.scrollTrigger.end,0,p,t)),a&&lc(a,r,i,!0);else{ke(n)&&(n=n(c));var I=(t||"0").split(" "),E,T,w,y;b=He(n,c)||St,E=sr(b)||{},(!E||!E.left&&!E.top)&&mn(b).display==="none"&&(y=b.style.display,b.style.display="block",E=sr(b),y?b.style.display=y:b.style.removeProperty("display")),T=uc(I[0],E[i.d]),w=uc(I[1]||"0",r),t=E[i.p]-u[i.p]-l+T+s-w,a&&lc(a,w,i,r-w<20||a._isStart&&w>20),r-=r-w}if(h&&(c[h]=t||-.001,t<0&&(t=0)),o){var k=t+r,C=o._isStart;g="scroll"+i.d2,lc(o,k,i,C&&k>20||!C&&(d?Math.max(St[g],nn[g]):o.parentNode[g])<=k+1),d&&(u=sr(a),d&&(o.style[i.op.p]=u[i.op.p]-i.op.m-o._offset+ie))}return f&&b&&(g=sr(b),f.seek(p),S=sr(b),f._caScrollDist=g[i.p]-S[i.p],t=t/f._caScrollDist*p),f&&f.seek(m),f?t:Math.round(t)},ND=/(webkit|moz|length|cssText|inset)/i,cg=function(t,n,r,i){if(t.parentNode!==n){var s=t.style,o,a;if(n===St){t._stOrig=s.cssText,a=mn(t);for(o in a)!+o&&!ND.test(o)&&a[o]&&typeof s[o]=="string"&&o!=="0"&&(s[o]=a[o]);s.top=r,s.left=i}else s.cssText=t._stOrig;F.core.getCache(t).uncache=1,n.appendChild(t)}},j0=function(t,n,r){var i=n,s=i;return function(o){var a=Math.round(t());return a!==i&&a!==s&&Math.abs(a-i)>3&&Math.abs(a-s)>3&&(o=a,r&&r()),s=i,i=Math.round(o),i}},ja=function(t,n,r){var i={};i[n.p]="+="+r,F.set(t,i)},ug=function(t,n){var r=jr(t,n),i="_scroll"+n.p2,s=function o(a,c,u,l,d){var p=o.tween,f=c.onComplete,h={};u=u||r();var m=j0(r,u,function(){p.kill(),o.tween=0});return d=l&&d||0,l=l||a-u,p&&p.kill(),c[i]=a,c.inherit=!1,c.modifiers=h,h[i]=function(){return m(u+l*p.ratio+d*p.ratio*p.ratio)},c.onUpdate=function(){st.cache++,o.tween&&pr()},c.onComplete=function(){o.tween=0,f&&f.call(p)},p=o.tween=F.to(t,c),p};return t[i]=r,r.wheelHandler=function(){return s.tween&&s.tween.kill()&&(s.tween=0)},de(t,"wheel",r.wheelHandler),ot.isTouch&&de(t,"touchmove",r.wheelHandler),s},ot=(function(){function e(n,r){ts||e.register(F)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),kd(this),this.init(n,r)}var t=e.prototype;return t.init=function(r,i){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!ro){this.update=this.refresh=this.kill=Un;return}r=ng(Ze(r)||so(r)||r.nodeType?{trigger:r}:r,za);var s=r,o=s.onUpdate,a=s.toggleClass,c=s.id,u=s.onToggle,l=s.onRefresh,d=s.scrub,p=s.trigger,f=s.pin,h=s.pinSpacing,m=s.invalidateOnRefresh,g=s.anticipatePin,S=s.onScrubComplete,b=s.onSnapComplete,I=s.once,E=s.snap,T=s.pinReparent,w=s.pinSpacer,y=s.containerAnimation,k=s.fastScrollEnd,C=s.preventOverlaps,v=r.horizontal||r.containerAnimation&&r.horizontal!==!1?$e:se,M=!d&&d!==0,R=He(r.scroller||it),L=F.core.getCache(R),O=Ni(R),B=("pinType"in r?r.pinType:Fr(R,"pinType")||O&&"fixed")==="fixed",$=[r.onEnter,r.onLeave,r.onEnterBack,r.onLeaveBack],P=M&&r.toggleActions.split(" "),A="markers"in r?r.markers:za.markers,U=O?0:parseFloat(mn(R)["border"+v.p2+Ns])||0,_=this,H=r.onRefreshInit&&function(){return r.onRefreshInit(_)},Z=ID(R,O,v),ut=kD(R,O),ct=0,gt=0,Nt=0,yt=jr(R,v),Bt,Yt,Ue,oe,Se,lt,Et,Ut,pe,x,ae,Xe,tt,pt,V,kt,et,Mt,Sr,Vt,vn,dn,Jn,qs,Qt,_a,Qn,ji,qi,br,Gr,at,Xr,Tn,wn,In,Kr,Yi,Zn;if(_._startClamp=_._endClamp=!1,_._dir=v,g*=45,_.scroller=R,_.scroll=y?y.time.bind(y):yt,oe=yt(),_.vars=r,i=i||r.animation,"refreshPriority"in r&&(R0=1,r.refreshPriority===-9999&&(ko=_)),L.tweenScroll=L.tweenScroll||{top:ug(R,se),left:ug(R,$e)},_.tweenTo=Bt=L.tweenScroll[v.p],_.scrubDuration=function(D){Xr=so(D)&&D,Xr?at?at.duration(D):at=F.to(i,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:Xr,paused:!0,onComplete:function(){return S&&S(_)}}):(at&&at.progress(1).kill(),at=0)},i&&(i.vars.lazy=!1,i._initted&&!_.isReverted||i.vars.immediateRender!==!1&&r.immediateRender!==!1&&i.duration()&&i.render(0,!0,!0),_.animation=i.pause(),i.scrollTrigger=_,_.scrubDuration(d),br=0,c||(c=i.vars.id)),E&&((!si(E)||E.push)&&(E={snapTo:E}),"scrollBehavior"in St.style&&F.set(O?[St,nn]:R,{scrollBehavior:"auto"}),st.forEach(function(D){return ke(D)&&D.target===(O?Ct.scrollingElement||nn:R)&&(D.smooth=!1)}),Ue=ke(E.snapTo)?E.snapTo:E.snapTo==="labels"?CD(i):E.snapTo==="labelsDirectional"?RD(i):E.directional!==!1?function(D,X){return mp(E.snapTo)(D,we()-gt<500?0:X.direction)}:F.utils.snap(E.snapTo),Tn=E.duration||{min:.1,max:2},Tn=si(Tn)?Eo(Tn.min,Tn.max):Eo(Tn,Tn),wn=F.delayedCall(E.delay||Xr/2||.1,function(){var D=yt(),X=we()-gt<500,W=Bt.tween;if((X||Math.abs(_.getVelocity())<10)&&!W&&!Iu&&ct!==D){var K=(D-lt)/pt,ce=i&&!M?i.totalProgress():K,dt=X?0:(ce-Gr)/(we()-no)*1e3||0,Gt=F.utils.clamp(-K,1-K,Ki(dt/2)*dt/.185),be=K+(E.inertia===!1?0:Gt),zt,Ot,vt=E,kn=vt.onStart,Lt=vt.onInterrupt,Ke=vt.onComplete;if(zt=Ue(be,_),so(zt)||(zt=be),Ot=Math.max(0,Math.round(lt+zt*pt)),D<=Et&&D>=lt&&Ot!==D){if(W&&!W._initted&&W.data<=Ki(Ot-D))return;E.inertia===!1&&(Gt=zt-K),Bt(Ot,{duration:Tn(Ki(Math.max(Ki(be-ce),Ki(zt-ce))*.185/dt/.05||0)),ease:E.ease||"power3",data:Ki(Ot-D),onInterrupt:function(){return wn.restart(!0)&&Lt&&Lt(_)},onComplete:function(){_.update(),ct=yt(),i&&!M&&(at?at.resetTo("totalProgress",zt,i._tTime/i._tDur):i.progress(zt)),br=Gr=i&&!M?i.totalProgress():_.progress,b&&b(_),Ke&&Ke(_)}},D,Gt*pt,Ot-D-Gt*pt),kn&&kn(_,Bt.tween)}}else _.isActive&&ct!==D&&wn.restart(!0)}).pause()),c&&(Cd[c]=_),p=_.trigger=He(p||f!==!0&&f),Zn=p&&p._gsap&&p._gsap.stRevert,Zn&&(Zn=Zn(_)),f=f===!0?p:He(f),Ze(a)&&(a={targets:p,className:a}),f&&(h===!1||h===hn||(h=!h&&f.parentNode&&f.parentNode.style&&mn(f.parentNode).display==="flex"?!1:Zt),_.pin=f,Yt=F.core.getCache(f),Yt.spacer?V=Yt.pinState:(w&&(w=He(w),w&&!w.nodeType&&(w=w.current||w.nativeElement),Yt.spacerIsNative=!!w,w&&(Yt.spacerState=Wa(w))),Yt.spacer=Mt=w||Ct.createElement("div"),Mt.classList.add("pin-spacer"),c&&Mt.classList.add("pin-spacer-"+c),Yt.pinState=V=Wa(f)),r.force3D!==!1&&F.set(f,{force3D:!0}),_.spacer=Mt=Yt.spacer,qi=mn(f),qs=qi[h+v.os2],Vt=F.getProperty(f),vn=F.quickSetter(f,v.a,ie),hl(f,Mt,qi),et=Wa(f)),A){Xe=si(A)?ng(A,rg):rg,x=Ha("scroller-start",c,R,v,Xe,0),ae=Ha("scroller-end",c,R,v,Xe,0,x),Sr=x["offset"+v.op.d2];var Ys=He(Fr(R,"content")||R);Ut=this.markerStart=Ha("start",c,Ys,v,Xe,Sr,0,y),pe=this.markerEnd=Ha("end",c,Ys,v,Xe,Sr,0,y),y&&(Yi=F.quickSetter([Ut,pe],v.a,ie)),!B&&!(qn.length&&Fr(R,"fixedMarkers")===!0)&&(xD(O?St:R),F.set([x,ae],{force3D:!0}),_a=F.quickSetter(x,v.a,ie),ji=F.quickSetter(ae,v.a,ie))}if(y){var Q=y.vars.onUpdate,j=y.vars.onUpdateParams;y.eventCallback("onUpdate",function(){_.update(0,0,1),Q&&Q.apply(y,j||[])})}if(_.previous=function(){return rt[rt.indexOf(_)-1]},_.next=function(){return rt[rt.indexOf(_)+1]},_.revert=function(D,X){if(!X)return _.kill(!0);var W=D!==!1||!_.enabled,K=Te;W!==_.isReverted&&(W&&(In=Math.max(yt(),_.scroll.rec||0),Nt=_.progress,Kr=i&&i.progress()),Ut&&[Ut,pe,x,ae].forEach(function(ce){return ce.style.display=W?"none":"block"}),W&&(Te=_,_.update(W)),f&&(!T||!_.isActive)&&(W?OD(f,Mt,V):hl(f,Mt,mn(f),Qt)),W||_.update(W),Te=K,_.isReverted=W)},_.refresh=function(D,X,W,K){if(!((Te||!_.enabled)&&!X)){if(f&&D&&Sn){de(e,"scrollEnd",U0);return}!Pe&&H&&H(_),Te=_,Bt.tween&&!W&&(Bt.tween.kill(),Bt.tween=0),at&&at.pause(),m&&i&&(i.revert({kill:!1}).invalidate(),i.getChildren&&i.getChildren(!0,!0,!1).forEach(function(Er){return Er.vars.immediateRender&&Er.render(0,!0,!0)})),_.isReverted||_.revert(!0,!0),_._subPinOffset=!1;var ce=Z(),dt=ut(),Gt=y?y.duration():jn(R,v),be=pt<=.01||!pt,zt=0,Ot=K||0,vt=si(W)?W.end:r.end,kn=r.endTrigger||p,Lt=si(W)?W.start:r.start||(r.start===0||!p?0:f?"0 0":"0 100%"),Ke=_.pinnedContainer=r.pinnedContainer&&He(r.pinnedContainer,_),Nn=p&&Math.max(0,rt.indexOf(_))||0,he=Nn,me,Ee,Jr,ya,ve,re,Ln,ku,yp,Vs,$n,Gs,Sa;for(A&&si(W)&&(Gs=F.getProperty(x,v.p),Sa=F.getProperty(ae,v.p));he-- >0;)re=rt[he],re.end||re.refresh(0,1)||(Te=_),Ln=re.pin,Ln&&(Ln===p||Ln===f||Ln===Ke)&&!re.isReverted&&(Vs||(Vs=[]),Vs.unshift(re),re.revert(!0,!0)),re!==rt[he]&&(Nn--,he--);for(ke(Lt)&&(Lt=Lt(_)),Lt=Qm(Lt,"start",_),lt=ag(Lt,p,ce,v,yt(),Ut,x,_,dt,U,B,Gt,y,_._startClamp&&"_startClamp")||(f?-.001:0),ke(vt)&&(vt=vt(_)),Ze(vt)&&!vt.indexOf("+=")&&(~vt.indexOf(" ")?vt=(Ze(Lt)?Lt.split(" ")[0]:"")+vt:(zt=uc(vt.substr(2),ce),vt=Ze(Lt)?Lt:(y?F.utils.mapRange(0,y.duration(),y.scrollTrigger.start,y.scrollTrigger.end,lt):lt)+zt,kn=p)),vt=Qm(vt,"end",_),Et=Math.max(lt,ag(vt||(kn?"100% 0":Gt),kn,ce,v,yt()+zt,pe,ae,_,dt,U,B,Gt,y,_._endClamp&&"_endClamp"))||-.001,zt=0,he=Nn;he--;)re=rt[he],Ln=re.pin,Ln&&re.start-re._pinPush<=lt&&!y&&re.end>0&&(me=re.end-(_._startClamp?Math.max(0,re.start):re.start),(Ln===p&&re.start-re._pinPush<lt||Ln===Ke)&&isNaN(Lt)&&(zt+=me*(1-re.progress)),Ln===f&&(Ot+=me));if(lt+=zt,Et+=zt,_._startClamp&&(_._startClamp+=zt),_._endClamp&&!Pe&&(_._endClamp=Et||-.001,Et=Math.min(Et,jn(R,v))),pt=Et-lt||(lt-=.01)&&.001,be&&(Nt=F.utils.clamp(0,1,F.utils.normalize(lt,Et,In))),_._pinPush=Ot,Ut&&zt&&(me={},me[v.a]="+="+zt,Ke&&(me[v.p]="-="+yt()),F.set([Ut,pe],me)),f&&!(xd&&_.end>=jn(R,v)))me=mn(f),ya=v===se,Jr=yt(),dn=parseFloat(Vt(v.a))+Ot,!Gt&&Et>1&&($n=(O?Ct.scrollingElement||nn:R).style,$n={style:$n,value:$n["overflow"+v.a.toUpperCase()]},O&&mn(St)["overflow"+v.a.toUpperCase()]!=="scroll"&&($n.style["overflow"+v.a.toUpperCase()]="scroll")),hl(f,Mt,me),et=Wa(f),Ee=sr(f,!0),ku=B&&jr(R,ya?$e:se)(),h?(Qt=[h+v.os2,pt+Ot+ie],Qt.t=Mt,he=h===Zt?Kc(f,v)+pt+Ot:0,he&&(Qt.push(v.d,he+ie),Mt.style.flexBasis!=="auto"&&(Mt.style.flexBasis=he+ie)),Ss(Qt),Ke&&rt.forEach(function(Er){Er.pin===Ke&&Er.vars.pinSpacing!==!1&&(Er._subPinOffset=!0)}),B&&yt(In)):(he=Kc(f,v),he&&Mt.style.flexBasis!=="auto"&&(Mt.style.flexBasis=he+ie)),B&&(ve={top:Ee.top+(ya?Jr-lt:ku)+ie,left:Ee.left+(ya?ku:Jr-lt)+ie,boxSizing:"border-box",position:"fixed"},ve[vi]=ve["max"+Ns]=Math.ceil(Ee.width)+ie,ve[Ti]=ve["max"+hp]=Math.ceil(Ee.height)+ie,ve[hn]=ve[hn+wo]=ve[hn+vo]=ve[hn+Io]=ve[hn+To]="0",ve[Zt]=me[Zt],ve[Zt+wo]=me[Zt+wo],ve[Zt+vo]=me[Zt+vo],ve[Zt+Io]=me[Zt+Io],ve[Zt+To]=me[Zt+To],kt=DD(V,ve,T),Pe&&yt(0)),i?(yp=i._initted,ul(1),i.render(i.duration(),!0,!0),Jn=Vt(v.a)-dn+pt+Ot,Qn=Math.abs(pt-Jn)>1,B&&Qn&&kt.splice(kt.length-2,2),i.render(0,!0,!0),yp||i.invalidate(!0),i.parent||i.totalTime(i.totalTime()),ul(0)):Jn=pt,$n&&($n.value?$n.style["overflow"+v.a.toUpperCase()]=$n.value:$n.style.removeProperty("overflow-"+v.a));else if(p&&yt()&&!y)for(Ee=p.parentNode;Ee&&Ee!==St;)Ee._pinOffset&&(lt-=Ee._pinOffset,Et-=Ee._pinOffset),Ee=Ee.parentNode;Vs&&Vs.forEach(function(Er){return Er.revert(!1,!0)}),_.start=lt,_.end=Et,oe=Se=Pe?In:yt(),!y&&!Pe&&(oe<In&&yt(In),_.scroll.rec=0),_.revert(!1,!0),gt=we(),wn&&(ct=-1,wn.restart(!0)),Te=0,i&&M&&(i._initted||Kr)&&i.progress()!==Kr&&i.progress(Kr||0,!0).render(i.time(),!0,!0),(be||Nt!==_.progress||y||m||i&&!i._initted)&&(i&&!M&&(i._initted||Nt||i.vars.immediateRender!==!1)&&i.totalProgress(y&&lt<-.001&&!Nt?F.utils.normalize(lt,Et,0):Nt,!0),_.progress=be||(oe-lt)/pt===Nt?0:Nt),f&&h&&(Mt._pinOffset=Math.round(_.progress*Jn)),at&&at.invalidate(),isNaN(Gs)||(Gs-=F.getProperty(x,v.p),Sa-=F.getProperty(ae,v.p),ja(x,v,Gs),ja(Ut,v,Gs-(K||0)),ja(ae,v,Sa),ja(pe,v,Sa-(K||0))),be&&!Pe&&_.update(),l&&!Pe&&!tt&&(tt=!0,l(_),tt=!1)}},_.getVelocity=function(){return(yt()-Se)/(we()-no)*1e3||0},_.endAnimation=function(){Qs(_.callbackAnimation),i&&(at?at.progress(1):i.paused()?M||Qs(i,_.direction<0,1):Qs(i,i.reversed()))},_.labelToScroll=function(D){return i&&i.labels&&(lt||_.refresh()||lt)+i.labels[D]/i.duration()*pt||0},_.getTrailing=function(D){var X=rt.indexOf(_),W=_.direction>0?rt.slice(0,X).reverse():rt.slice(X+1);return(Ze(D)?W.filter(function(K){return K.vars.preventOverlaps===D}):W).filter(function(K){return _.direction>0?K.end<=lt:K.start>=Et})},_.update=function(D,X,W){if(!(y&&!W&&!D)){var K=Pe===!0?In:_.scroll(),ce=D?0:(K-lt)/pt,dt=ce<0?0:ce>1?1:ce||0,Gt=_.progress,be,zt,Ot,vt,kn,Lt,Ke,Nn;if(X&&(Se=oe,oe=y?yt():K,E&&(Gr=br,br=i&&!M?i.totalProgress():dt)),g&&f&&!Te&&!$a&&Sn&&(!dt&&lt<K+(K-Se)/(we()-no)*g?dt=1e-4:dt===1&&Et>K+(K-Se)/(we()-no)*g&&(dt=.9999)),dt!==Gt&&_.enabled){if(be=_.isActive=!!dt&&dt<1,zt=!!Gt&&Gt<1,Lt=be!==zt,kn=Lt||!!dt!=!!Gt,_.direction=dt>Gt?1:-1,_.progress=dt,kn&&!Te&&(Ot=dt&&!Gt?0:dt===1?1:Gt===1?2:3,M&&(vt=!Lt&&P[Ot+1]!=="none"&&P[Ot+1]||P[Ot],Nn=i&&(vt==="complete"||vt==="reset"||vt in i))),C&&(Lt||Nn)&&(Nn||d||!i)&&(ke(C)?C(_):_.getTrailing(C).forEach(function(Jr){return Jr.endAnimation()})),M||(at&&!Te&&!$a?(at._dp._time-at._start!==at._time&&at.render(at._dp._time-at._start),at.resetTo?at.resetTo("totalProgress",dt,i._tTime/i._tDur):(at.vars.totalProgress=dt,at.invalidate().restart())):i&&i.totalProgress(dt,!!(Te&&(gt||D)))),f){if(D&&h&&(Mt.style[h+v.os2]=qs),!B)vn(io(dn+Jn*dt));else if(kn){if(Ke=!D&&dt>Gt&&Et+1>K&&K+1>=jn(R,v),T)if(!D&&(be||Ke)){var he=sr(f,!0),me=K-lt;cg(f,St,he.top+(v===se?me:0)+ie,he.left+(v===se?0:me)+ie)}else cg(f,Mt);Ss(be||Ke?kt:et),Qn&&dt<1&&be||vn(dn+(dt===1&&!Ke?Jn:0))}}E&&!Bt.tween&&!Te&&!$a&&wn.restart(!0),a&&(Lt||I&&dt&&(dt<1||!ll))&&Xo(a.targets).forEach(function(Jr){return Jr.classList[be||I?"add":"remove"](a.className)}),o&&!M&&!D&&o(_),kn&&!Te?(M&&(Nn&&(vt==="complete"?i.pause().totalProgress(1):vt==="reset"?i.restart(!0).pause():vt==="restart"?i.restart(!0):i[vt]()),o&&o(_)),(Lt||!ll)&&(u&&Lt&&fl(_,u),$[Ot]&&fl(_,$[Ot]),I&&(dt===1?_.kill(!1,1):$[Ot]=0),Lt||(Ot=dt===1?1:3,$[Ot]&&fl(_,$[Ot]))),k&&!be&&Math.abs(_.getVelocity())>(so(k)?k:2500)&&(Qs(_.callbackAnimation),at?at.progress(1):Qs(i,vt==="reverse"?1:!dt,1))):M&&o&&!Te&&o(_)}if(ji){var Ee=y?K/y.duration()*(y._caScrollDist||0):K;_a(Ee+(x._isFlipped?1:0)),ji(Ee)}Yi&&Yi(-K/y.duration()*(y._caScrollDist||0))}},_.enable=function(D,X){_.enabled||(_.enabled=!0,de(R,"resize",oo),O||de(R,"scroll",Ji),H&&de(e,"refreshInit",H),D!==!1&&(_.progress=Nt=0,oe=Se=ct=yt()),X!==!1&&_.refresh())},_.getTween=function(D){return D&&Bt?Bt.tween:at},_.setPositions=function(D,X,W,K){if(y){var ce=y.scrollTrigger,dt=y.duration(),Gt=ce.end-ce.start;D=ce.start+Gt*D/dt,X=ce.start+Gt*X/dt}_.refresh(!1,!1,{start:Zm(D,W&&!!_._startClamp),end:Zm(X,W&&!!_._endClamp)},K),_.update()},_.adjustPinSpacing=function(D){if(Qt&&D){var X=Qt.indexOf(v.d)+1;Qt[X]=parseFloat(Qt[X])+D+ie,Qt[1]=parseFloat(Qt[1])+D+ie,Ss(Qt)}},_.disable=function(D,X){if(_.enabled&&(D!==!1&&_.revert(!0,!0),_.enabled=_.isActive=!1,X||at&&at.pause(),In=0,Yt&&(Yt.uncache=1),H&&ue(e,"refreshInit",H),wn&&(wn.pause(),Bt.tween&&Bt.tween.kill()&&(Bt.tween=0)),!O)){for(var W=rt.length;W--;)if(rt[W].scroller===R&&rt[W]!==_)return;ue(R,"resize",oo),O||ue(R,"scroll",Ji)}},_.kill=function(D,X){_.disable(D,X),at&&!X&&at.kill(),c&&delete Cd[c];var W=rt.indexOf(_);W>=0&&rt.splice(W,1),W===Oe&&dc>0&&Oe--,W=0,rt.forEach(function(K){return K.scroller===_.scroller&&(W=1)}),W||Pe||(_.scroll.rec=0),i&&(i.scrollTrigger=null,D&&i.revert({kill:!1}),X||i.kill()),Ut&&[Ut,pe,x,ae].forEach(function(K){return K.parentNode&&K.parentNode.removeChild(K)}),ko===_&&(ko=0),f&&(Yt&&(Yt.uncache=1),W=0,rt.forEach(function(K){return K.pin===f&&W++}),W||(Yt.spacer=0)),r.onKill&&r.onKill(_)},rt.push(_),_.enable(!1,!1),Zn&&Zn(_),i&&i.add&&!pt){var _t=_.update;_.update=function(){_.update=_t,st.cache++,lt||Et||_.refresh()},F.delayedCall(.01,_.update),pt=.01,lt=Et=0}else _.refresh();f&&MD()},e.register=function(r){return ts||(F=r||D0(),P0()&&window.document&&e.enable(),ts=ro),ts},e.defaults=function(r){if(r)for(var i in r)za[i]=r[i];return za},e.disable=function(r,i){ro=0,rt.forEach(function(o){return o[i?"kill":"disable"](r)}),ue(it,"wheel",Ji),ue(Ct,"scroll",Ji),clearInterval(La),ue(Ct,"touchcancel",Un),ue(St,"touchstart",Un),Ba(ue,Ct,"pointerdown,touchstart,mousedown",tg),Ba(ue,Ct,"pointerup,touchend,mouseup",eg),Gc.kill(),Fa(ue);for(var s=0;s<st.length;s+=3)Ua(ue,st[s],st[s+1]),Ua(ue,st[s],st[s+2])},e.enable=function(){if(it=window,Ct=document,nn=Ct.documentElement,St=Ct.body,F&&(Xo=F.utils.toArray,Eo=F.utils.clamp,kd=F.core.context||Un,ul=F.core.suppressOverwrites||Un,lp=it.history.scrollRestoration||"auto",Rd=it.pageYOffset||0,F.core.globals("ScrollTrigger",e),St)){ro=1,ys=document.createElement("div"),ys.style.height="100vh",ys.style.position="absolute",W0(),wD(),Kt.register(F),e.isTouch=Kt.isTouch,wr=Kt.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),Id=Kt.isTouch===1,de(it,"wheel",Ji),up=[it,Ct,nn,St],F.matchMedia?(e.matchMedia=function(u){var l=F.matchMedia(),d;for(d in u)l.add(d,u[d]);return l},F.addEventListener("matchMediaInit",function(){return gp()}),F.addEventListener("matchMediaRevert",function(){return z0()}),F.addEventListener("matchMedia",function(){li(0,1),$i("matchMedia")}),F.matchMedia().add("(orientation: portrait)",function(){return pl(),pl})):console.warn("Requires GSAP 3.11.0 or later"),pl(),de(Ct,"scroll",Ji);var r=St.hasAttribute("style"),i=St.style,s=i.borderTopStyle,o=F.core.Animation.prototype,a,c;for(o.revert||Object.defineProperty(o,"revert",{value:function(){return this.time(-.01,!0)}}),i.borderTopStyle="solid",a=sr(St),se.m=Math.round(a.top+se.sc())||0,$e.m=Math.round(a.left+$e.sc())||0,s?i.borderTopStyle=s:i.removeProperty("border-top-style"),r||(St.setAttribute("style",""),St.removeAttribute("style")),La=setInterval(ig,250),F.delayedCall(.5,function(){return $a=0}),de(Ct,"touchcancel",Un),de(St,"touchstart",Un),Ba(de,Ct,"pointerdown,touchstart,mousedown",tg),Ba(de,Ct,"pointerup,touchend,mouseup",eg),wd=F.utils.checkPrefix("transform"),fc.push(wd),ts=we(),Gc=F.delayedCall(.2,li).pause(),es=[Ct,"visibilitychange",function(){var u=it.innerWidth,l=it.innerHeight;Ct.hidden?(Km=u,Jm=l):(Km!==u||Jm!==l)&&oo()},Ct,"DOMContentLoaded",li,it,"load",li,it,"resize",oo],Fa(de),rt.forEach(function(u){return u.enable(0,1)}),c=0;c<st.length;c+=3)Ua(ue,st[c],st[c+1]),Ua(ue,st[c],st[c+2])}},e.config=function(r){"limitCallbacks"in r&&(ll=!!r.limitCallbacks);var i=r.syncInterval;i&&clearInterval(La)||(La=i)&&setInterval(ig,i),"ignoreMobileResize"in r&&(Id=e.isTouch===1&&r.ignoreMobileResize),"autoRefreshEvents"in r&&(Fa(ue)||Fa(de,r.autoRefreshEvents||"none"),A0=(r.autoRefreshEvents+"").indexOf("resize")===-1)},e.scrollerProxy=function(r,i){var s=He(r),o=st.indexOf(s),a=Ni(s);~o&&st.splice(o,a?6:2),i&&(a?qn.unshift(it,i,St,i,nn,i):qn.unshift(s,i))},e.clearMatchMedia=function(r){rt.forEach(function(i){return i._ctx&&i._ctx.query===r&&i._ctx.kill(!0,!0)})},e.isInViewport=function(r,i,s){var o=(Ze(r)?He(r):r).getBoundingClientRect(),a=o[s?vi:Ti]*i||0;return s?o.right-a>0&&o.left+a<it.innerWidth:o.bottom-a>0&&o.top+a<it.innerHeight},e.positionInViewport=function(r,i,s){Ze(r)&&(r=He(r));var o=r.getBoundingClientRect(),a=o[s?vi:Ti],c=i==null?a/2:i in Jc?Jc[i]*a:~i.indexOf("%")?parseFloat(i)*a/100:parseFloat(i)||0;return s?(o.left+c)/it.innerWidth:(o.top+c)/it.innerHeight},e.killAll=function(r){if(rt.slice(0).forEach(function(s){return s.vars.id!=="ScrollSmoother"&&s.kill()}),r!==!0){var i=Li.killAll||[];Li={},i.forEach(function(s){return s()})}},e})();ot.version="3.13.0";ot.saveStyles=function(e){return e?Xo(e).forEach(function(t){if(t&&t.style){var n=Qe.indexOf(t);n>=0&&Qe.splice(n,5),Qe.push(t,t.style.cssText,t.getBBox&&t.getAttribute("transform"),F.core.getCache(t),kd())}}):Qe};ot.revert=function(e,t){return gp(!e,t)};ot.create=function(e,t){return new ot(e,t)};ot.refresh=function(e){return e?oo(!0):(ts||ot.register())&&li(!0)};ot.update=function(e){return++st.cache&&pr(e===!0?2:0)};ot.clearScrollMemory=H0;ot.maxScroll=function(e,t){return jn(e,t?$e:se)};ot.getScrollFunc=function(e,t){return jr(He(e),t?$e:se)};ot.getById=function(e){return Cd[e]};ot.getAll=function(){return rt.filter(function(e){return e.vars.id!=="ScrollSmoother"})};ot.isScrolling=function(){return!!Sn};ot.snapDirectional=mp;ot.addEventListener=function(e,t){var n=Li[e]||(Li[e]=[]);~n.indexOf(t)||n.push(t)};ot.removeEventListener=function(e,t){var n=Li[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)};ot.batch=function(e,t){var n=[],r={},i=t.interval||.016,s=t.batchMax||1e9,o=function(u,l){var d=[],p=[],f=F.delayedCall(i,function(){l(d,p),d=[],p=[]}).pause();return function(h){d.length||f.restart(!0),d.push(h.trigger),p.push(h),s<=d.length&&f.progress(1)}},a;for(a in t)r[a]=a.substr(0,2)==="on"&&ke(t[a])&&a!=="onRefreshInit"?o(a,t[a]):t[a];return ke(s)&&(s=s(),de(ot,"refresh",function(){return s=t.batchMax()})),Xo(e).forEach(function(c){var u={};for(a in r)u[a]=r[a];u.trigger=c,n.push(ot.create(u))}),n};var lg=function(t,n,r,i){return n>i?t(i):n<0&&t(0),r>i?(i-n)/(r-n):r<0?n/(n-r):1},ml=function e(t,n){n===!0?t.style.removeProperty("touch-action"):t.style.touchAction=n===!0?"auto":n?"pan-"+n+(Kt.isTouch?" pinch-zoom":""):"none",t===nn&&e(St,n)},qa={auto:1,scroll:1},LD=function(t){var n=t.event,r=t.target,i=t.axis,s=(n.changedTouches?n.changedTouches[0]:n).target,o=s._gsap||F.core.getCache(s),a=we(),c;if(!o._isScrollT||a-o._isScrollT>2e3){for(;s&&s!==St&&(s.scrollHeight<=s.clientHeight&&s.scrollWidth<=s.clientWidth||!(qa[(c=mn(s)).overflowY]||qa[c.overflowX]));)s=s.parentNode;o._isScroll=s&&s!==r&&!Ni(s)&&(qa[(c=mn(s)).overflowY]||qa[c.overflowX]),o._isScrollT=a}(o._isScroll||i==="x")&&(n.stopPropagation(),n._gsapAllow=!0)},q0=function(t,n,r,i){return Kt.create({target:t,capture:!0,debounce:!1,lockAxis:!0,type:n,onWheel:i=i&&LD,onPress:i,onDrag:i,onScroll:i,onEnable:function(){return r&&de(Ct,Kt.eventTypes[0],fg,!1,!0)},onDisable:function(){return ue(Ct,Kt.eventTypes[0],fg,!0)}})},$D=/(input|label|select|textarea)/i,dg,fg=function(t){var n=$D.test(t.target.tagName);(n||dg)&&(t._gsapAllow=!0,dg=n)},FD=function(t){si(t)||(t={}),t.preventDefault=t.isNormalizer=t.allowClicks=!0,t.type||(t.type="wheel,touch"),t.debounce=!!t.debounce,t.id=t.id||"normalizer";var n=t,r=n.normalizeScrollX,i=n.momentum,s=n.allowNestedScroll,o=n.onRelease,a,c,u=He(t.target)||nn,l=F.core.globals().ScrollSmoother,d=l&&l.get(),p=wr&&(t.content&&He(t.content)||d&&t.content!==!1&&!d.smooth()&&d.content()),f=jr(u,se),h=jr(u,$e),m=1,g=(Kt.isTouch&&it.visualViewport?it.visualViewport.scale*it.visualViewport.width:it.outerWidth)/it.innerWidth,S=0,b=ke(i)?function(){return i(a)}:function(){return i||2.8},I,E,T=q0(u,t.type,!0,s),w=function(){return E=!1},y=Un,k=Un,C=function(){c=jn(u,se),k=Eo(wr?1:0,c),r&&(y=Eo(0,jn(u,$e))),I=wi},v=function(){p._gsap.y=io(parseFloat(p._gsap.y)+f.offset)+"px",p.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(p._gsap.y)+", 0, 1)",f.offset=f.cacheID=0},M=function(){if(E){requestAnimationFrame(w);var A=io(a.deltaY/2),U=k(f.v-A);if(p&&U!==f.v+f.offset){f.offset=U-f.v;var _=io((parseFloat(p&&p._gsap.y)||0)-f.offset);p.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+_+", 0, 1)",p._gsap.y=_+"px",f.cacheID=st.cache,pr()}return!0}f.offset&&v(),E=!0},R,L,O,B,$=function(){C(),R.isActive()&&R.vars.scrollY>c&&(f()>c?R.progress(1)&&f(c):R.resetTo("scrollY",c))};return p&&F.set(p,{y:"+=0"}),t.ignoreCheck=function(P){return wr&&P.type==="touchmove"&&M()||m>1.05&&P.type!=="touchstart"||a.isGesturing||P.touches&&P.touches.length>1},t.onPress=function(){E=!1;var P=m;m=io((it.visualViewport&&it.visualViewport.scale||1)/g),R.pause(),P!==m&&ml(u,m>1.01?!0:r?!1:"x"),L=h(),O=f(),C(),I=wi},t.onRelease=t.onGestureStart=function(P,A){if(f.offset&&v(),!A)B.restart(!0);else{st.cache++;var U=b(),_,H;r&&(_=h(),H=_+U*.05*-P.velocityX/.227,U*=lg(h,_,H,jn(u,$e)),R.vars.scrollX=y(H)),_=f(),H=_+U*.05*-P.velocityY/.227,U*=lg(f,_,H,jn(u,se)),R.vars.scrollY=k(H),R.invalidate().duration(U).play(.01),(wr&&R.vars.scrollY>=c||_>=c-1)&&F.to({},{onUpdate:$,duration:U})}o&&o(P)},t.onWheel=function(){R._ts&&R.pause(),we()-S>1e3&&(I=0,S=we())},t.onChange=function(P,A,U,_,H){if(wi!==I&&C(),A&&r&&h(y(_[2]===A?L+(P.startX-P.x):h()+A-_[1])),U){f.offset&&v();var Z=H[2]===U,ut=Z?O+P.startY-P.y:f()+U-H[1],ct=k(ut);Z&&ut!==ct&&(O+=ct-ut),f(ct)}(U||A)&&pr()},t.onEnable=function(){ml(u,r?!1:"x"),ot.addEventListener("refresh",$),de(it,"resize",$),f.smooth&&(f.target.style.scrollBehavior="auto",f.smooth=h.smooth=!1),T.enable()},t.onDisable=function(){ml(u,!0),ue(it,"resize",$),ot.removeEventListener("refresh",$),T.kill()},t.lockAxis=t.lockAxis!==!1,a=new Kt(t),a.iOS=wr,wr&&!f()&&f(1),wr&&F.ticker.add(Un),B=a._dc,R=F.to(a,{ease:"power4",paused:!0,inherit:!1,scrollX:r?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:j0(f,f(),function(){return R.pause()})},onUpdate:pr,onComplete:B.vars.onComplete}),a};ot.sort=function(e){if(ke(e))return rt.sort(e);var t=it.pageYOffset||0;return ot.getAll().forEach(function(n){return n._sortY=n.trigger?t+n.trigger.getBoundingClientRect().top:n.start+it.innerHeight}),rt.sort(e||function(n,r){return(n.vars.refreshPriority||0)*-1e6+(n.vars.containerAnimation?1e6:n._sortY)-((r.vars.containerAnimation?1e6:r._sortY)+(r.vars.refreshPriority||0)*-1e6)})};ot.observe=function(e){return new Kt(e)};ot.normalizeScroll=function(e){if(typeof e>"u")return Me;if(e===!0&&Me)return Me.enable();if(e===!1){Me&&Me.kill(),Me=e;return}var t=e instanceof Kt?e:FD(e);return Me&&Me.target===t.target&&Me.kill(),Ni(t.target)&&(Me=t),t};ot.core={_getVelocityProp:Td,_inputObserver:q0,_scrollers:st,_proxies:qn,bridge:{ss:function(){Sn||$i("scrollStart"),Sn=we()},ref:function(){return Te}}};D0()&&F.registerPlugin(ot);const Y0=()=>{document.querySelectorAll("[data-i18n]").forEach(e=>{const t=e.getAttribute("data-i18n"),n={};t==="footer.copyright"&&(n.year=new Date().getFullYear());const r=De.t(t,n);e.innerHTML=r,e.tagName==="INPUT"&&e.getAttribute("placeholder")&&e.setAttribute("placeholder",r)})},BD=async e=>{await De.changeLanguage(e),Y0(),localStorage.setItem("i18nextLng",e),document.querySelectorAll(".lang-btn").forEach(t=>{t.dataset.lang===e?(t.classList.add("text-white","font-bold","underline"),t.classList.remove("text-gray-500")):(t.classList.remove("text-white","font-bold","underline"),t.classList.add("text-gray-500"))})},UD=async()=>{try{return await De.use(tb).use(eb).init({fallbackLng:"en",debug:!1,backend:{loadPath:(function(){const e=window.location.pathname||"/";return e.indexOf("/public/")===0||e.includes("/public/")?"/public/locales/{{lng}}/translation.json":"/locales/{{lng}}/translation.json"})()},detection:{order:["querystring","localStorage","navigator"],lookupQuerystring:"lang"},interpolation:{escapeValue:!1}}),Y0(),De.language}catch(e){console.error("i18n Init Error:",e)}};function V0(e,t,n){return Math.max(e,Math.min(t,n))}class zD{advance(t){if(!this.isRunning)return;let n=!1;if(this.lerp)this.value=(r=this.value,i=this.to,s=60*this.lerp,o=t,(function(a,c,u){return(1-u)*a+u*c})(r,i,1-Math.exp(-s*o))),Math.round(this.value)===this.to&&(this.value=this.to,n=!0);else{this.currentTime+=t;const a=V0(0,this.currentTime/this.duration,1);n=a>=1;const c=n?1:this.easing(a);this.value=this.from+(this.to-this.from)*c}var r,i,s,o;this.onUpdate?.(this.value,n),n&&this.stop()}stop(){this.isRunning=!1}fromTo(t,n,{lerp:r=.1,duration:i=1,easing:s=(c=>c),onStart:o,onUpdate:a}){this.from=this.value=t,this.to=n,this.lerp=r,this.duration=i,this.easing=s,this.currentTime=0,this.isRunning=!0,o?.(),this.onUpdate=a}}class HD{constructor({wrapper:t,content:n,autoResize:r=!0,debounce:i=250}={}){this.wrapper=t,this.content=n,r&&(this.debouncedResize=(function(s,o){let a;return function(){let c=arguments,u=this;clearTimeout(a),a=setTimeout((function(){s.apply(u,c)}),o)}})(this.resize,i),this.wrapper===window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){this.wrapperResizeObserver?.disconnect(),this.contentResizeObserver?.disconnect(),window.removeEventListener("resize",this.debouncedResize,!1)}resize=()=>{this.onWrapperResize(),this.onContentResize()};onWrapperResize=()=>{this.wrapper===window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)};onContentResize=()=>{this.wrapper===window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)};get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}}class G0{constructor(){this.events={}}emit(t,...n){let r=this.events[t]||[];for(let i=0,s=r.length;i<s;i++)r[i](...n)}on(t,n){return this.events[t]?.push(n)||(this.events[t]=[n]),()=>{this.events[t]=this.events[t]?.filter((r=>n!==r))}}off(t,n){this.events[t]=this.events[t]?.filter((r=>n!==r))}destroy(){this.events={}}}const pg=100/6;class WD{constructor(t,{wheelMultiplier:n=1,touchMultiplier:r=1}){this.element=t,this.wheelMultiplier=n,this.touchMultiplier=r,this.touchStart={x:null,y:null},this.emitter=new G0,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,{passive:!1}),this.element.addEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.addEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.addEventListener("touchend",this.onTouchEnd,{passive:!1})}on(t,n){return this.emitter.on(t,n)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,{passive:!1}),this.element.removeEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.removeEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.removeEventListener("touchend",this.onTouchEnd,{passive:!1})}onTouchStart=t=>{const{clientX:n,clientY:r}=t.targetTouches?t.targetTouches[0]:t;this.touchStart.x=n,this.touchStart.y=r,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:t})};onTouchMove=t=>{const{clientX:n,clientY:r}=t.targetTouches?t.targetTouches[0]:t,i=-(n-this.touchStart.x)*this.touchMultiplier,s=-(r-this.touchStart.y)*this.touchMultiplier;this.touchStart.x=n,this.touchStart.y=r,this.lastDelta={x:i,y:s},this.emitter.emit("scroll",{deltaX:i,deltaY:s,event:t})};onTouchEnd=t=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:t})};onWheel=t=>{let{deltaX:n,deltaY:r,deltaMode:i}=t;n*=i===1?pg:i===2?this.windowWidth:1,r*=i===1?pg:i===2?this.windowHeight:1,n*=this.wheelMultiplier,r*=this.wheelMultiplier,this.emitter.emit("scroll",{deltaX:n,deltaY:r,event:t})};onWindowResize=()=>{this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight}}class jD{constructor({wrapper:t=window,content:n=document.documentElement,wheelEventsTarget:r=t,eventsTarget:i=r,smoothWheel:s=!0,syncTouch:o=!1,syncTouchLerp:a=.075,touchInertiaMultiplier:c=35,duration:u,easing:l=(I=>Math.min(1,1.001-Math.pow(2,-10*I))),lerp:d=!u&&.1,infinite:p=!1,orientation:f="vertical",gestureOrientation:h="vertical",touchMultiplier:m=1,wheelMultiplier:g=1,autoResize:S=!0,__experimental__naiveDimensions:b=!1}={}){this.__isSmooth=!1,this.__isScrolling=!1,this.__isStopped=!1,this.__isLocked=!1,this.onVirtualScroll=({deltaX:I,deltaY:E,event:T})=>{if(T.ctrlKey)return;const w=T.type.includes("touch"),y=T.type.includes("wheel");if(this.options.syncTouch&&w&&T.type==="touchstart"&&!this.isStopped&&!this.isLocked)return void this.reset();const k=I===0&&E===0,C=this.options.gestureOrientation==="vertical"&&E===0||this.options.gestureOrientation==="horizontal"&&I===0;if(k||C)return;let v=T.composedPath();if(v=v.slice(0,v.indexOf(this.rootElement)),v.find((O=>{var B,$,P,A,U;return((B=O.hasAttribute)===null||B===void 0?void 0:B.call(O,"data-lenis-prevent"))||w&&(($=O.hasAttribute)===null||$===void 0?void 0:$.call(O,"data-lenis-prevent-touch"))||y&&((P=O.hasAttribute)===null||P===void 0?void 0:P.call(O,"data-lenis-prevent-wheel"))||((A=O.classList)===null||A===void 0?void 0:A.contains("lenis"))&&!(!((U=O.classList)===null||U===void 0)&&U.contains("lenis-stopped"))})))return;if(this.isStopped||this.isLocked)return void T.preventDefault();if(this.isSmooth=this.options.syncTouch&&w||this.options.smoothWheel&&y,!this.isSmooth)return this.isScrolling=!1,void this.animate.stop();T.preventDefault();let M=E;this.options.gestureOrientation==="both"?M=Math.abs(E)>Math.abs(I)?E:I:this.options.gestureOrientation==="horizontal"&&(M=I);const R=w&&this.options.syncTouch,L=w&&T.type==="touchend"&&Math.abs(M)>5;L&&(M=this.velocity*this.options.touchInertiaMultiplier),this.scrollTo(this.targetScroll+M,Object.assign({programmatic:!1},R?{lerp:L?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}))},this.onNativeScroll=()=>{if(!this.__preventNextScrollEvent&&!this.isScrolling){const I=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.direction=Math.sign(this.animatedScroll-I),this.emit()}},window.lenisVersion="1.0.42",t!==document.documentElement&&t!==document.body||(t=window),this.options={wrapper:t,content:n,wheelEventsTarget:r,eventsTarget:i,smoothWheel:s,syncTouch:o,syncTouchLerp:a,touchInertiaMultiplier:c,duration:u,easing:l,lerp:d,infinite:p,gestureOrientation:h,orientation:f,touchMultiplier:m,wheelMultiplier:g,autoResize:S,__experimental__naiveDimensions:b},this.animate=new zD,this.emitter=new G0,this.dimensions=new HD({wrapper:t,content:n,autoResize:S}),this.toggleClassName("lenis",!0),this.velocity=0,this.isLocked=!1,this.isStopped=!1,this.isSmooth=o||s,this.isScrolling=!1,this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll=new WD(i,{touchMultiplier:m,wheelMultiplier:g}),this.virtualScroll.on("scroll",this.onVirtualScroll)}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.toggleClassName("lenis",!1),this.toggleClassName("lenis-smooth",!1),this.toggleClassName("lenis-scrolling",!1),this.toggleClassName("lenis-stopped",!1),this.toggleClassName("lenis-locked",!1)}on(t,n){return this.emitter.on(t,n)}off(t,n){return this.emitter.off(t,n)}setScroll(t){this.isHorizontal?this.rootElement.scrollLeft=t:this.rootElement.scrollTop=t}resize(){this.dimensions.resize()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.animate.stop()}start(){this.isStopped&&(this.isStopped=!1,this.reset())}stop(){this.isStopped||(this.isStopped=!0,this.animate.stop(),this.reset())}raf(t){const n=t-(this.time||t);this.time=t,this.animate.advance(.001*n)}scrollTo(t,{offset:n=0,immediate:r=!1,lock:i=!1,duration:s=this.options.duration,easing:o=this.options.easing,lerp:a=!s&&this.options.lerp,onComplete:c,force:u=!1,programmatic:l=!0}={}){if(!this.isStopped&&!this.isLocked||u){if(["top","left","start"].includes(t))t=0;else if(["bottom","right","end"].includes(t))t=this.limit;else{let d;if(typeof t=="string"?d=document.querySelector(t):t?.nodeType&&(d=t),d){if(this.options.wrapper!==window){const f=this.options.wrapper.getBoundingClientRect();n-=this.isHorizontal?f.left:f.top}const p=d.getBoundingClientRect();t=(this.isHorizontal?p.left:p.top)+this.animatedScroll}}if(typeof t=="number"){if(t+=n,t=Math.round(t),this.options.infinite?l&&(this.targetScroll=this.animatedScroll=this.scroll):t=V0(0,t,this.limit),r)return this.animatedScroll=this.targetScroll=t,this.setScroll(this.scroll),this.reset(),void(c==null||c(this));if(!l){if(t===this.targetScroll)return;this.targetScroll=t}this.animate.fromTo(this.animatedScroll,t,{duration:s,easing:o,lerp:a,onStart:()=>{i&&(this.isLocked=!0),this.isScrolling=!0},onUpdate:(d,p)=>{this.isScrolling=!0,this.velocity=d-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=d,this.setScroll(this.scroll),l&&(this.targetScroll=d),p||this.emit(),p&&(this.reset(),this.emit(),c?.(this),this.__preventNextScrollEvent=!0,requestAnimationFrame((()=>{delete this.__preventNextScrollEvent})))}})}}}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){return this.isHorizontal?this.rootElement.scrollLeft:this.rootElement.scrollTop}get scroll(){return this.options.infinite?(t=this.animatedScroll,n=this.limit,(t%n+n)%n):this.animatedScroll;var t,n}get progress(){return this.limit===0?1:this.scroll/this.limit}get isSmooth(){return this.__isSmooth}set isSmooth(t){this.__isSmooth!==t&&(this.__isSmooth=t,this.toggleClassName("lenis-smooth",t))}get isScrolling(){return this.__isScrolling}set isScrolling(t){this.__isScrolling!==t&&(this.__isScrolling=t,this.toggleClassName("lenis-scrolling",t))}get isStopped(){return this.__isStopped}set isStopped(t){this.__isStopped!==t&&(this.__isStopped=t,this.toggleClassName("lenis-stopped",t))}get isLocked(){return this.__isLocked}set isLocked(t){this.__isLocked!==t&&(this.__isLocked=t,this.toggleClassName("lenis-locked",t))}get className(){let t="lenis";return this.isStopped&&(t+=" lenis-stopped"),this.isLocked&&(t+=" lenis-locked"),this.isScrolling&&(t+=" lenis-scrolling"),this.isSmooth&&(t+=" lenis-smooth"),t}toggleClassName(t,n){this.rootElement.classList.toggle(t,n),this.emitter.emit("className change",this)}}const X0="6LeoRfYrAAAAANpaxG70cHRmK5ciRKf7sVt9Crnz",qD={apiKey:"AIzaSyB7Xa5tZYVenPEkkjB0KVJDkoV7pQ7_QcQ",authDomain:"thesinsofthefathers.com",databaseURL:"https://sins-of-the-fathers-default-rtdb.europe-west1.firebasedatabase.app",projectId:"sins-of-the-fathers",storageBucket:"sins-of-the-fathers.appspot.com",messagingSenderId:"287213062167",appId:"1:287213062167:web:1f863b4e96641570f5b452",measurementId:"G-9H3782YN0N"};let ni,Md,YD,ns,hc,K0,VD;try{ni=nb(qD),(location.hostname==="localhost"||location.hostname==="127.0.0.1")&&(self.FIREBASE_APPCHECK_DEBUG_TOKEN="CEB3654D-BDB3-420E-8BBA-DC35A0DCB72A",console.log("%c[SEC] Debug Token Injector :: ACTIVE","color: #00ff00; background: #000;")),hb(ni,{provider:new mb(X0),isTokenAutoRefreshEnabled:!0}),Md=rb(ni),ns=sb(ni),VD=pb(ni),YD=ib(ni),K0=new ob,hc=fb(ni,"europe-west3"),console.log("%c[SYSTEM] TSOF Secure Link :: ESTABLISHED","color: #c5a059; background: #050505; padding: 4px; border-left: 2px solid #c5a059; font-family: monospace;")}catch(e){console.error("%c[CRITICAL FAILURE] Core services could not initialize.","color: #ef4444; background: #000; font-weight: bold;"),console.error(e)}function Fn(e,t,n="info"){e&&(e.textContent=`> ${t}`,n==="error"?e.className="text-red-500 font-mono text-xs animate-pulse":n==="success"?e.className="text-gold font-mono text-xs":e.className="text-gray-500 font-mono text-xs")}function GD(){let e=document.getElementById("toast-container");return e||(e=document.createElement("div"),e.id="toast-container",Object.assign(e.style,{position:"fixed",right:"20px",bottom:"20px",zIndex:"9999",display:"flex",flexDirection:"column",gap:"10px"}),document.body.appendChild(e)),e}function gl(e,t,{timeout:n=5e3}={}){const r=GD(),i=document.createElement("div"),s="#4a0404",o="#ff5555",a=" ERROR:";return Object.assign(i.style,{minWidth:"280px",maxWidth:"400px",padding:"15px",background:"#050505",borderLeft:`3px solid ${s}`,borderTop:"1px solid #222",borderRight:"1px solid #222",borderBottom:"1px solid #222",boxShadow:"0 10px 30px rgba(0,0,0,0.9)",color:"#ccc",fontFamily:"'Courier Prime', monospace",fontSize:"12px",display:"flex",alignItems:"flex-start",gap:"12px",opacity:"0",transform:"translateY(20px)",transition:"all 0.3s ease"}),i.innerHTML=`
    <span style="color:${o}; font-weight:bold; white-space:nowrap;">${a}</span>
    <span style="line-height:1.4;">${t}</span>
  `,requestAnimationFrame(()=>{i.style.opacity="1",i.style.transform="translateY(0)"}),r.appendChild(i),n>0&&setTimeout(()=>{i.style.opacity="0",i.style.transform="translateY(10px)",setTimeout(()=>{i.parentNode&&i.parentNode.removeChild(i)},300)},n),i}function _l(e){if(!e)return"Unknown system failure.";switch(e.code||""){case"auth/email-already-in-use":return"Identity already exists in the database.";case"auth/invalid-email":return"Invalid communication frequency (Email).";case"auth/invalid-credential":return"Access Denied: Credentials rejected.";case"auth/weak-password":return"Security Alert: Key is too weak (Min 6 chars).";case"auth/user-not-found":return"Operative not found in archives.";case"auth/wrong-password":return"Encryption key mismatch (Wrong Password).";default:return e.message||"System malfunction."}}let XD=new Promise(e=>{if(window.grecaptcha&&window.grecaptcha.execute)e();else{const t=setInterval(()=>{window.grecaptcha&&window.grecaptcha.execute&&(clearInterval(t),e())},500)}});async function yl(e="auth"){try{return await XD,await window.grecaptcha.execute(X0,{action:e})}catch(t){return console.error("Bot detection failed:",t),null}}function Od(){const e=document.getElementById("auth-register-form"),t=document.getElementById("auth-login-form"),n=document.getElementById("google-signin-btn"),r=document.getElementById("google-signin-btn-register"),i=document.getElementById("auth-message"),s=document.getElementById("switch-to-login"),o=document.getElementById("switch-to-register");if(t&&e&&s&&o){const u=l=>{const d=document.querySelector("h1")||document.getElementById("form-title");l?(t.classList.add("hidden"),e.classList.remove("hidden"),d&&(d.innerHTML=De.t("login_page.dynamic_title_register"))):(e.classList.add("hidden"),t.classList.remove("hidden"),d&&(d.innerHTML=De.t("login_page.dynamic_title_login")))};o.addEventListener("click",l=>{l.preventDefault(),u(!0)}),s.addEventListener("click",l=>{l.preventDefault(),u(!1)})}e&&e.addEventListener("submit",async u=>{u.preventDefault();const l=e.querySelector('input[name="email"]').value.trim(),d=e.querySelector('input[name="password"]').value.trim();Fn(i,"Initiating vetting protocol...","info");try{const p=await yl("signup");await xu(hc,"verifyRecaptchaToken")({token:p,action:"signup"}),Fn(i,"Creating dossier...","info");const h=await ab(ns,l,d);await Sp(bp(Md,"users",h.user.uid),{email:l,provider:"password",createdAt:Ep(),role:"recruit",faction:"undecided"},{merge:!0}),Fn(i,"Identity Verified. Redirecting...","success"),setTimeout(()=>window.location.href="./pages/profile.html",1e3)}catch(p){gl("error",_l(p)),Fn(i,"Registration Failed.","error")}}),t&&t.addEventListener("submit",async u=>{u.preventDefault();const l=t.querySelector('input[name="email"]').value.trim(),d=t.querySelector('input[name="password"]').value.trim();Fn(i,"Decrypting credentials...","info");try{const p=await yl("login");await xu(hc,"verifyRecaptchaToken")({token:p,action:"login"}),Fn(i,"Access Granted.","success"),await cb(ns,l,d),setTimeout(()=>window.location.href="../index.html",800)}catch(p){gl("error",_l(p)),Fn(i,"Access Denied.","error")}});const a=async u=>{u.preventDefault(),Fn(i,"Contacting Google satellites...","info");try{const l=await yl("google_signin");await xu(hc,"verifyRecaptchaToken")({token:l,action:"google_signin"});const f=(await db(ns,K0)).user;await Sp(bp(Md,"users",f.uid),{email:f.email,displayName:f.displayName||null,photoURL:f.photoURL||null,provider:"google",lastLogin:Ep()},{merge:!0}),Fn(i,"Biometrics confirmed.","success"),setTimeout(()=>window.location.href="/public/index.html",800)}catch(l){gl("error",_l(l)),Fn(i,"Signal Lost.","error")}};n&&n.addEventListener("click",a),r&&r.addEventListener("click",a),ub(ns,u=>{const l=document.getElementById("auth-signin-link"),d=document.querySelectorAll(".guest-only, .guest-lock");if(u)l&&(l.style.display="none"),d.forEach(p=>p.style.display="none"),c(u),document.querySelectorAll(".restricted-overlay").forEach(p=>p.style.display="none"),document.querySelectorAll(".restricted-content").forEach(p=>p.classList.remove("restricted-content-blur"));else{l&&(l.style.display="flex"),d.forEach(f=>f.style.display="flex");const p=document.getElementById("user-menu");p&&p.remove(),document.querySelectorAll(".restricted-overlay").forEach(f=>f.style.display="flex"),document.querySelectorAll(".restricted-content").forEach(f=>f.classList.add("restricted-content-blur"))}});function c(u){const l=document.getElementById("auth-controls");if(!l||document.getElementById("user-menu"))return;const d=document.createElement("div");d.id="user-menu",d.className="relative ml-6";const p=u.photoURL?u.photoURL:`https://ui-avatars.com/api/?name=${encodeURIComponent(u.email)}&background=c5a059&color=000`;d.innerHTML=`
      <button id="user-menu-btn" class="flex items-center gap-2 group focus:outline-none">
         <span class="hidden md:block text-[10px] font-mono text-gray-400 group-hover:text-gold tracking-widest uppercase">
            ${De.t("agent_display",{name:u.displayName?u.displayName.split(" ")[0]:"Unknown"})}
         </span>
         <img class="w-8 h-8 rounded-sm object-cover border border-gray-700 group-hover:border-gold transition-colors" src="${p}" alt="ID" />
      </button>

      <div id="user-dropdown" class="hidden absolute right-0 mt-4 w-56 bg-obsidian border border-gold/30 shadow-[0_0_20px_rgba(0,0,0,0.8)] z-50 backdrop-blur-xl">
          <!-- Corner Decoration -->
          <div class="absolute -top-1 -left-1 w-2 h-2 border-t border-l border-gold opacity-50"></div>
          <div class="absolute -bottom-1 -right-1 w-2 h-2 border-b border-r border-gold opacity-50"></div>
          
          <div class="px-4 py-3 border-b border-white/5">
             <p class="text-[10px] text-gray-500 font-mono uppercase tracking-widest">Current Identity</p>
             <p class="text-xs text-gold truncate font-mono">${u.email}</p>
          </div>
          
          <div class="py-1">
            <a href="/public/pages/profile.html" class="block px-4 py-2 text-xs text-gray-300 hover:bg-white/5 hover:text-white font-serif uppercase tracking-wide transition-colors">
                <i class="fas fa-id-card mr-2 text-gold/70"></i> Access File
            </a>
          </div>

          <div class="border-t border-white/10">
            <button id="menu-signout-btn" class="w-full text-left px-4 py-3 text-xs text-red-800 hover:text-red-500 hover:bg-red-900/10 font-mono uppercase tracking-widest transition-colors">
                <i class="fas fa-power-off mr-2"></i> Disconnect
            </button>
          </div>
      </div>
    `,l.appendChild(d);const f=document.getElementById("user-menu-btn"),h=document.getElementById("user-dropdown"),m=document.getElementById("menu-signout-btn");f.addEventListener("click",g=>{g.stopPropagation(),h.classList.toggle("hidden")}),m.addEventListener("click",async()=>{try{await lb(ns),window.location.href="/public/index.html"}catch(g){console.error(g)}}),document.addEventListener("click",g=>{d.contains(g.target)||h.classList.add("hidden")})}}const KD=Object.freeze(Object.defineProperty({__proto__:null,default:Od,initAuth:Od},Symbol.toStringTag,{value:"Module"}));function JD(){const e=document.getElementById("hamburger-button"),t=document.getElementById("mobile-menu");if(!e||!t)return;const n=t.querySelectorAll("a");let r=!1;const i=Di.timeline({paused:!0,reversed:!0});i.to(t,{duration:.1,display:"flex",onStart:()=>{t.classList.remove("hidden")}}).to(t,{duration:.5,opacity:1,backdropFilter:"blur(20px)",ease:"power2.inOut"},"<").from(n,{y:40,opacity:0,duration:.6,stagger:.1,ease:"back.out(1.7)"},"-=0.3"),e.addEventListener("click",s=>{s.stopPropagation(),r=!r,e.classList.toggle("active"),e.setAttribute("aria-expanded",r),r?(i.play(),document.body.style.overflow="hidden"):(i.reverse(),document.body.style.overflow="")}),n.forEach(s=>{s.addEventListener("click",()=>{r&&(r=!1,e.classList.remove("active"),e.setAttribute("aria-expanded","false"),i.reverse(),document.body.style.overflow="")})}),document.addEventListener("keydown",s=>{s.key==="Escape"&&r&&(r=!1,e.classList.remove("active"),e.setAttribute("aria-expanded","false"),i.reverse(),document.body.style.overflow="")})}const Zs=window.Howl;let Pd={},rs=null,_p=localStorage.getItem("tsof_muted")==="true";const Ya={hover:"/assets/audio/hover.mp3",click:"/assets/audio/click.mp3",denied:"/assets/audio/error.mp3",ambience:"/assets/audio/ambience.mp3"},QD=()=>{if(!Zs){console.warn("Howler.js not found!");return}Pd={hover:new Zs({src:[Ya.hover],volume:.03,preload:!0}),click:new Zs({src:[Ya.click],volume:.15,preload:!0}),denied:new Zs({src:[Ya.denied],volume:.1,preload:!0})},rs=new Zs({src:[Ya.ambience],html5:!1,loop:!0,volume:0,autoplay:!1,pool:5})},hg=e=>{_p||!Pd[e]||Pd[e].play()},ZD=()=>{_p||!rs||rs.playing()||(rs.volume(0),rs.play(),rs.fade(0,.005,1e4),console.log(" > Audio Protocol: Ambience Initiated (Level: 0.5% - Subliminal)."))},tN=()=>{document.addEventListener("click",()=>{ZD()},{once:!0}),document.body.addEventListener("mouseover",e=>{const t=e.target.closest("a, button, .clickable");t&&!t.dataset.soundPlayed&&(hg("hover"),t.dataset.soundPlayed="true",t.addEventListener("mouseleave",()=>{delete t.dataset.soundPlayed},{once:!0}))}),document.body.addEventListener("click",e=>{e.target.closest("a, button, .clickable")&&hg("click")})},eN=()=>{QD(),tN(),_p&&window.Howler.mute(!0),console.log(" > Audio System: ONLINE")},nN=()=>{if(localStorage.getItem("tsof_cookie_consent")||document.getElementById("cookie-popup"))return;const e=`
        <div id="cookie-popup" class="fixed bottom-0 right-0 m-4 md:m-8 max-w-sm w-full bg-obsidian border border-gold/30 shadow-[0_0_30px_rgba(0,0,0,0.8)] z-50 p-6 opacity-0 transform translate-y-10 backdrop-blur-md">
            <div class="absolute top-0 left-0 w-2 h-2 border-t border-l border-gold"></div>
            <div class="absolute top-0 right-0 w-2 h-2 border-t border-r border-gold"></div>
            <div class="absolute bottom-0 left-0 w-2 h-2 border-b border-l border-gold"></div>
            <div class="absolute bottom-0 right-0 w-2 h-2 border-b border-r border-gold"></div>

            <div class="flex items-start gap-4">
                <div class="text-gold text-2xl mt-1">
                    <i class="fas fa-shield-alt animate-pulse"></i>
                </div>
                <div>
                    <h4 class="text-gold font-serif text-sm uppercase tracking-widest mb-2 border-b border-white/10 pb-1" data-i18n="cookie_consent.title">
                        ${De.t("cookie_consent.title")}
                    </h4>
                    <p class="text-gray-400 font-mono text-[10px] leading-relaxed mb-4">
                        <span data-i18n="cookie_consent.text">${De.t("cookie_consent.text")}</span>
                        <a href="/pages/privacy.html" class="text-white underline hover:text-gold ml-1 transition-colors" data-i18n="cookie_consent.policy_link">${De.t("cookie_consent.policy_link")}</a>.
                    </p>
                    
                    <div class="flex gap-3">
                        <button id="btn-accept-cookies" class="flex-1 bg-gold/10 border border-gold text-gold hover:bg-gold hover:text-black text-[10px] font-bold uppercase py-2 tracking-wider transition-all" data-i18n="cookie_consent.accept">
                            ${De.t("cookie_consent.accept")}
                        </button>
                        <button id="btn-decline-cookies" class="flex-1 border border-white/20 text-gray-500 hover:text-white hover:border-white text-[10px] font-bold uppercase py-2 tracking-wider transition-all" data-i18n="cookie_consent.decline">
                            ${De.t("cookie_consent.decline")}
                        </button>
                    </div>
                </div>
            </div>
        </div>
    `;document.body.insertAdjacentHTML("beforeend",e);const t=document.getElementById("cookie-popup"),n=document.getElementById("btn-accept-cookies"),r=document.getElementById("btn-decline-cookies");Di.to(t,{opacity:1,y:0,duration:.8,delay:2.5,ease:"power3.out"});const i=s=>{localStorage.setItem("tsof_cookie_consent",s),Di.to(t,{opacity:0,y:20,duration:.5,ease:"power2.in",onComplete:()=>t.remove()}),s==="accepted"?(console.log(" > System: Tracking Authorized."),window.enableTrackingSystem&&window.enableTrackingSystem()):console.log(" > System: Tracking Denied.")};n.addEventListener("click",()=>i("accepted")),r.addEventListener("click",()=>i("declined"))};Di.registerPlugin(ot);const J0=new jD;J0.on("scroll",ot.update);function Q0(e){J0.raf(e),requestAnimationFrame(Q0)}requestAnimationFrame(Q0);const rN=Object.assign({"./modules/auth/auth.js":()=>Je(()=>Promise.resolve().then(()=>KD),void 0),"./modules/auth/profile.js":()=>Je(()=>import("./profile-KNKcuZNJ.js"),[]),"./modules/loaders/character-detail-loader.js":()=>Je(()=>import("./character-detail-loader-RjNRRv5p.js"),__vite__mapDeps([0,1,2,3])),"./modules/loaders/character-loader.js":()=>Je(()=>import("./character-loader-DsJypAmq.js"),__vite__mapDeps([4,1,2,3])),"./modules/loaders/d3-family-tree.js":()=>Je(()=>import("./d3-family-tree-BwyiXZ31.js"),[]),"./modules/loaders/faction-detail-loader.js":()=>Je(()=>import("./faction-detail-loader-B-338A4K.js"),__vite__mapDeps([5,1,3])),"./modules/loaders/faction-loader.js":()=>Je(()=>import("./faction-loader-C6RM5Yp1.js"),__vite__mapDeps([6,1,3])),"./modules/loaders/location-detail-loader.js":()=>Je(()=>import("./location-detail-loader-CJeQwqlG.js"),__vite__mapDeps([7,1,2,3])),"./modules/loaders/location-loader.js":()=>Je(()=>import("./location-loader-B3A4Gfcz.js"),__vite__mapDeps([8,1,3])),"./modules/loaders/lore-detail-loader.js":()=>Je(()=>import("./lore-detail-loader-D6Fr8u_f.js"),__vite__mapDeps([9,1,2])),"./modules/loaders/lore-loader.js":()=>Je(()=>import("./lore-loader-DAL7vCJm.js"),__vite__mapDeps([10,1,2,3])),"./modules/loaders/map-loader.js":()=>Je(()=>import("./map-loader-DTJmICB5.js"),__vite__mapDeps([11,1,3])),"./modules/loaders/timeline-loader.js":()=>Je(()=>import("./timeline-loader-Bl_6LujT.js"),__vite__mapDeps([12,1,3]))});function mg(){window.isMonitoringActive||(console.log(" > System: Security Protocols (Sentry) Activated."),Qk({dsn:"https://9a12c94e774235b975e6820692f11ba4@o4510453482520576.ingest.de.sentry.io/4510453491105872",integrations:[eP(),LO()],tracesSampleRate:1,tracePropagationTargets:["localhost",/^https:\/\/thesinsofthefathers\.com/],replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1}),window.isMonitoringActive=!0)}function Z0(){if(!De.isInitialized)return;document.querySelectorAll("[data-i18n]").forEach(t=>{const n=t.getAttribute("data-i18n"),r=De.t(n);t.tagName==="INPUT"||t.tagName==="TEXTAREA"?t.placeholder=r:t.innerHTML=r});const e=document.body.getAttribute("data-page-title-key");e&&(document.title=De.t(e))}const iN=[{id:["protagonists-gallery","main-characters-gallery"],log:" > Personnel Database Detected",modulePath:"./modules/loaders/character-loader.js",loaderFn:"displayCharacters"},{id:"character-dossier",log:" > Dossier Decryption Started",modulePath:"./modules/loaders/character-detail-loader.js",loaderFn:"loadCharacterDetails"},{id:"factions-grid",log:" > Tactical Overview Initialized",modulePath:"./modules/loaders/faction-loader.js",loaderFn:"displayFactions"},{id:"faction-title",log:" > Faction Intel Access Requested",modulePath:"./modules/loaders/faction-detail-loader.js",loaderFn:"loadFactionDetails"},{id:"timeline-embed",log:" > Constructing Chronology",modulePath:"./modules/loaders/timeline-loader.js",loaderFn:"displayTimeline"},{id:"map",log:" > Satellite Uplink Establishing...",modulePath:"./modules/loaders/location-loader.js",loaderFn:"displayLocations"},{id:"location-intel",log:" > Focusing Drone Feed",modulePath:"./modules/loaders/location-detail-loader.js",loaderFn:"loadLocationDetails"},{id:"archive-grid",log:" > Archive Access Granted",modulePath:"./modules/loaders/lore-loader.js",loaderFn:"displayLoreList"},{id:"evidence-container",log:" > Examining Evidence",modulePath:"./modules/loaders/lore-detail-loader.js",loaderFn:"loadLoreDetails"},{id:"profile-content",log:" > Verifying Biometrics",modulePath:"./modules/auth/profile.js",loaderFn:"loadProfilePage"}];async function sN(){try{const e=await UD();console.log(` > Language Protocol: LOADED [${e.toUpperCase()}]`),Z0(),nN();const t=document.querySelector(`.lang-btn[data-lang="${e.substring(0,2)}"]`);t&&(t.classList.add("text-white","font-bold","underline"),t.classList.remove("text-gray-500"));let n=!1;for(const r of iN)if((Array.isArray(r.id)?r.id:[r.id]).some(o=>document.getElementById(o))){console.log(r.log);try{const o=rN[r.modulePath];if(!o){console.error(`ERROR: Module path missing: ${r.modulePath}`);continue}const a=await o();a[r.loaderFn]&&(await a[r.loaderFn](),n=!0);break}catch(o){console.error(`ERROR: ${r.log}`,o),window.isMonitoringActive&&Sc(o,{tags:{module:r.modulePath}})}}n||console.log(" > Standby Mode: Static Page Active.")}catch(e){console.error(" ! Deferred System Failure:",e),window.isMonitoringActive&&Sc(e)}}document.addEventListener("DOMContentLoaded",()=>{console.log("%c TSOF // SYSTEM ONLINE ","color: #000; background: #c5a059; padding: 5px; font-weight: bold; font-family: monospace;"),Di.set("body",{autoAlpha:0}),localStorage.getItem("tsof_cookie_consent")==="accepted"&&mg(),window.enableTrackingSystem=()=>mg(),window.changeAppLanguage=async e=>{try{await BD(e),Z0(),document.querySelectorAll(".lang-btn").forEach(t=>{t.classList.remove("text-white","font-bold","underline"),t.classList.add("text-gray-500"),t.dataset.lang===e&&(t.classList.add("text-white","font-bold","underline"),t.classList.remove("text-gray-500"))})}catch(t){console.error("Language Switch Error:",t),window.isMonitoringActive&&Sc(t)}},JD(),Od(),eN(),Di.to("body",{autoAlpha:1,duration:1.2,ease:"power2.inOut"}),setTimeout(sN,100)});export{ot as S,Je as _,ns as a,Md as d,Di as g,VD as s};
